<html><body><script type='text/javascript'>function b(c){this.c=c.d("name");this.e=10;this.f=new g(200,150,1);this.h=new g();}{b.prototype.i=function (j,k,l,m,n){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var s=this.e*h.t;var u=l.split("\n").length-1;var v=new g(200,s*u).w(h);var x=new g(100,65 -s*(u/4),).w(h);var y=new z("labelMessage",x,v,true,l,s);var A=[y];var B=m.length;var C=55;var D=new g(C,s).w(h);var E=5;var F=(this.f.G-(C*B)-(E*(B-1)))/2;for(var H=0;H<B;H++){var I=new J("buttonOption"+H,new g(F+H*(C+E),100
).w(h),D,m[H],this.e*h.t,true,true,n[H],j);A.push(I);}var K=k.L().M();var o=j.o;var N=o.p.L().M();var O=N.L().P(K).Q();var R=new S("containerChoice",O,K,A);return R;};b.prototype.T=function (j,k,l,U,V,W,X){var Y=10;var Z=new g(1,1).ab(Y);var s=20;var v=new g(k.G-Z.G*2,s);var D=new g(v.G,s*2);var bb=new g(v.G,k.t-v.t-D.t-Z.t*4
);var cb=new db("listOptions",new g(Z.G,v.t+Z.t*2),bb,U,V,s,null,null);var R=new S("containerChoice",g.eb().fb,k,[new z("labelMessage",new g(k.G/2,Z.t+s/2),v,true,l,s),cb,new J("buttonSelect",new g(Z.G,k.t-Z.t-D.t),D,W,s,true,true,function gb(j){var hb=cb.hb();if(hb!=null){X(j,hb);}},j,false),]);return R;};b.prototype.ib=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerConfigure",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonSave",new g(30,15).w(h),new g(65,25).w(h),"Save",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonLoad",new g(105,15).w(h),new g(65,25).w(h),"Load",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelMusicVolume",new g(30,50).w(h),new g(75,25).w(h),false,"Music:",this.e*h.t),new qb("selectMusicVolume",new g(65,45).w(h),new g(30,25).w(h),new rb(j.sb,"musicVolume"),tb.ub(),new rb(null,"value"),new rb(null,"text"),this.e*h.t),new z("labelSoundVolume",new g(105,50).w(h),new g(75,25).w(h),false,"Sound:",this.e*h.t),new qb("selectSoundVolume",new g(140,45).w(h),new g(30,25).w(h),new rb(j.sb,"soundVolume"),tb.ub(),new rb(null,"value"),new rb(null,"text"),this.e*h.t),new z("labelDisplaySize",new g(30,80).w(h),new g(75,25).w(h),false,"Display:",this.e*h.t),new qb("selectDisplaySize",new g(70,75).w(h),new g(60,25).w(h),j.o.vb,j.o.wb,new rb(),new rb(null,"toStringXY()"),this.e*h.t),new J("buttonDisplaySizeChange",new g(140,75).w(h),new g(30,25).w(h),"Change",this.e*h.t,true,true,function gb(j){var xb=j.ob.xb;var yb=xb.zb["selectDisplaySize"];var Ab=yb.Bb().Cb;var o=j.o;o.vb=Ab;o.Db(j);var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonResume",new g(30,105).w(h),new g(65,25).w(h),"Resume",this.e*h.t,true,true,function gb(j){var Eb=j.Eb;var jb=new Fb(Eb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonQuit",new g(105,105).w(h),new g(65,25).w(h),"Quit",this.e*h.t,true,true,function gb(j){var Gb=j.lb.Hb(j,k,"Are you sure you want to quit?",function Hb(j){j.Ib();var jb=new kb(j.lb.Jb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.Hb=function (j,k,l,Hb,Kb){return this.i(j,k,l,["Confirm","Cancel"],[Hb,Kb]);};b.prototype.l=function (j,k,l,Lb){return this.i(j,k,l,["Acknowledge"],[Lb]);};b.prototype.Mb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerProfileDetail",new g(0,0).w(h),new g(200,150).w(h),[new z("labelProfileName",new g(100,25).w(h),new g(120,25).w(h),true,"Profile: "+j.Nb.name,this.e*h.t),new z("labelSelectAWorld",new g(100,40).w(h),new g(100,25).w(h),true,"Select a World:",this.e*h.t),new db("listWorlds",new g(25,50).w(h),new g(150,50).w(h),new rb(j.Nb.Ob,null),new rb(null,"name"),this.e*h.t),new J("buttonNew",new g(50,110).w(h),new g(45,25).w(h),"New",this.e*h.t,true,true,function gb(j){var Eb=Pb.new (j);var Nb=j.Nb;Nb.Ob.push(Eb);j.Qb.Rb(Nb);j.Eb=Eb;var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSelect",new g(105,110).w(h),new g(45,25).w(h),"Select",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["listWorlds"].hb()!=null;}},"call()"),function gb(j){var Tb=this.Ub.zb["listWorlds"];var Vb=Tb.hb();if(Vb!=null){j.Eb=Vb;var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;}},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Gb=j.lb.Hb(j,k,"Delete profile \""+Nb.name+"\"?",function Hb(j){var Nb=j.Nb;j.Qb.Xb(Nb);var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.Yb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);return new S("containerProfileNew",new g(0,0).w(h),new g(200,150).w(h),[new z("labelName",new g(100,40).w(h),new g(100,25).w(h),true,"Profile Name:",this.e*h.t),new Zb("textBoxName",new g(50,50).w(h),new g(100,25).w(h),"",this.e*h.t),new J("buttonCreate",new g(50,80).w(h),new g(45,25).w(h),"Create",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["textBoxName"].text().length>0;}},"call()"),function gb(j){var ac=this.Ub.zb["textBoxName"];var bc=ac.text();if(bc==""){return ;}var Nb=new cc(bc,[]);j.Qb.dc(Nb);j.Nb=Nb;var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonCancel",new g(105,80).w(h),new g(45,25).w(h),"Cancel",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);};b.prototype.Wb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var ec=j.Qb.ec();var R=new S("containerProfileSelect",new g(0,0).w(h),new g(200,150).w(h),[new z("labelSelectAProfile",new g(100,40).w(h),new g(100,25).w(h),true,"Select a Profile:",this.e*h.t),new db("listProfiles",new g(50,50).w(h),new g(100,40).w(h),new rb(ec,null),"name",this.e*h.t),new J("buttonNew",new g(50,95).w(h),new g(30,25).w(h),"New",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Yb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSelect",new g(85,95).w(h),new g(30,25).w(h),"Select",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["listProfiles"].hb()!=null;}},"call()"),function gb(j){var fc=this.Ub.zb["listProfiles"];var gc=fc.hb();j.Nb=gc;var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSkip",new g(120,95).w(h),new g(30,25).w(h),"Skip",this.e*h.t,true,true,function gb(j){var Eb=Pb.new (j);var hc=ic.hc();var jc=hc.kc_lc_mc();var bc="Anon-"+jc;var Nb=new cc(bc,[Eb]);j.Nb=Nb;j.Eb=Eb;var jb=new Fb(j.Eb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Jb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Gb=j.lb.Hb(j,k,"Delete all profiles?",function Hb(j){j.Qb.nc();var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.oc=function (j,k,pc,qc){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var rc=[];for(var H=0;H<pc.length;H++){var sc=pc[H];var tc=sc[0];var l=sc[1];var uc=new S("containerSlide_"+H,new g(0,0).w(h),new g(200,150).w(h),[new vc("imageSlide",new g(0,0).w(h),new g(200,150).w(h),new wc(tc,k),),new z("labelSlideText",new g(100,this.e*2).w(h),new g(200,150).w(h),true,l,this.e*2
),new J("buttonNext",new g(75,120).w(h),new g(50,40).w(h),"Next",this.e,false,true,function gb(xc,j){var jb;if(xc<rc.length){var yc=rc[xc];jb=new kb(yc);}else {jb=qc;}jb=new nb(jb,j.ob);j.jb=jb;}.bind(this,H+1),j)]);rc.push(uc);}return rc[0];};b.prototype.Jb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerTitle",new g(0,0).w(h),new g(200,150).w(h),[new vc("imageTitle",new g(0,0).w(h),new g(200,150).w(h),new wc("Title",k),),new J("buttonStart",new g(75,100).w(h),new g(50,40).w(h),"Start",this.e*h.t*2,false,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j)]);return R;};b.prototype.Sb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var Eb=j.Eb;var zc=Eb.zc;var Ac=Eb.Ac;var R=new S("containerWorldDetail",new g(0,0).w(h),new g(200,150).w(h),[new z("labelProfileName",new g(100,40).w(h),new g(100,25).w(h),true,"Profile: "+j.Nb.name,this.e*h.t),new z("labelWorldName",new g(100,55).w(h),new g(150,25).w(h),true,"World: "+Eb.name,this.e*h.t),new z("labelStartDate",new g(100,70).w(h),new g(150,25).w(h),true,"Started:"+zc.Bc(),this.e*h.t),new z("labelSavedDate",new g(100,85).w(h),new g(150,25).w(h),true,"Saved:"+(Ac==null?"[never]":Ac.Bc()),this.e*h.t),new J("buttonStart",new g(50,100).w(h),new g(100,25).w(h),"Start",this.e*h.t,true,true,function gb(j){var Eb=j.Eb;var Cc=new Fb(Eb);var jb;if(Eb.Ac!=null){jb=Cc;}else {var Dc=j.Ec.Fc("Instructions");var Gc=Dc.Cb;var Hc=j.lb.l(j,k,Gc,function Lb(j){j.jb=new nb(Cc,j.ob);});var Ic=new kb(Hc);var Jc=new Kc("Movie",Ic);jb=Jc;}jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;var Gb=j.lb.Hb(j,k,"Delete world \""+Eb.name+"\"?",function Hb(j){var Nb=j.Nb;var Eb=j.Eb;var Ob=Nb.Ob;Ob.Lc(Eb);j.Eb=null;j.Qb.Rb(Nb);var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.pb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerWorldLoad",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonLoadFromServer",new g(30,15).w(h),new g(140,25).w(h),"Reload from Local Storage",this.e*h.t,true,true,function gb(j){var Gb=j.lb.Hb(j,k,"Abandon the current game?",function Hb(j){var Mc=j.Nb;var Nc=j.Qb.ec();for(var H=0;H<Nc.length;H++){var Oc=Nc[H];if(Oc.name==Mc.name){j.Nb=Oc;break;}}var Pc=j.Eb;var Qc=j.Nb.Ob;var Rc=null;for(var H=0;H<Qc.length;H++){var Sc=Qc[H];if(Sc.name==Pc.name){Rc=Sc;break;}}var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;if(Rc==null){jb=new kb(j.lb.l(j,k,"No save exists to reload!",function Lb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;}else {j.Eb=Sc;}},function Kb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonLoadFromFile",new g(30,50).w(h),new g(140,25).w(h),"Load from File",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;var Tc=new Uc(null);var Vc=new kb(j.lb.l(j,k,"Ready to load from file...",function Lb(j){function Wc(Xc){var Yc=Xc;var Zc=j.ad.bd(Yc);j.Eb=Zc;var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}var cd=Tc.dd.ed("input")[0];var fd=cd.gd[0];new hd().jd(fd,Wc,null);}));var kd=new kb(j.lb.l(j,k,"No file specified.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));Tc.ld=Vc;Tc.md=kd;j.jb=Tc;},j),new J("buttonReturn",new g(30,105).w(h),new g(140,25).w(h),"Return",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.mb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerSave",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonSaveToLocalStorage",new g(30,15).w(h),new g(140,25).w(h),"Save to Local Storage",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;Eb.Ac=ic.hc();j.Qb.Rb(Nb);var jb=new kb(j.lb.l(j,k,"Profile saved to local storage.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSaveToFile",new g(30,50).w(h),new g(140,25).w(h),"Save to File",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;Eb.Ac=ic.hc();var nd=j.ad.od(Eb);new hd().pd(nd,Eb.name+".json");var jb=new kb(j.lb.l(j,k,"Save must be completed manually.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonReturn",new g(30,105).w(h),new g(140,25).w(h),"Return",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};}function J(name,qd,k,text,rd,sd,td,gb,ud,vd){this.name=name;this.qd=qd;this.k=k;this.text=text;this.rd=rd;this.sd=sd;this._td=td;this.gb=gb;this.ud=ud;this.vd=(vd==null?false:vd);this.wd=false;this._xd=new yd(new g());this._zd=this.k.L().Q();}{J.prototype.Ad=function (Bd){if(Bd=="ControlConfirm"){this.gb(this.ud);}return (this.vd==false);};J.prototype.td=function (){return (this._td.Cd==null?this._td:this._td.Cd());};J.prototype.Dd=function (){this.wd=true;};J.prototype.Ed=function (){this.wd=false;};J.prototype.Fd=function (Gd){if(this.td()==true){this.gb(this.ud);}return (this.vd==false);};J.prototype.Hd=function (){this.wd=true;};J.prototype.Id=function (){this.wd=false;};J.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};J.prototype.Kd=function (j,o,xd){var Ld=this._xd.q(xd).qd;Ld.Md(this.qd);var td=this.td();var wd=this.wd&&td;var style=this.style(j);var Nd=style.Nd;var Od=style.Od;if(this.sd==true){o.Pd(Ld,this.k,Nd,Od,wd);}Ld.Md(this._zd);var Qd=(td==true?Od:style.Rd);o.Sd(this.text,this.rd,Ld,Qd,Nd,wd,true,this.k.G);};}function S(name,qd,k,zb){this.name=name;this.qd=qd;this.k=k;this.zb=zb;this.zb.d("name");for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Ub=this;}this.Ud=null;this.Vd=[];this.Wd=[];this._Xd=new g();this._Ld=new g();this._xd=new yd(this._Ld);this._Yd=new g();this._Zd=new g();this._ae=new g();}{S.prototype.td=function (){return true;};S.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};S.prototype.Ad=function (Bd){var be=false;var ce=this.ce();if(Bd=="ControlPrev"||Bd=="ControlNext"){be=true;var de=(Bd=="ControlPrev"?-1 :1);if(ce==null){ce=this.ee(de);if(ce!=null){ce.Dd();}}else if(ce.ce!=null){ce.Ad(Bd);if(ce.ce()==null){ce=this.ee(de);if(ce!=null){ce.Dd();}}}else {ce.Ed();ce=this.ee(de);if(ce!=null){ce.Dd();}}}else if(ce!=null){if(ce.Ad!=null){be=ce.Ad(Bd);}}return be;};S.prototype.ce=function (){return (this.Ud==null?null:this.zb[this.Ud]);};S.prototype.ee=function (de){if(this.Ud==null){var fe=(de==1 ?0 :this.zb.length-1);var ge=(de==1 ?this.zb.length:-1);for(var H=fe;H!=ge;H+=de){var Td=this.zb[H];if(Td.Dd!=null&&(Td.td==null||Td.td())){this.Ud=H;break;}}}else {var he=this.Ud;while(true){this.Ud+=de;var ie=this.Ud.je(0,this.zb.length-1
);if(ie==false){this.Ud=null;break;}else {var Td=this.zb[this.Ud];if(Td.Dd!=null&&(Td.td==null||Td.td())){break;}}}}var R=this.ce();return R;};S.prototype.ke=function (ae,le,me){ae=this._ae.q(ae).M();for(var H=this.zb.length-1;H>=0;H--){var Td=this.zb[H];var ne=ae.je(Td.qd,this._Xd.q(Td.qd).Md(Td.k));if(ne==true){le.push(Td);if(me==true){break;}}}return le;};S.prototype.Dd=function (){this.Ud=null;var ce=this.ee(1);if(ce!=null){ce.Dd();}};S.prototype.Ed=function (){var ce=this.ce();if(ce!=null){ce.Ed();this.Ud=null;}};S.prototype.Fd=function (Yd){Yd=this._Yd.q(Yd).P(this.qd);var Vd=this.ke(Yd,this.Vd.clear(),true);var oe=false;if(Vd.length>0){var Td=Vd[0];if(Td.Fd!=null){var pe=Td.Fd(Yd);if(pe==true){oe=true;}}}return oe;};S.prototype.qe=function (Zd){var re=this.Wd;this.Wd=this.Vd;this.Vd=re;Zd=this._Zd.q(Zd).P(this.qd);var Vd=this.ke(Zd,this.Vd.clear(),true);for(var H=0;H<Vd.length;H++){var Td=Vd[H];if(Td.qe!=null){Td.qe(Zd);}if(this.Wd.indexOf (Td)==-1){if(Td.Hd!=null){Td.Hd();}}}for(var H=0;H<this.Wd.length;H++){var Td=this.Wd[H];if(Vd.indexOf (Td)==-1){if(Td.Id!=null){Td.Id();}}}};S.prototype.Kd=function (j,o,xd){xd=this._xd.q(xd);var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.se,style.Od);var zb=this.zb;for(var H=0;H<zb.length;H++){var Td=zb[H];Td.Kd(j,o,xd);}};}function te(ue){this.ue=ue;}{te.prototype.ce=function (){return this.ue.ce();};te.prototype.ee=function (de){return this.ue.ee(de);};te.prototype.ke=function (ae,le,me){return this.ue.ke(ae,le,me);};te.prototype.Ad=function (Bd){return this.ue.Ad(Bd);};te.prototype.Fd=function (Yd){var Vd=this.ue.ke(Yd,this.ue.Vd.clear(),true);var oe=false;if(Vd.length>0){var Td=Vd[0];if(Td.Fd!=null){var pe=Td.Fd(Yd);if(pe==true){oe=true;}}}return oe;};te.prototype.qe=function (Zd){this.ue.qe(Zd);};te.prototype.Kd=function (j,o,xd){xd=this.ue._xd.q(xd);var Ld=this.ue._Ld.q(xd.qd).Md(this.ue.qd);o.Pd(Ld,this.ue.k,null,o.ve);var zb=this.ue.zb;for(var H=0;H<zb.length;H++){var Td=zb[H];Td.Kd(j,o,xd);}};}function we(name,qd,k,xe){this.name=name;this.qd=qd;this.k=k;this.xe=xe;this.ye=null;this.Td=null;this.Ld=new g();this.xd=new yd(this.Ld);this.Yd=new g();this.Zd=new g();}{we.prototype.Ad=function (Bd){var be=false;if(this.Td!=null){be=this.Td.Ad(Bd);}return be;};we.prototype.ce=function (){return (this.Td==null?null:this.Td.ce());};we.prototype.Dd=function (){if(this.Td!=null&&this.Td.Dd!=null){this.Td.Dd();}};we.prototype.Ed=function (){if(this.Td!=null&&this.Td.Ed!=null){this.Td.Ed();}};we.prototype.td=function (){return true;};we.prototype.Fd=function (Yd){var ze=false;if(this.Td!=null&&this.Td.Fd!=null){Yd=this.Yd.q(Yd).P(this.qd);ze=this.Td.Fd(Yd);}return ze;};we.prototype.Hd=function (){if(this.Td!=null&&this.Td.Hd!=null){return this.Td.Hd();}};we.prototype.Id=function (){if(this.Td!=null&&this.Td.Id!=null){return this.Td.Id();}};we.prototype.qe=function (Zd){if(this.Td!=null&&this.Td.qe!=null){Zd=this.Zd.q(Zd).P(this.qd);return this.Td.qe(Zd);}};we.prototype.Kd=function (j,o,xd){var Ae=this.xe.Cd();if(Ae!=this.ye){this.ye=Ae;if(Ae==null){this.Td=null;}else if(Ae.Be!=null){this.Td=Ae.Be(j,this.k);}}if(this.Td!=null){var xd=this.xd.q(xd);xd.qd.Md(this.qd);this.Td.Kd(j,o,xd);}};}function z(name,qd,k,Ce,text,rd){this.name=name;this.qd=qd;this.k=k;this.Ce=Ce;this._text=text;this.rd=rd;this._Ld=new g();}{z.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};z.prototype.text=function (){return (this._text.Cd==null?this._text:this._text.Cd());};z.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var text=this.text();if(text!=null){var De=(""+text).split("\n");for(var H=0;H<De.length;H++){var Ee=De[H];o.Sd(Ee,this.rd,Ld,style.Od,style.Nd,null,this.Ce,this.k.G);Ld.t+=this.rd;}}};}function db(name,qd,k,Fe,Ge,rd,He,Ie,Je){this.name=name;this.qd=qd;this.k=k;this._Fe=Fe;this.Ge=Ge;this.rd=rd;this.He=He;this.Ie=Ie;this.Je=Je;this.Ke=1.2 *this.rd;this.wd=false;var Le=this.Ke;this.Me=new Ne(new g(this.k.G-Le,0),new g(Le,this.k.t),this.rd,this.Ke,this._Fe,0 );this._Ld=new g();this._xd=new yd(this._Ld);this._Yd=new g();}{db.prototype.Ad=function (Bd){var be=false;if(Bd=="ControlIncrement"){this.Oe(1);be=true;}else if(Bd=="ControlDecrement"){this.Oe(-1);be=true;}return be;};db.prototype.Dd=function (){this.wd=true;};db.prototype.Ed=function (){this.wd=false;};db.prototype.Pe=function (){return this.Me.Qe();};db.prototype.Re=function (Se){var R=Se;var Fe=this.Fe();if(Se==null){R=Fe.indexOf (this.hb());if(R==-1){R=null;}}else {var Te=Fe[Se];this.hb(Te);}return R;};db.prototype.Ue=function (){return this.Pe()+Math.floor(this.Me.Ve)-1;};db.prototype.td=function (){return (this.Je==null?true:this.Je.Cd());};db.prototype.hb=function (We){var R=We;if(We==null){if(this._He==null){R=this._hb;}else {R=(this.He.Cd==null?this._hb:this.He.Cd());}}else {this._hb=We;if(this.He!=null){var Se=this.Ie.Xe(this._hb).Cd();this.He.Ye(Se);}}return R;};db.prototype.Oe=function (de){var Fe=this.Fe();var Ze=Fe.length;var hb=this.hb();var Re=this.Re();if(Re==null){if(Ze>0){if(de==1){Re=0;}else {Re=Ze-1;}}}else {Re=(Re+de).af(0,Ze-1);}var Te=(Re==null?null:Fe[Re]);this.hb(Te);var Pe=this.Pe();var Ue=this.Ue();var Re=this.Re();if(Re<Pe){this.Me.bf();}else if(Re>Ue){this.Me.cf();}var R=this.hb();return R;};db.prototype.Fe=function (){return (this._Fe.Cd==null?this._Fe:this._Fe.Cd());};db.prototype.Fd=function (Gd){Gd=this._Yd.q(Gd);if(Gd.G-this.qd.G>this.k.G-this.Me.df.G){if(Gd.t-this.qd.t<=this.Me.df.t){this.Me.bf();}else if(Gd.t-this.qd.t>=this.Me.k.t-this.Me.df.t){this.Me.cf();}else {var ef=Gd.P(this.Me.qd).P(new g(0,this.Me.df.t));}}else {var ff=Gd.t-this.qd.t;var gf=this.Pe()+Math.floor(ff/this.Ke);var Fe=this.Fe();if(gf<Fe.length){this.Re(gf);}}return true;};db.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};db.prototype.Kd=function (j,o,xd){xd=this._xd.q(xd);var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var ve=(this.wd==true?style.Nd:style.Od);var hf=(this.wd==true?style.Od:style.Nd);o.Pd(Ld,this.k,hf,style.Od,false);var jf=this.Ke;var kf=2;var lf=Ld.t;var Fe=this.Fe();if(Fe==null){return ;}var mf=Math.floor(this.k.t/jf);var nf=this.Pe();var of=nf+mf-1;if(of>=Fe.length){of=Fe.length-1;}var hb=this.hb();for(var H=nf;H<=of;H++){var pf=Fe[H];if(pf==hb){o.Pd(new g(Ld.G,lf),new g(this.k.G,jf),ve);}var text=this.Ge.Xe(pf).Cd();var qf=new g(Ld.G+kf,lf);o.Sd(text,this.rd,qf,ve,hf,(H==this.Re()),false,this.k.G);lf+=jf;}this.Me.Kd(j,o,xd);};}function Ne(qd,k,rd,rf,Fe,Qe){this.qd=qd;this.k=k;this.rd=rd;this.rf=rf;this._Fe=Fe;this._Qe=Qe;this.Ve=Math.floor(this.k.t/rf);this.df=new g(this.k.G,this.k.G);this.sf=new J(null,new g(0,0),this.df,"-",this.rd,true,true,this.bf);this.tf=new J(null,new g(0,this.k.t-this.df.t),this.df,"+",this.rd,true,true,this.cf);this._Ld=new g();}{Ne.prototype.Ad=function (Bd){return true;};Ne.prototype.Fe=function (){return (this._Fe.Cd==null?this._Fe:this._Fe.Cd());};Ne.prototype.Fd=function (j,Gd){};Ne.prototype.cf=function (){var Qe=(this.Qe()+1
).af(0,this.uf());this._Qe=Qe;};Ne.prototype.bf=function (){var Qe=(this.Qe()-1
).af(0,this.uf());this._Qe=Qe;};Ne.prototype.vf=function (){var vf=new g(this.df.G,this.k.t-2 *this.df.t);return vf;};Ne.prototype.Qe=function (){return this._Qe;};Ne.prototype.uf=function (){return this.Fe().length-Math.floor(this.Ve);};Ne.prototype.wf=function (){var wf=new g(this.k.G-this.df.G,this.df.t+this.Qe()*this.vf().t/this.Fe().length);return wf;};Ne.prototype.xf=function (){var xf=this.vf().w(new g(1,this.Ve/this.Fe().length));return xf;};Ne.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};Ne.prototype.Kd=function (j,o,xd){var Ze=this.Fe().length;if(this.Ve<Ze){var style=this.style(j);var ve=(this.wd==true?style.Nd:style.Od);var hf=(this.wd==true?style.Od:style.Nd);var Ld=this._Ld.q(xd.qd).Md(this.qd);o.Pd(Ld,this.k,ve,null);xd.qd.Md(this.qd);this.tf.Kd(j,o,xd);this.sf.Kd(j,o,xd);var wf=this.wf().Md(Ld);var xf=this.xf();o.Pd(wf,xf,hf,ve);}};}function qb(name,qd,k,yf,U,zf,V,rd){this.name=name;this.qd=qd;this.k=k;this._yf=yf;this._U=U;this.zf=zf;this.V=V;this.rd=rd;this.Af=null;var yf=this.yf();var U=this.U();for(var H=0;H<U.length;H++){var Bf=U[H];var Cf=this.zf.Xe(Bf).Cd();if(Cf==yf){this.Af=H;break;}}this.wd=false;this.Ld=new g();this.xd=new yd(this.Ld);this.zd=this.k.L().Q();}{qb.prototype.Ad=function (Bd){if(Bd=="ControlDecrement"){this.Df(1);}else if(Bd=="ControlIncrement"||Bd=="ControlConfirm"){this.Df(-1);}};qb.prototype.Dd=function (){this.wd=true;};qb.prototype.Ed=function (){this.wd=false;};qb.prototype.td=function (){return true;};qb.prototype.Bb=function (){var R=null;if(this.Af!=null){var Ef=this.U()[this.Af];var Cf=this.zf.Xe(Ef).Cd();var Ff=this.V.Xe(Ef).Cd();R=new Gf(Cf,Ff);};return R;};qb.prototype.Df=function (de){var U=this.U();this.Af=(this.Af+de).Hf(0,U.length);var Bb=this.Bb();if(this._yf!=null&&this._yf.constructor.name=="DataBinding"){this._yf.Ye(Bb.Cb);}else {this._yf=Bb.Cb;}};qb.prototype.U=function (){return (this._U.Cd==null?this._U:this._U.Cd());};qb.prototype.Fd=function (Gd){this.Df(1);return true;};qb.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};qb.prototype.yf=function (){return (this._yf==null?null:(this._yf.Cd==null?this._yf:this._yf.Cd()));};qb.prototype.Kd=function (j,o,xd){var Ld=this.Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.Nd,style.Od,this.wd);Ld.Md(this.zd);var Bb=this.Bb();var text=(Bb==null?"-":Bb.text);o.Sd(text,this.rd,Ld,style.Od,style.Nd,this.wd,true,this.k.G);};}function Gf(Cb,text){this.Cb=Cb;this.text=text;}function If(name,se,Nd,Od,Rd){this.name=name;this.se=se;this.Nd=Nd;this.Od=Od;this.Rd=Rd;}{If.eb=function (){if(If._eb==null){If._eb=new If_eb();}return If._eb;};function If_eb(){this.Jf=new If("Default","rgb(240, 240, 240)","White","Gray","LightGray");}}function Zb(name,qd,k,text,rd,Kf){this.name=name;this.qd=qd;this.k=k;this._text=text;this.rd=rd;this.Kf=Kf;this.wd=false;this.Lf=this.text().length;this._Ld=new g();this._Mf=new g();this._xd=new yd(this._Ld);this._Nf=new g();this._Of=new g();}{Zb.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};Zb.prototype.text=function (Cb,j){if(Cb!=null){if(this._text.Ye==null){this._text=Cb;}else {this._text.Ye(Cb);}}return (this._text.Cd==null?this._text:this._text.Cd(j));};Zb.prototype.Ad=function (Bd){var text=this.text();if(Bd=="ControlCancel"){this.text(text.substr(0,text.length-1));this.Lf=(this.Lf-1
).Hf(0,text.length+1
);}else if(Bd=="ControlConfirm"){this.Lf=(this.Lf+1
).Hf(0,text.length+1);}else if(Bd=="ControlIncrement"||Bd=="ControlDecrement"){var de=(Bd=="ControlIncrement"?-1 :1);var Pf=(this.Lf<text.length?text.charCodeAt(this.Lf):"A".charCodeAt(0)-1
);Pf=(Pf+de).Hf("A".charCodeAt(0),"Z".charCodeAt(0)+1
);var Qf=String.fromCharCode(Pf);this.text(text.substr(0,this.Lf)+Qf+text.substr(this.Lf+1));}else if(Bd.length==1 ||Bd.startsWith("_")){if(Bd.startsWith("_")){if(Bd=="_"){Bd=" ";}else {Bd=Bd.substr(1);}}if(this.Kf==null||text.length<this.Kf){text=this.text(text.substr(0,this.Lf)+Bd+text.substr(this.Lf));this.Lf=(this.Lf+1
).Hf(0,text.length+1
);}}return true;};Zb.prototype.Dd=function (){this.wd=true;};Zb.prototype.Ed=function (){this.wd=false;};Zb.prototype.Fd=function (Yd){var Ub=this.Ub;Ub.Ud=Ub.zb.indexOf (this);this.wd=true;};Zb.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var text=this.text();o.Pd(Ld,this.k,style.Nd,style.Od,this.wd);var Rf=o.Sf(text,this.rd);var Of=this._Of.Tf(Rf,this.rd,0);var Nf=this._Nf.q(this.k).P(Of).Q();var Mf=this._Mf.q(Ld).Md(Nf);o.Sd(text,this.rd,Mf,style.Od,style.Nd,this.wd,false,this.k.G);if(this.wd==true){var Uf=text.substr(0,this.Lf);var Vf=text.substr(this.Lf,1);var Wf=o.Sf(Uf,this.rd);var Xf=o.Sf(Vf,this.rd);Mf.G+=Wf;o.Pd(Mf,new g(Xf,this.rd),style.Nd,style.Nd);o.Sd(Vf,this.rd,Mf,style.Od,null,null,this.k.G);}};}function vc(name,qd,k,Yf){this.name=name;this.qd=qd;this.k=k;this.Yf=Yf;this._Ld=new g();this._Zf=new ag(new yd(this._Ld));this._zd=this.k.L().Q();}{vc.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};vc.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.Nd,style.Od);var Zf=this._Zf;Zf.bg.qd.q(Ld);Ld.Md(this._zd);this.Yf.Kd(j,j.Eb,o,Zf);};}function rb(ud,cg,dg){this.ud=ud;this.cg=cg;this.dg=dg;}{rb.prototype.Xe=function (Cb){this.ud=Cb;return this;};rb.prototype.Cd=function (){var R=this.ud;if(this.cg!=null){var eg=this.cg.split(".");for(var H=0;H<eg.length;H++){if(R==null){break;}var fg=eg[H];var gg=fg.indexOf ("(");if(gg!=-1){var hg=fg.substr(0,gg);if(R[hg]==null){R=null;}else {var ig=fg.indexOf (")");var jg=fg.substring(gg+1,ig);var kg=jg.split(" ").join("").split(",");var lg=[];for(var mg=0;mg<kg.length;mg++){var ng=kg[mg];if(ng.length>0){var og=this.dg[ng];lg.push(og);}}R=R[hg].apply(R,lg);}}else {R=R[fg];}}}return R;};rb.prototype.Ye=function (Se){var R=this.ud;if(this.cg!=null){var eg=this.cg.split(".");for(var H=0;H<eg.length-1;H++){if(R==null){break;}var fg=eg[H];var gg=fg.indexOf ("(");if(gg!=-1){var hg=fg.substr(0,gg);if(R[hg]==null){R=null;}else {var ig=fg.indexOf (")");var jg=fg.substring(gg+1,ig);var kg=jg.split(" ").join("").split(",");var lg=[];for(var mg=0;mg<kg.length;mg++){var ng=kg[mg];if(ng.length>0){var og=this.dg[ng];lg.push(og);}}R=R[hg].apply(R,lg);}}else {R=R[fg];}}var pg=eg[eg.length-1];R[pg]=Se;}return Se;};}function kb(xb){this.xb=xb;this.qg=[new rg("ArrowDown","ControlIncrement",true),new rg("ArrowLeft","ControlPrev",true),new rg("ArrowRight","ControlNext",true),new rg("ArrowUp","ControlDecrement",true),new rg("Backspace","ControlCancel",true),new rg("Enter","ControlConfirm",true),new rg("Escape","ControlCancel",true),new rg("Tab","ControlNext",true),];var sg=4;for(var H=0;H<sg;H++){var tg="Gamepad"+H;this.qg.ug([new rg(tg+"MoveDown","ControlIncrement",true),new rg(tg+"MoveLeft","ControlPrev",true),new rg(tg+"MoveRight","ControlNext",true),new rg(tg+"ArrowUp","ControlDecrement",true),new rg(tg+"Button0","ControlCancel",true),new rg(tg+"Button1","ControlConfirm",true),]);}this.qg.d("inputName");this._xd=new yd(new g());this._Yd=new g();this._Zd=new g();this._vg=new g();}{kb.prototype.Kd=function (j){var o=j.o;var xd=this._xd;xd.qd.clear();this.xb.Kd(j,o,xd);};kb.prototype.wg=function (j){this.Kd(j);var xg=j.xg;var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var Bg=zg.name;var Cg=this.qg[Bg];if(Bg.startsWith("Mouse")==false){if(Cg==null){var be=this.xb.Ad(Bg);if(be==true){zg.Ag=false;}}else {var Dg=Cg.Dg;this.xb.Ad(Dg);if(Cg.Eg==true){zg.Ag=false;}}}else if(Bg=="MouseClick"){this._Yd.q(xg.Yd).r(j.o.Fg);var oe=this.xb.Fd(this._Yd);if(oe==true){xg.Gg(zg);}}else if(Bg=="MouseMove"){this._Zd.q(xg.Zd).r(j.o.Fg);this._vg.q(xg.vg).r(j.o.Fg);this.xb.qe(this._Zd,this._vg);}}}};}function Hg(Ig,jb,Jg,vb){this.Ig=Ig;this.jb=jb;this.Jg=Jg;this._vb=vb;}{Hg.prototype.Lb=function (j){j.jb=new nb(this.jb,this.Kg());};Hg.prototype.Kd=function (j){this.Kg(j).Kd(j);};Hg.prototype.vb=function (j){return (this._vb==null?j.o.vb:this._vb);};Hg.prototype.wg=function (j){this.Kg(j).wg(j);};Hg.prototype.Kg=function (j){if(this._Kg==null){this._Kg=new Lg([this.Jg,new kb(j.lb.l(j,this.vb(j),this.Ig,this.Lb.bind(this,j)))]);}return this._Kg;};}function Mg(name,tc,Ng,Og,Pg){this.name=name;this.tc=tc;this.Ng=Ng;this.Og=Og.d("name");this.Pg=Pg.d("name");}{Mg.prototype.Qg=function (Rg){return this.Pg[Rg];};Mg.prototype.Sg=function (Tg){var Ug=[];for(var H=0;H<Tg.length;H++){var Rg=Tg[H];var Vg=this.Qg(Rg);Ug.push(Vg);}return Ug;};Mg.prototype.Wg=function (Xg){var Yg=Xg.Cb;var Zg=Yg.split("\n");var ah={};var bh=null;var ch;for(var H=0;H<Zg.length;H++){var dh=Zg[H];if(dh.startsWith("#")){if(bh!=null){ah[bh]=ch;}bh=dh.split("\t")[0];ch=[];}else {if(dh.length>0){ch.push(dh);}}}ah[bh]=ch;var Og=eh.eb();var fh=[Og["Display"].name,Og["Option"].name,];var gh=[];for(var H=0;H<this.Pg.length;H++){var hh=this.Pg[H];var ih=hh.jh;var kh=fh.lh(ih);if(kh==false){gh.push(hh);}else {var mh=hh.text;var nh=ah[mh];for(var oh=0;oh<nh.length;oh++){var Ee=nh[oh];var ph=new qh(hh.name+"_"+oh,ih,Ee,hh.rh,hh.Ag);gh.push(ph);}}}this.Pg=gh.d("name");};Mg.bd=function (sh){var th=JSON.parse(sh);th.name=th["name"];th.tc=th["imageName"];th.Ng=th["contentTextStringName"];var Pg=th["talkNodes"];for(var H=0;H<Pg.length;H++){var Vg=Pg[H];Vg.name=Vg["name"];Vg.jh=Vg["defnName"];Vg.text=Vg["text"];Vg.rh=Vg["next"];Vg.Ag=Vg["isActive"];}th.__proto__=Mg.prototype;var Pg=th.Pg;for(var H=0;H<Pg.length;H++){var Vg=Pg[H];Vg.__proto__=qh.prototype;if(Vg.name==null){Vg.name=qh.uh();}if(Vg.Ag==null){Vg.Ag=true;}}Pg.d("name");th.Og=eh.eb()._vh;return th;};Mg.prototype.od=function (){var wh=this.Og;delete this.Og;var R=JSON.stringify(this,null,4);this.Og=wh;return R;};}function xh(yh,zh,j){this.yh=yh;this.zh=zh;this.j=j;var Ah=this.yh.Pg[0];this.Bh=new Ch(null,Ah,[]);this.Dh=[];this.Eh={};this.Fh=this.Eh;this.Gh=this.j;}{xh.prototype.rh=function (){var Hh=this.Bh.Ih;if(Hh!=null){var Jh=this.Bh.Kh;Jh.Lh(this,this.Bh);Hh.Lh(this,this.Bh);this.Bh.Ih=null;}this.Mh();};xh.prototype.Mh=function (){this.Bh.Mh(this);};xh.prototype.Nh=function (k,j){var Oh=this;var th=Oh.yh;var Ph=j.ob;var s=20;var Qh=s*.6;var Y=25;var Rh=s;var Sh=25;var Z=new g(1,1).ab(Y);var bb=new g(k.G/2,k.t-Rh-Sh-Z.t*6 );var D=new g(bb.G,Sh);var Th=new g(2,1).ab(Sh);var R=new S("containerConversation",new g(0,0),k,[new J("buttonBack",Z,new g(1,1).ab(Sh),"<",s,true,true,function gb(j){var jb=Ph;jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonTranscript",new g(k.G-Z.G-Th.G,Z.t),Th,"Log",s,true,true,function gb(j){var ob=j.ob;var Uh=Oh.Vh(k,j,ob);var jb=new kb(Uh);jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelSpeaker",new g(k.G/2,k.t-Z.t*3 -D.t-bb.t-Rh),k,true,new rb(Oh,"scopeCurrent.displayTextCurrent"),s),new db("listResponses",new g((k.G-bb.G)/2,k.t-Z.t*2 -D.t-bb.t),bb,new rb(Oh,"scopeCurrent.talkNodesForOptionsActive()"),new rb(null,"text"),Qh,new rb(Oh,"scopeCurrent.talkNodeForOptionSelected"),new rb()),new J("buttonNext",new g((k.G-bb.G)/2,k.t-Z.t-D.t),D,"Next",s,true,true,function gb(j){Oh.rh();},j),]);return R;};xh.prototype.Vh=function (k,j,Ph){var Oh=this;var th=Oh.yh;var Ph=j.ob;var s=20;var Qh=s*.6;var Y=25;var Rh=s;var Sh=25;var Z=new g(1,1).ab(Y);var bb=new g(k.G*.75,k.t-Rh-Z.t*3
);var R=new S("containerConversation",new g(0,0),k,[new J("buttonBack",Z,new g(1,1).ab(Sh),"<",s,true,true,function gb(j){var jb=Ph;jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelTranscript",new g(k.G/2,Z.t),k,true,"Transcript",s),new db("listEntries",new g((k.G-bb.G)/2,Z.t*2 +Rh),bb,new rb(Oh,"talkNodesForTranscript"),new rb(null,"textForTranscript(conversationDefn)",{"conversationDefn":th}),Qh),]);return R;};}function Ch(Ub,Kh,Wh){this.Ub=Ub;this.Kh=Kh;this.Xh=false;this.Wh=Wh;this.Yh="[conversation begins]";this.Ih=null;this._Zh=[];this._ai=[];this.bi=true;}{Ch.prototype.ci=function (Oh){var th=Oh.yh;var di=th.Pg;var ei=di.indexOf (this.Kh);var fi=di[ei+1];this.Kh=fi;};Ch.prototype.Zh=function (){if(this.Xh==false){return this._ai;}else {if(this.bi==true){this.bi=false;this._Zh.length=0;for(var H=0;H<this.Wh.length;H++){var Vg=this.Wh[H];if(Vg.Ag==true){this._Zh.push(Vg);}}}gi=this._Zh;}return gi;};Ch.prototype.Mh=function (Oh){this.bi=true;this.Kh.hi(Oh,this);};}function qh(name,jh,text,rh,Ag){this.name=(name==null?qh.uh():name);this.jh=jh;this.text=text;this.rh=rh;this.Ag=(Ag==null?true:Ag);}{qh._uh=0;qh.uh=function (){var R="_"+qh._uh;qh._uh++;return R;};qh.prototype.Lh=function (Oh,ii){var yh=this.yh(Oh.yh);if(yh.Lh!=null){yh.Lh(Oh,ii,this);}};qh.prototype.yh=function (th){return th.Og[this.jh];};qh.prototype.hi=function (Oh,ii){var yh=this.yh(Oh.yh);yh.hi(Oh,ii,this);};qh.prototype.ji=function (th){var ki=(this.jh=="Option"?"YOU":"THEY");var R=ki+": "+this.text;return R;};}function eh(name,hi,Lh){this.name=name;this.hi=hi;this.Lh=Lh;}{eh.eb=function (){if(this._li==null){this._li=new eh_eb();}return this._li;};function eh_eb(){this.mi=new eh("Activate",function hi(Oh,ii,Vg){var ni=Vg.rh;var oi=Vg.text;var th=Oh.yh;var pi=th.Pg[ni];pi.Ag=oi;ii.ci(Oh);Oh.Mh();});this.qi=new eh("Display",function (Oh,ii,Vg){ii.Yh=Vg.text;ii.ci(Oh);Oh.Dh.push(Vg);});this.ri=new eh("Goto",function (Oh,ii,Vg){var si=Vg.rh;ii.Kh=Oh.yh.Qg(si);Oh.Mh();});this.ti=new eh("JumpIfFalse",function (Oh,ii,Vg){var ui=Vg.text;var vi=Vg.rh;var wi=Oh.Eh[ui];if(wi==true){ii.ci(Oh);}else {ii.Kh=Oh.yh.Qg(vi);}Oh.Mh();});this.xi=new eh("JumpIfTrue",function (Oh,ii,Vg){var ui=Vg.text;var vi=Vg.rh;var wi=Oh.Eh[ui];if(wi==true){ii.Kh=Oh.yh.Qg(vi);}else {ii.ci(Oh);}Oh.Mh();});this.yi=new eh("Option",function hi(Oh,ii,Vg){var Wh=ii.Wh;if(Wh.lh(Vg)==false){Wh.push(Vg);Wh[Vg.name]=Vg;}ii.ci(Oh);Oh.Mh();},function Lh(Oh,ii,Vg){ii.Xh=false;var zi=Vg.rh;var fi=Oh.yh.Qg(zi);ii.Kh=fi;Oh.Dh.push(Vg);});this.Ai=new eh("Pop",function hi(Oh,ii,Vg){var ii=ii.Ub;Oh.Bh=ii;ii.Kh=Oh.yh.Qg(Vg.text);Oh.Mh();});this.Bi=new eh("Prompt",function hi(Oh,ii,Vg){ii.Xh=true;},function Lh(Oh,ii,Vg){var Ci=Vg.text;if(Ci==true){ii.Wh.length=0;}});this.Di=new eh("Push",function hi(Oh,ii,Vg){var Ei=Oh.yh;var ei=Ei.Pg.indexOf (Vg);var fi=Ei.Pg[ei+1];Oh.Bh=new Ch(ii,fi,[]);Oh.Mh();});this.Fi=new eh("Quit",function hi(Oh,ii,Vg){Oh.zh();});this.Gi=new eh("Script",function hi(Oh,ii,Vg){var Hi="("+Vg.text+")";var Ii=Ji(Hi);Ii(Oh);ii.ci(Oh);Oh.Mh();});this.Ki=new eh("VariableLoad",function hi(Oh,ii,Vg){var ui=Vg.text;var Li=Vg.rh;var Hi="( function(cr) { return "+Li+"; } )";var Ii=Ji(Hi);var Mi=Ii(Oh);Oh.Eh[ui]=Mi;ii.ci(Oh);Oh.Mh();});this.Ni=new eh("VariableSet",function hi(Oh,ii,Vg){var ui=Vg.text;var wi=Vg.rh;Oh.Eh[ui]=wi;ii.ci(Oh);Oh.Mh();});this.Oi=new eh("VariableStore",function hi(Oh,ii,Vg){var ui=Vg.text;var wi=Oh.Eh[ui];var Li=Vg.rh;var Hi="( function(cr) { "+Li+" = "+wi+"; } )";var Ii=Ji(Hi);Ii(Oh);ii.ci(Oh);Oh.Mh();});this._vh=[this.mi,this.qi,this.ri,this.ti,this.xi,this.yi,this.Ai,this.Bi,this.Di,this.Fi,this.Gi,this.Ki,this.Ni,this.Oi,].d("name");}}function Pi(name,Qi,Ri){this.name=name;this.Qi=Qi;this.Ri=Ri;}{Pi.Si=4;Pi.eb=function (){if(Pi._eb==null){Pi._eb=this;this._Ti=new Pi("Transparent",".",[0,0,0,0]);this.Ui=new Pi("Black","k",[0,0,0,1]);this.Vi=new Pi("Blue","b",[0,0,1,1]);this.Wi=new Pi("BlueDark","B",[0,0,.5,1]);this.Xi=new Pi("Brown","O",[0.5,0.25,0,1]);this.Yi=new Pi("Cyan","c",[0,1,1,1]);this.Zi=new Pi("Gray","a",[0.5,0.5,0.5,1]);this.aj=new Pi("GrayDark","A",[0.25,0.25,0.25,1]);this.bj=new Pi("GrayLight","@",[0.75,0.75,0.75,1]);this.cj=new Pi("Green","g",[0,1,0,1]);this.dj=new Pi("GreenDark","G",[0,.5,0,1]);this.ej=new Pi("Orange","o",[1,0.5,0,1]);this.fj=new Pi("Red","r",[1,0,0,1]);this.gj=new Pi("RedDark","R",[.5,0,0,1]);this.hj=new Pi("Violet","v",[1,0,1,1]);this.ij=new Pi("White","w",[1,1,1,1]);this.jj=new Pi("Yellow","y",[1,1,0,1]);this.kj=new Pi("Yellow","Y",[.5,.5,0,1]);this._vh=[this._Ti,this.Ui,this.Vi,this.Wi,this.Xi,this.Yi,this.Zi,this.aj,this.bj,this.cj,this.dj,this.ej,this.fj,this.gj,this.hj,this.ij,this.jj,this.kj,];this._vh.d("code");}return Pi._eb;};Pi.prototype.lj=function (){return this.Ri[3];};Pi.prototype.mj=function (Se){if(Se!=null){this.Ri[3]=Se;this._nj=null;}return this;};Pi.prototype.L=function (){return new Pi(this.name,this.Qi,this.Ri.slice());};Pi.prototype.nj=function (){if(this._nj==null){this._nj="rgba("+Math.floor(255 *this.Ri[0])+", "+Math.floor(255 *this.Ri[1])+", "+Math.floor(255 *this.Ri[2])+", "+this.Ri[3]+")";}return this._nj;};}function qi(wb,oj,rd,ve,hf){this.wb=wb;this.p=this.wb[0];this.vb=this.p;this.oj=oj;this.rd=rd;this.ve=ve;this.hf=hf;this.pj="serif";this.qj="ABCDEFGHIJKMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 1234567890";this.Ld=new g();this.xd=new yd(this.Ld);this.qf=new g();this.rj=new g();this.zd=new g();}{qi.sj=Math.PI*2.0;qi.prototype.clear=function (){this.tj.clearRect(0,0,this.vb.G,this.vb.t);};qi.prototype.uj=function (vj,wj,xj,yj,zj,Nd,Od){var Ld=this.Ld.q(vj);var Aj=yj*qi.sj;var Bj=zj*qi.sj;if(Nd!=null){this.tj.fillStyle=Nd;this.tj.beginPath();this.tj.arc(vj.G,vj.t,wj,Aj,Bj);Ld.q(vj).Md(new Cj(zj,xj).Dj(new g()));this.tj.lineTo(Ld.G,Ld.t);this.tj.arc(vj.G,vj.t,xj,Bj,Aj,true);this.tj.closePath();this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.beginPath();this.tj.arc(vj.G,vj.t,wj,Aj,Bj);Ld.q(vj).Md(new Cj(zj,xj).Dj(new g()));this.tj.lineTo(Ld.G,Ld.t);this.tj.arc(vj.G,vj.t,xj,Bj,Aj,true);this.tj.closePath();this.tj.stroke();}};qi.prototype.Ej=function (Od,hf){this.Pd(new g(0,0),this.p,(hf==null?this.hf:hf),(Od==null?this.ve:Od));};qi.prototype.Fj=function (vj,Gj,Nd,Od){var Ld=this.Ld.q(vj);this.tj.beginPath();this.tj.arc(Ld.G,Ld.t,Gj,0,qi.sj);if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Hj=function (vj,Gj,Ij,Od){this.tj.beginPath();this.tj.arc(vj.G,vj.t,Gj,0,qi.sj);var Jj=this.tj.createRadialGradient(vj.G,vj.t,0,vj.G,vj.t,Gj);var Kj=Ij.Lj;for(var H=0;H<Kj.length;H++){var Mj=Kj[H];Jj.Nj(Mj.position,Mj.Oj);}this.tj.fillStyle=Jj;this.tj.fill();if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Pj=function (vj,Gj,Oj){var Ld=this.Ld.q(vj);this.tj.beginPath();this.tj.strokeStyle=Oj;this.tj.moveTo(Ld.G-Gj,Ld.t);this.tj.lineTo(Ld.G+Gj,Ld.t);this.tj.moveTo(Ld.G,Ld.t-Gj);this.tj.lineTo(Ld.G,Ld.t+Gj);this.tj.stroke();};qi.prototype.Qj=function (vj,Rj,Sj,Tj,Nd,Od){var Ld=this.Ld.q(vj);this.tj.save();this.tj.translate(vj.G,vj.t);var Uj=Tj*Cj.sj;this.tj.rotate(Uj);var Vj=Sj/Rj;this.tj.scale(1,Vj);this.tj.beginPath();this.tj.arc(0,0,Rj,0,Math.PI*2.0 );if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}this.tj.restore();};qi.prototype.drawImage=function (Wj,qd,k){var Xj=Wj.Xj;if(k==null){this.tj.drawImage(Xj,qd.G,qd.t);}else {try{this.tj.drawImage(Xj,qd.G,qd.t,k.G,k.t);}catch (Yj){}}};qi.prototype.Zj=function (ak,bk,Oj){var Ld=this.Ld;this.tj.strokeStyle=Oj;this.tj.beginPath();Ld.q(ak);this.tj.moveTo(Ld.G,Ld.t);Ld.q(bk);this.tj.lineTo(Ld.G,Ld.t);this.tj.stroke();};qi.prototype.ck=function (qd,Oj){this.tj.fillStyle=Oj;this.tj.fillRect(qd.G,qd.t,1,1
);};qi.prototype.dk=function (ek,Nd,Od){this.tj.beginPath();var Ld=this.Ld;for(var H=0;H<ek.length;H++){var fk=ek[H];Ld.q(fk);if(H==0){this.tj.moveTo(Ld.G,Ld.t);}else {this.tj.lineTo(Ld.G,Ld.t);}}this.tj.closePath();if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Pd=function (qd,k,Nd,Od,gk){if(gk==true){var re=Nd;Nd=Od;Od=re;}if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fillRect(qd.G,qd.t,k.G,k.t);}if(Od!=null){this.tj.strokeStyle=Od;this.tj.strokeRect(qd.G,qd.t,k.G,k.t);}};qi.prototype.hk=function (qd,k,Nd,Od){var zd=this.zd.q(k).Q();var ik=this.Ld.q(qd).P(zd);this.Pd(ik,k,Nd,Od);};qi.prototype.Sd=function (text,rd,qd,Nd,jk,gk,kk,lk){var mk=this.tj.font;if(rd==null){rd=this.rd;}this.nk(rd);if(gk==true){var re=Nd;Nd=jk;jk=re;}var ok=text;if(lk!=null){while(this.Sf(ok,rd)>lk){ok=ok.substr(0,ok.length-1);}}var pk=this.Sf(ok,rd);var Ld=new g(qd.G,qd.t+rd);if(kk==true){Ld.qk(0 -pk/2,0 -rd/2,0);}if(jk!=null){this.tj.strokeStyle=jk;this.tj.strokeText(ok,Ld.G,Ld.t);}if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fillText(ok,Ld.G,Ld.t);}this.tj.font=mk;};qi.prototype.nk=function (rd){var rk=this.sk(this.oj);var tk=(rk==true?this.oj:"sans-serif");this.tj.font=rd+"px "+tk;};qi.prototype.sk=function (oj){this.tj.font=""+this.rd+"px "+oj;var uk=this.tj.measureText(this.qj).width;var R=(uk!=this.vk);return R;};qi.prototype.wk=function (j){j.xk.yk(this.zk);};qi.prototype.Db=function (j){var xk=j.xk;xk.Db(j);if(this.zk!=null){xk.yk(this.zk);}this.Ak();xk.Bk(this.zk);};qi.prototype.Ak=function (){this.zk=document.createElement("canvas");this.zk.width=this.vb.G;this.zk.height=this.vb.t;this.tj=this.zk.getContext("2d");this.tj.font=""+this.rd+"px "+this.pj;this.vk=this.tj.measureText(this.qj).width;var f=this.wb[0];this.Fg=this.vb.L().r(f);this.tj.scale(this.Fg.G,this.Fg.t);return this;};qi.prototype.Ck=function (j){j.xk.Bk(this.zk);};qi.prototype.Sf=function (Dk,rd){var mk=this.tj.font;this.nk(rd);var R=this.tj.measureText(Dk).width;this.tj.font=mk;return R;};qi.prototype.Ek=function (){return Fk.Gk("[fromDisplay]",this.zk);};}function Hk(vb,oj,rd,ve,hf){this.vb=vb;this.p=vb;this.Fg=new g(1,1,1);this._Ik=new qi([vb],oj,rd,ve,hf);}{Hk.Jk=3;Hk.prototype.Kk=function (Lk){var Mk=Lk.bg;var Nk=this.Nk.Ok(Mk.qd.L().ab(-1)).w(this.Pk.Qk(Mk.Rk)).w(this.Sk.Tk(Lk));var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.Xk(Wk.Yk,false,Nk.Zk());};Hk.prototype.clear=function (){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.al(0,0,Vk.bl,Vk.cl);Vk.clear(Vk.dl_el_fl|Vk.gl_el_fl);};Hk.prototype.hl=function (il){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;var jl=[];var kl=[];var ll=[];var ml=[];var nl=0;var ol=il.ol;var pl=il.pl();var ql=il.ql;var rl=il.rl();for(var sl=0;sl<ol.length;sl++){var tl=ol[sl];var ul=tl.name;var vl=rl[ul];for(var wl=0;wl<vl.length;wl++){var xl=vl[wl];var yl=pl[xl];var zl=yl.tl;var Al=yl.Bl;var Cl=Al.Dl().El;var Fl=il.Fl;var Gl=[[0,1,2]];var Hl=Al.ek;var Il=Hl.length;if(Il==4){Gl.push([0,2,3]);}for(var Jl=0;Jl<Gl.length;Jl++){var Kl=Gl[Jl];for(var Ll=0;Ll<Kl.length;Ll++){var Ml=Kl[Ll];var fk=Hl[Ml];jl=jl.concat(fk.Nl());var Ol=zl.Nd;kl=kl.concat(Ol.Ri);var Pl=(Fl==null?Cl:Fl[xl][Ml]);ll=ll.concat(Pl.Nl());var Ql=(ql==null?new g(-1,-1):ql[xl]==null?new g(-1,-1):ql[xl].Rl[Ml]);ml=ml.concat([Ql.G,Ql.t]);}}nl+=Gl.length;}var Sl=Vk.Tl();Vk.Ul(Vk.Vl_el,Sl);Vk.Wl(Vk.Vl_el,new Float32Array(kl),Vk.Xl_Yl);Vk.Zl(Wk.am,Pi.Si,Vk.bm,false,0,0
);var cm=Vk.Tl();Vk.Ul(Vk.Vl_el,cm);Vk.Wl(Vk.Vl_el,new Float32Array(ll),Vk.Xl_Yl);Vk.Zl(Wk.dm,g.em,Vk.bm,false,0,0
);var fm=Vk.Tl();Vk.Ul(Vk.Vl_el,fm);Vk.Wl(Vk.Vl_el,new Float32Array(jl),Vk.Xl_Yl);Vk.Zl(Wk.gm,g.em,Vk.bm,false,0,0
);var hm=tl.hm;if(hm!=null){var im=hm.name;var jm=this.km[im];if(jm==null){hm.lm(this.Uk);this.km[im]=hm;}Vk.mm(Vk.nm);Vk.om(Vk.pm_2qm,hm.rm);}Vk.sm(Wk.tm,0);var um=Vk.Tl();Vk.Ul(Vk.Vl_el,um);Vk.Wl(Vk.Vl_el,new Float32Array(ml),Vk.Xl_Yl);Vk.Zl(Wk.vm,2,Vk.bm,false,0,0
);Vk.wm(Vk.xm,0,nl*Hk.Jk);}};Hk.prototype.ym=function (il,zm){var Pk=this.Pk;var Am=this.Am.Bm(zm).w(Pk.Cm(zm));var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.Xk(Wk.Dm,false,Pk.Zk());Vk.Xk(Wk.Em,false,Am.Zk());this.hl(il);};Hk.prototype.Db=function (j){var xk=j.xk;xk.Db(j);if(this.zk!=null){xk.yk(this.zk);}this.zk=document.createElement("canvas");this.zk.style.position="absolute";this.zk.width=this.vb.G;this.zk.height=this.vb.t;Fm.appendChild(this.zk);this.Uk=new Gm(this.zk);this.km=[];this.Hm=new Im(.5,new g(-1,-1,-1),.3 );this._Ik.Db(j);this.Am=Jm.Km();this.Nk=Jm.Km();this.Pk=Jm.Km();this.Sk=Jm.Km();this.Lm=Jm.Km();this.Mm=new g(0,0,0);this.Nm=Jm.Km();this.Om=Jm.Km();};Hk.prototype.Pm=function (Qm){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;var Hm=this.Hm;Vk.Rm(Wk.Sm,Hm.Tm);Vk.Um(Wk.Vm,Gm.Wm(Hm.de));Vk.Rm(Wk.Xm,Hm.Ym);};Hk.prototype.clear=function (){this._Ik.clear();};Hk.prototype.uj=function (vj,wj,xj,yj,zj,Nd,Od){this._Ik.uj(vj,wj,xj,yj,zj,Nd,Od);};Hk.prototype.Ej=function (){this._Ik.Ej();};Hk.prototype.Fj=function (vj,Gj,Nd,Od){this._Ik.Fj(vj,Gj,Nd,Od);};Hk.prototype.Hj=function (vj,Gj,Ij,Od){this._Ik.Hj(vj,Gj,Ij,Od);};Hk.prototype.drawImage=function (Wj,qd,k){this._Ik.drawImage(Wj,qd,k);};Hk.prototype.Zj=function (ak,bk,Oj){this._Ik.Zj(ak,bk,Oj);};Hk.prototype.dk=function (ek,Nd,Od){this._Ik.dk(ek,Nd,Od);};Hk.prototype.Pd=function (qd,k,Nd,Od,gk){this._Ik.Pd(qd,k,Nd,Od,gk);};Hk.prototype.Sd=function (text,rd,qd,Nd,jk,gk,kk,lk){this._Ik.Sd(text,rd,qd,Nd,jk,gk,kk,lk);};Hk.prototype.nk=function (rd){this._Ik.nk(rd);};Hk.prototype.sk=function (oj){this._Ik.sk(oj);};Hk.prototype.wk=function (j){this._Ik.wk(j);};Hk.prototype.Ck=function (j){this._Ik.Ck(j);};Hk.prototype.Sf=function (Dk,rd){return this._Ik.Sf(Dk,rd);};}function Zm(Bl,tl){this.Bl=Bl;this.tl=tl;}function an(Lj){this.Lj=Lj;}function bn(position,Oj){this.position=position;this.Oj=Oj;}function Im(Tm,de,Ym){this.Tm=Tm;this.de=de.L().cn();this.Ym=Ym;}function dn(name,en,Nd,hm){this.name=name;this.en=en;this.Nd=Nd;this.hm=hm;}{dn.eb=function (){if(dn._eb==null){dn._eb=this;this.Jf=new dn("Default",Pi.eb().Vi,Pi.eb().jj,null);}return dn._eb;};}function Jm(values){this.values=values;}{Jm.Km=function (){var R=new Jm([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,]);return R;};Jm.prototype.L=function (){var fn=[];for(var H=0;H<this.values.length;H++){fn[H]=this.values[H];}var R=new Jm(fn);return R;};Jm.prototype.gn=function (hn){for(var H=0;H<this.values.length;H++){this.values[H]/=hn;}return this;};Jm.prototype.w=function (jn){var kn=[];for(var t=0;t<4;t++){for(var G=0;G<4;G++){var ln=0;for(var H=0;H<4;H++){ln+=jn.values[t*4 +H]*this.values[H*4 +G];}kn[t*4 +G]=ln;}}this.mn(kn);return this;};Jm.prototype.ab=function (hn){for(var H=0;H<this.values.length;H++){this.values[H]*=hn;}return this;};Jm.prototype.q=function (jn){for(var H=0;H<this.values.length;H++){this.values[H]=jn.values[H];}return this;};Jm.prototype.Cm=function (Rk){var nn=Rk.nn.L().ab(1);var on=Rk.on.L().ab(1);var pn=Rk.pn.L().ab(1);/*this.mn([on.G,pn.G,nn.G,0,on.t,pn.t,nn.t,0,on.qn,pn.qn,nn.qn,0,0,0,0,1,]);*/this.mn([nn.G,on.G,pn.G,0,nn.t,on.t,pn.t,0,nn.qn,on.qn,pn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Qk=function (Rk){var nn=Rk.nn.L().ab(1);var on=Rk.on.L().ab(1);var pn=Rk.pn.L().ab(1);this.mn([on.G,on.t,on.qn,0,0-pn.G,0-pn.t,0-pn.qn,0,0-nn.G,0-nn.t,0-nn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Bm=function (Rk){var nn=Rk.nn.L();var on=Rk.on.L();var pn=Rk.pn.L();this.mn([nn.G,nn.t,nn.qn,0,on.G,on.t,on.qn,0,pn.G,pn.t,pn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Tk=function (Lk){var rn=Lk.rn;var sn=.001;var tn=Lk.rn.qn;var un=1.0 /Math.vn(rn.t/2);var wn=un*rn.t/rn.G;var xn=.7;wn*=xn;un*=xn;var yn=sn-tn;var zn=tn+sn;var An=zn/yn;var Bn=(tn*sn)/yn;this.mn([wn,0,0,0,0,un,0,0,0,0,An,2 *Bn,0,0,-1,0,]);return this;};Jm.prototype.Ok=function (Cn){this.mn([1,0,0,Cn.G,0,1,0,Cn.t,0,0,1,Cn.qn,0,0,0,1,]);return this;};Jm.prototype.mn=function (Dn){for(var H=0;H<this.values.length;H++){this.values[H]=Dn[H];}return this;};Jm.prototype.Zk=function (){var gi=[];for(var G=0;G<4;G++){for(var t=0;t<4;t++){gi.push(this.values[(t*4 +G)]);}}var gi=new Float32Array(gi);return gi;};}function En(Bl,ol,ql,Fn){this.Bl=Bl;this.ol=ol.d("name");this.ql=ql;this.Fn=Fn;}{En.prototype.pl=function (){if(this._pl==null){this._pl=[];var Gn=this.Bl.pl();for(var H=0;H<Gn.length;H++){var Hn=Gn[H];var In=this.ql[H];var Jn=In.ul;var zl=this.ol[Jn];var yl=new Zm(Hn,zl);this._pl.push(yl);}}return this._pl;};En.prototype.Kn=function (){var ul=this.ol[0].name;var ql=[];var Ln=this.Bl.Mn.length;for(var xl=0;xl<Ln;xl++){var In=new Nn(ul,[new g(0,0),new g(1,0),new g(1,1),new g(1,0)]);ql.push(In);}this.ql=ql;return this;};En.prototype.rl=function (){if(this._rl==null){this._rl=[];for(var xl=0;xl<this.ql.length;xl++){var In=this.ql[xl];var Jn=In.ul;var On=this._rl[Jn];if(On==null){On=[];this._rl[Jn]=On;}On.push(xl);}}return this._rl;};En.prototype.Pn=function (Qn){this.Bl.Pn(Qn);return this;};En.prototype.Rn=function (Qn){for(var H=0;H<this.ql.length;H++){var In=this.ql[H];Sn.Tn(Qn,In.Rl);}return this;};En.prototype.L=function (){return new En(this.Bl.L(),this.ol,(this.ql==null?null:this.ql.L()),(this.Fn==null?null:this.Fn.L()));};En.prototype.q=function (jn){this.Bl.q(jn.Bl);return this;};}function Nn(ul,Rl){this.ul=ul;this.Rl=Rl;}{Nn.prototype.L=function (){return new Nn(this.ul,this.Rl.L());};}function Un(name,Vn){this.name=name;this.Vn=Vn;}{Un.prototype.lm=function (Uk){var Vk=Uk.Vk;this.rm=Vk.Wn();Vk.om(Vk.pm_2qm,this.rm);Vk.Xn(Vk.pm_2qm,0,Vk.Yn,Vk.Yn,Vk.Zn_ao,this.Vn.Xj);Vk.bo(Vk.pm_2qm,Vk.pm_co_eo,Vk.fo);Vk.bo(Vk.pm_2qm,Vk.pm_go_eo,Vk.fo);Vk.bo(Vk.pm_2qm,Vk.pm_ho_io,Vk.jo);Vk.bo(Vk.pm_2qm,Vk.pm_ho_ko,Vk.jo);Vk.om(Vk.pm_2qm,null);};}function nb(lo,mo,no,oo){this.po=[mo,lo];this.oo=(oo==null?250 :oo);if(mo==lo){this.qo=1;this.oo*=2;}else {this.qo=0;}this.no=(no==null?Pi.eb().Ui:no);}{nb.prototype.Db=function (j){var lo=this.lo();if(lo.Db!=null){lo.Db(j);}};nb.prototype.wg=function (j){this.Kd(j);var hc=new Date();if(this.ro==null){this.ro=hc;}var so=hc-this.ro;var to=so/this.oo;var uo;if(this.qo==0){if(to>1){to=1;this.qo++;this.ro=null;var lo=this.po[1];if(lo.Kd==null){j.jb=lo;}}uo=to;}else {if(to>1){to=1;j.jb=this.ob();}uo=1 -to;}uo*=uo;var vo=this.no.L().mj(uo*this.no.lj());var o=j.o;o.Pd(new g(0,0),o.p,vo.nj());};nb.prototype.lo=function (){return this.po[1];};nb.prototype.ob=function (){return this.po[this.qo];};nb.prototype.Kd=function (j){var ob=this.ob();if(ob!=null){ob.Kd(j);}};}function Lg(zb,wo){this.zb=zb;this.wo=wo;}{Lg.prototype.Db=function (j){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];if(Td.Db!=null){Td.Db(j);}}};Lg.prototype.wg=function (j){this.zb[this.zb.length-1].wg(j);};Lg.prototype.Kd=function (j){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Kd(j);if(this.wo!=null){var o=j.o;o.Pd(g.eb().fb,o.k,this.wo);}}};}function xo(name,yo){this.name=name;this.yo=yo;}{xo.prototype.L=function (){return new xo(this.name,this.yo.slice());};}function zo(Td,Ao){this.Td=Td;this.Ao=Ao;this.Bo=new g();}{zo.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);Do.q(this.Ao);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function Eo(name,Fo,Go,Ho){this.name=name;this.Fo=Fo;this.Go=Go;this.Ho=(Ho==null?true:Ho);this.Io=this.Go.length*this.Fo;}{Eo.prototype.Kd=function (j,Eb,o,Zf,Co){if(Zf.Jo==null){Zf.Jo={};}var Ko=Zf.Jo[this.name];if(Ko==null){Ko=new Lo(this);Zf.Jo[this.name]=Ko;}Ko.Mh(j,Eb,o,Zf);};}function Lo(yh){this.yh=yh;this.Mo=0;}{Lo.prototype.No=function (){var Oo=this.Oo();var No=this.yh.Go[Oo];return No;};Lo.prototype.Oo=function (){return Math.floor(this.Mo/this.yh.Fo);};Lo.prototype.Po=function (){var R=(this.Mo>=this.yh.Io);return R;};Lo.prototype.Mh=function (j,Eb,o,Zf){var No=this.No();No.Kd(j,Eb,o,Zf);this.Mo++;if(this.Po()==true){if(this.yh.Ho==true){this.Mo=this.Mo.Hf(0,this.yh.Io);}else {this.Mo=this.Mo.Qo(this.yh.Io-1);}}};}function Ro(arc,Nd,Od){this.arc=arc;this.Nd=Nd;this.Od=Od;this.Ld=new g();}{Ro.prototype.Kd=function (j,Eb,o,Zf,Co){var arc=this.arc;var So=arc.So;var To=arc.To;var Uo=To.Vo();var Wo=To.Xo();var Ld=this.Ld.q(Zf.bg.qd);o.uj(Ld,So.Yo.Gj,So.Zo.Gj,Uo,Wo,this.Nd,this.Od);};}function ap(Td,Lk){this.Td=Td;this.Lk=Lk;this.Bo=new g();}{ap.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);this.Lk.bp(Do);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function cp(Gj,Nd,Od){this.Gj=Gj;this.Nd=Nd;this.Od=Od;}{cp.prototype.Kd=function (j,Eb,o,Zf,Co){o.Fj(Zf.bg.qd,this.Gj,this.Nd,this.Od);};}function dp(Gj,Ij,Od){this.Gj=Gj;this.Ij=Ij;this.Od=Od;}{dp.prototype.Kd=function (j,Eb,o,Zf,Co){o.Hj(Zf.bg.qd,this.Gj,this.Ij,this.Od);};}function ep(fp,gp){this.fp=fp;this.gp=gp;this.hp=this.gp.length;}{ep.prototype.Kd=function (j,Eb,o,Zf,Co){var bg=Zf.bg;var ip=bg.Rk.ip();var jp;if(ip==null){jp=this.fp;}else {var de=Math.round(ip*this.hp).Hf(0,this.hp);jp=this.gp[de];}jp.Kd(j,Eb,o,Zf);};}function kp(lp){this.lp=lp;}{kp.prototype.Kd=function (j,Eb,o,Zf,Co){var Yf=this.lp.call(this,j,Eb,Zf,Co);Yf.Kd(j,Eb,o,Zf);};}function mp(Rj,Sj,Tj,Nd,Od){this.Rj=Rj;this.Sj=Sj;this.Tj=Tj;this.Nd=Nd;this.Od=Od;}{mp.prototype.Kd=function (j,Eb,o,Zf,Co){var np=Zf.bg;o.Qj(np.qd,this.Rj,this.Sj,this.Tj,this.Nd,this.Od);};}function op(zb){this.zb=zb;}{op.prototype.Kd=function (j,Eb,o,Zf,Co){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Kd(j,Eb,o,Zf,Co);}};}function wc(tc,pp){this.tc=tc;this._pp=pp;this.Ld=new g();}{wc.qp=function (rp,sp){var gi=[];for(var H=0;H<rp.length;H++){var Vn=rp[H];var Yf=new wc(Vn.name,sp);gi.push(Yf);}return gi;};wc.prototype.Vn=function (j){return j.Ec.tp(this.tc);};wc.prototype.sp=function (j){return (this._pp==null?this.Vn(j).vb:this._pp);};wc.prototype.Kd=function (j,Eb,o,Zf,Co){var Vn=this.Vn(j);var up=this.sp(j);var Ld=this.Ld.clear().P(up).Q().Md(Zf.bg.qd);o.drawImage(Vn,Ld,up);};}function vp(Vn,pp){this.Vn=Vn;this._Ld=new g();}{vp.qp=function (rp,sp){var gi=[];for(var H=0;H<rp.length;H++){var Vn=rp[H];var Yf=new vp(Vn,sp);gi.push(Yf);}return gi;};vp.prototype.sp=function (j){return (this._pp==null?this.Vn.vb:this._pp);};vp.prototype.Kd=function (j,Eb,o,Zf,Co){var Vn=this.Vn;var up=this.sp(j);var Ld=this._Ld.clear().P(up).Q().Md(Zf.bg.qd);o.drawImage(Vn,Ld,up);};}function wp(ak,bk,Oj){this.ak=ak;this.bk=bk;this.Oj=Oj;this.xp=new g();this.yp=new g();}{wp.prototype.Kd=function (j,Eb,o,Zf){var qd=Zf.bg.qd;var xp=this.xp.q(qd).Md(this.ak);var yp=this.yp.q(qd).Md(this.bk);o.Zj(xp,yp,this.Oj);};}function zp(map,Ap){this.map=map;this.Ap=Ap;this.Bp=this.map.Cp.L();this.Dp=new g();this.Ld=new g();this.Bo=new g();}{zp.prototype.Kd=function (j,Eb,o,Zf,Co){var Ep=this.map.Fp;var Gp=this.map.zd;var Dp=this.Dp;var Hp=this.map.Ip;var Do=Zf.bg.qd;for(var t=0;t<Ep.t;t++){Dp.t=t;for(var G=0;G<Ep.G;G++){Dp.G=G;var Bp=this.map.Jp(this.map,Dp,this.Bp);var Kp=Bp.Lp;var Mp=this.Ap[Kp];var Ld=this.Ld.q(Dp).w(Hp).P(Gp).Md(Do);this.Bo.q(Do);Do.q(Ld);Mp.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);}}};}function Np(){}{Np.prototype.Kd=function (j,Eb,o,Zf,Co){};}function Op(Td,Pp){this.Td=Td;this.Pp=Pp;this.Bo=new g();}{Op.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);Do.Md(this.Pp);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function Qp(Rp,Nd,Od){this.Rp=Rp;this.Nd=Nd;this.Od=Od;this.Sp=this.Rp.L();this.Tp=new Sn_Up(new g());}{Qp.prototype.Kd=function (j,Eb,o,Zf,Co){var qd=Zf.bg.qd;this.Tp.Cn.q(Zf.bg.qd);this.Sp.q(this.Rp);Sn.Tn(this.Tp,this.Sp.Vp);o.dk(this.Sp.Vp,this.Nd,this.Od);};}function Wp(length,Oj){this.length=length;this.Oj=Oj;this.Xp=new Cj(0,this.length);this.bk=new g();}{Wp.prototype.Kd=function (j,Eb,o,Zf,Co){var np=Zf.bg;var Do=np.qd;this.Xp.Yp=np.Rk.ip();this.Xp.Dj(this.bk).Md(Do);o.Zj(Do,this.bk,this.Oj);};}function Zp(k,Nd,Od){this.k=k;this.Nd=Nd;this.Od=Od;this.zd=this.k.L().Q();this._Ld=new g();}{Zp.prototype.Kd=function (j,Eb,o,Zf,Co){var Ld=this._Ld.q(Zf.bg.qd).P(this.zd);o.Pd(Ld,this.k,this.Nd,this.Od);};}function aq(Ip,rn,Td){this.Ip=Ip;this.rn=rn;this.Td=Td;if(this.Ip.qn==0){throw "Invalid argument: cellSize.z must not be 0.";}this.bq=this.rn.L().r(this.Ip);this._cq=new g();this._dq=new g();this._eq=new g();this._fq=new g();}{aq.prototype.Kd=function (j,Eb,o,Zf,Co){var Ld=Zf.bg.qd;this._fq.q(Ld);var eq=this._eq.q(Ld).gq(this.Ip);var cq=this._cq;var bq=this.bq;for(var t=-1;t<bq.t+1;t++){cq.t=t;for(var G=-1;G<bq.G+1;G++){cq.G=G;Ld.q(this._dq.q(cq).w(this.Ip)).Md(eq);this.Td.Kd(j,Eb,o,Zf,Co);}}Ld.q(this._fq);};}function hq(name,iq,zb){this.name=name;this.iq=iq;this.zb=zb;for(var H=0;H<this.zb.length;H++){var jq=this.iq[H];var Td=this.zb[H];this.zb[jq]=Td;}}{hq.prototype.kq=function (Zf){var lq=Zf["visualNameSelected_"+this.name];if(lq==null){lq=this.iq[0];Zf.mq=lq;}return this.zb[lq];};hq.prototype.Kd=function (j,Eb,o,Zf,Co){var kq=this.kq(Zf);kq.Kd(j,Eb,o,Zf,Co);};}function nq(text,Nd,Od){this._text=text;this.Nd=Nd;this.Od=Od;}{nq.prototype.Kd=function (j,Eb,o,Zf,Co){var text=this.text(j,Eb,o,Zf);o.Sd(text,o.rd,Zf.bg.qd,this.Nd,this.Od,false,true,null);};nq.prototype.text=function (j,Eb,o,Zf){return (this._text.Cd==null?this._text:this._text.Cd(j,Eb,o,Zf));};}function Gm(zk){this.Vk=this.oq(zk);this.Wk=this.pq(this.Vk);}{Gm.Wm=function (qq){var gi=new Float32Array(qq.Nl());return gi;};Gm.prototype.oq=function (zk){var Vk=zk.getContext("experimental-webgl");Vk.bl=zk.width;Vk.cl=zk.height;var se=Pi.eb().Ui;var rq=se.Ri;Vk.sq(rq[0],rq[1],rq[2],rq[3]);Vk.tq(Vk.uq_vq);Vk.tq(Vk.gl_wq);return Vk;};Gm.prototype.pq=function (Vk){var Wk=this.pq_xq(Vk,this.pq_yq(Vk),this.pq_zq(Vk));this.pq_Aq(Vk,Wk);return Wk;};Gm.prototype.pq_yq=function (Vk){var Bq=Vk.Cq(Vk.Dq_Eq);var Fq="precision mediump float;"+"uniform sampler2D uSampler;"+"varying vec4 vColor;"+"varying vec3 vLight;"+"varying vec2 vTextureUV;"+"void main(void) {"+"    if (vTextureUV.x < 0.0) {"+"        gl_FragColor = vColor;"+"    } else {"+"        vec4 textureColor = "+"            texture2D(uSampler, vec2(vTextureUV.s, vTextureUV.t));"+"        gl_FragColor = vec4(vLight * textureColor.rgb, textureColor.a);"+"    }"+"}";Vk.Gq(Bq,Fq);Vk.Hq(Bq);return Bq;};Gm.prototype.pq_zq=function (Vk){var Iq=Vk.Cq(Vk.Jq_Eq);var Kq="attribute vec4 aVertexColor;"+"attribute vec3 aVertexNormal;"+"attribute vec3 aVertexPosition;"+"attribute vec2 aVertexTextureUV;"+"uniform mat4 uEntityMatrix;"+"uniform mat4 uCameraMatrix;"+"uniform float uLightAmbientIntensity;"+"uniform vec3 uLightDirection;"+"uniform float uLightDirectionalIntensity;"+"uniform mat4 uNormalMatrix;"+"varying vec4 vColor;"+"varying vec3 vLight;"+"varying vec2 vTextureUV;"+"void main(void) {"+"    vColor = aVertexColor;"+"    vec4 vertexNormal4 = vec4(aVertexNormal, 0.0);"+"    vec4 transformedNormal4 = uNormalMatrix * vertexNormal4;"+"    vec3 transformedNormal = vec3(transformedNormal4.xyz) * -1.0;"+"    float lightMagnitude = uLightAmbientIntensity;"+"    lightMagnitude += "+"        uLightDirectionalIntensity "+"        * max(dot(transformedNormal, uLightDirection), 0.0);"+"    vLight = vec3(1.0, 1.0, 1.0) * lightMagnitude;"+"    vTextureUV = aVertexTextureUV;"+"    vec4 vertexPos = vec4(aVertexPosition, 1.0);"+"    gl_Position = uCameraMatrix * uEntityMatrix * vertexPos;"+"}";Vk.Gq(Iq,Kq);Vk.Hq(Iq);return Iq;};Gm.prototype.pq_xq=function (Vk,Bq,Iq){var Wk=Vk.Lq();Vk.Mq(Wk,Iq);Vk.Mq(Wk,Bq);Vk.Nq(Wk);Vk.Oq(Wk);return Wk;};Gm.prototype.pq_Aq=function (Vk,Wk){Wk.am=Vk.Pq(Wk,"aVertexColor");Vk.Qq(Wk.am);Wk.dm=Vk.Pq(Wk,"aVertexNormal");Vk.Qq(Wk.dm);Wk.gm=Vk.Pq(Wk,"aVertexPosition");Vk.Qq(Wk.gm);Wk.vm=Vk.Pq(Wk,"aVertexTextureUV");Vk.Qq(Wk.vm);Wk.Em=Vk.Rq(Wk,"uEntityMatrix");Wk.Yk=Vk.Rq(Wk,"uCameraMatrix");Wk.Sm=Vk.Rq(Wk,"uLightAmbientIntensity");Wk.Vm=Vk.Rq(Wk,"uLightDirection");Wk.Xm=Vk.Rq(Wk,"uLightDirectionalIntensity");Wk.Dm=Vk.Rq(Wk,"uNormalMatrix");};}function Sq(){}{Array.prototype.Md=function (Tq){this.push(Tq);return this;};Array.prototype.Uq=function (Vq){for(var H=0;H<Vq.length;H++){var Tq=Vq[H];this.push(Tq);}return this;};Array.prototype.d=function (Wq){for(var H=0;H<this.length;H++){var Tq=this[H];var key=Tq[Wq];this[key]=Tq;}return this;};Array.prototype.ug=function (jn){for(var H=0;H<jn.length;H++){var Tq=jn[H];this.push(Tq);}return this;};Array.prototype.clear=function (){this.length=0;return this;};Array.prototype.L=function (){var R=[];for(var H=0;H<this.length;H++){var Tq=this[H];var Xq=Tq.L();R.push(Xq);}return R;};Array.prototype.lh=function (Yq){return (this.indexOf (Yq)>=0);};Array.prototype.Zq=function (ar){var gi=[];for(var H=0;H<this.length;H++){var Tq=this[H];var br=Tq[ar];gi.push(br);}return gi;};Array.prototype.cr=function (Tq,dr){this.splice (dr,0,Tq);return this;};Array.prototype.q=function (jn){for(var H=0;H<this.length;H++){var er=this[H];var fr=jn[H];if(er.q==null){this[H]=fr;}else {er.q(fr);}}return this;};Array.prototype.gr=function (jn){for(var H=0;H<jn.length;H++){var Tq=jn[H];this.splice (0,0,Tq);}return this;};Array.prototype.random=function (){return this[Math.floor(Math.random()*this.length)];};Array.prototype.Lc=function (hr){var ir=this.indexOf (hr);if(ir>=0){this.splice (ir,1);}return this;};Array.prototype.jr=function (dr){this.splice (dr,1);return this;};Array.prototype.kr=function (ar){return this.sort(function (mg,lr){return mg[ar]-lr[ar];});};}function mr(){}{Number.prototype.je=function (nr,or){return (this>=nr&&this<=or);};Number.prototype.pr=function (qr){var rr=Math.sr(10,qr);return Math.round(this*rr)/rr;};Number.prototype.tr=function (ur,or){var vr=this-ur;var wr=Math.xr(vr);var yr=wr;var R=vr;for(var H=-1;H<=1;H+=2){var zr=vr+or*H;wr=Math.xr(zr);if(wr<yr){yr=wr;R=zr;}}return R;};Number.prototype.Qo=function (or){return this.af(0,or);};Number.prototype.af=function (nr,or){var Cb=this;if(Cb<nr){Cb=nr;}else if(Cb>or){Cb=or;}return Cb;};Number.prototype.Hf=function (nr,or){var Cb=this;var Ar=or-nr;if(Ar==0){Cb=nr;}else {while(Cb<nr){Cb+=Ar;}while(Cb>=or){Cb-=Ar;}}return Cb;};}function Br(){}{String.prototype.Cr=function (Dr,Er){var Fr=this;while(Fr.length<Dr){Fr=Er+Fr;}return Fr;};String.prototype.Gr=function (Hr,Ir){return this.split(Hr).join(Ir);};String.prototype.Jr=function (){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase();};}function Kr(rn,Lr,bg){this.rn=rn;this.Lr=Lr;this.bg=bg;this.Mr=this.rn.L().M().Q();}{Kr.prototype.Nr=function (){if(this._Nr==null){this._Nr=[new Or(new g(0,0,0),0),new Or(new g(0,0,0),0),new Or(new g(0,0,0),0),new Or(new g(0,0,0),0),];}var Mk=this.bg;var Pr=Mk.Rk;var Qr=Mk.qd;var Rr=Qr.L().Md(Pr.nn.L().ab(this.Lr));var Sr=Pr.on.L().ab(this.Mr.G);var Tr=Pr.pn.L().ab(this.Mr.t);var Ur=[Rr.L().Md(Sr).Md(Tr),Rr.L().P(Sr).Md(Tr),Rr.L().P(Sr).P(Tr),Rr.L().Md(Sr).P(Tr),];var Vr=Ur.length;for(var H=0;H<Vr;H++){var Wr=H+1;if(Wr>=Vr){Wr=0;}var Xr=this._Nr[H];var Yr=Ur[H];var Zr=Ur[Wr];Xr.as(Qr,Yr,Zr);}return this._Nr;};Kr.prototype.bs=function (cs,ds){var Mk=this.bg;if(ds==true){cs.qn=this.Lr;}var es=cs.P(this.Mr);Mk.Rk.fs(es);es.Md(Mk.qd);return es;};Kr.prototype.bp=function (es){var Qr=this.bg.qd;var Pr=this.bg.Rk;var cs=es.P(Qr);Pr.gs(cs);if(this.Lr!=null){var hs=cs.qn;if(hs!=0){cs.ab(this.Lr).gn(hs);cs.qn=hs;}}cs.Md(this.Mr);return cs;};}function is(qd,js,ks){this.qd=qd;this.js=js;this.ks=ks;}function ls(){this.ms=true;this.Cn=new g();var ns={};var os;os={};os[ps.name]=this.qs;os[rs.name]=this.ss;os[ts.name]=this.us;ns[ps.name]=os;os={};os[rs.name]=this.vs;ns[rs.name]=os;os={};os[ws.name]=this.xs;os[ys.name]=this.zs;os[As.name]=this.Bs;os[Or.name]=this.Cs;ns[Ds.name]=os;os={};os[ts.name]=this.Es;ns[ys.name]=os;os={};os[Fs.name]=this.Gs;os[ts.name]=this.Hs;ns[Fs.name]=os;os={};os[As.name]=this.Is;os[ts.name]=this.Js;ns[As.name]=os;os={};os[Ks.name]=this.Ls;os[Ms.name]=this.Ls;os[Ns.name]=this.Ls;os[Os.name]=this.Ls;os[ts.name]=this.Ls;ns[Ks.name]=os;os={};os[Ks.name]=this.Ps;os[Ms.name]=this.Ps;os[Ns.name]=this.Ps;os[Os.name]=this.Ps;os[ts.name]=this.Ps;ns[Ms.name]=os;os={};os[Ks.name]=this.Qs;os[Ms.name]=this.Qs;os[Ns.name]=this.Qs;os[Os.name]=this.Qs;os[ts.name]=this.Qs;ns[Ns.name]=os;os={};os[Ks.name]=this.Rs;os[Ms.name]=this.Rs;os[Ns.name]=this.Rs;os[Os.name]=this.Rs;os[ts.name]=this.Rs;ns[Os.name]=os;os={};os[ps.name]=this.Ss;os[Fs.name]=this.Ts;os[As.name]=this.Us;os[Ks.name]=this.Vs;os[Ms.name]=this.Ws;os[Ns.name]=this.Xs;os[Os.name]=this.Ys;os[ts.name]=this.Zs;ns[ts.name]=os;this.at=ns;ns={};os={};os[ps.name]=this.bt;os[ts.name]=this.ct;ns[ps.name]=os;os={};os[ps.name]=this.dt;os[ts.name]=this.et;ns[ys.name]=os;os={};os[ps.name]=this.ft;os[ts.name]=this.gt;ns[ts.name]=os;this.ht=ns;}{ls.prototype.it=function (jt,kt){var gi=[];var lt=jt.length;var mt=kt.length;for(var H=0;H<lt;H++){var nt=jt[H];for(var oh=0;oh<mt;oh++){var ot=kt[oh];if(this.pt(nt,ot)==true){var qt=new is(null,null,[nt,ot]);gi.push(qt);}}}return gi;};ls.prototype.pt=function (rt,st){var tt=rt.ut();var vt=st.ut();var wt=this.wt(tt,vt);return wt;};ls.prototype.wt=function (tt,vt){var R=false;while(tt.ut!=null){tt=tt.ut();}while(vt.ut!=null){vt=vt.ut();}var xt=tt.constructor.name;var yt=vt.constructor.name;var zt=this.at[xt];if(zt==null){if(this.ms){throw "Error!";}}else {var At=zt[yt];if(At==null){if(this.ms){throw "Error!";}}else {R=At.call(this,tt,vt);}}return R;};ls.prototype.Bt=function (tt,vt){var R=false;while(tt.ut!=null){tt=tt.ut();}while(vt.ut!=null){vt=vt.ut();}var xt=tt.constructor.name;var yt=vt.constructor.name;var Ct=this.ht[xt];if(Ct==null){if(this.ms){throw "Error!";}}else {var Bt=Ct[yt];if(Bt==null){if(this.ms){throw "Error!";}}else {R=Bt.call(this,tt,vt);}}return R;};ls.prototype.Dt=function (Et,yl){var Ft=yl.Dl();var R=this.Gt(Et,Ft);if(R!=null){var Hl=yl.ek;var Ht=new Or(new g());var Cl=Ft.El;var It=new g();var Jt=Hl[Hl.length-1];for(var H=0;H<Hl.length;H++){var Kt=Hl[H];It.q(Kt).Md(Cl);Ht.as(Kt,Jt,It);var Lt=new ys(Ht);var zs=this.zs(Et,Lt);if(zs==false){R=null;break;}Jt=Kt;}}if(R!=null){R.ut=yl;}return R;};ls.prototype.Mt=function (Et,il,Nt,Ot){if(Nt==null){Nt=[];}var Pt=il.pl();for(var H=0;H<Pt.length;H++){var Qt=Pt[H];var Dt=this.Dt(Et,Qt);if(Dt!=null){Nt.push(Dt);if(Ot==true){break;}}}return Nt;};ls.prototype.Gt=function (Et,Dl){var R=null;var Rt=Et.de();var St=Dl.El;var js=(Dl.Tt-St.Ut(Et.ek[0]))/St.Ut(Rt);if(js>=0 &&js<=Et.length()){var Vt=new g().q(Rt).ab(js).Md(Et.ek[0]);R=new is(Vt,js,Dl);}return R;};ls.prototype.qs=function (Wt,Xt){var R=Wt.Yt(Xt);return R;};ls.prototype.ss=function (Zt,au){var R=false;var bu=this.Cn.q(Zt.vj).P(au.vj);if(bu.qn<Zt.zd.qn+au.cu);{bu.M();var de=bu.cn();var du=de.ab(au.Gj).Md(au.vj);du.qn=Zt.vj.qn;var eu=Zt.fu(du);R=eu;}return R;};ls.prototype.gu=function (Zt,Lt){var R=false;var ek=As.hu(Zt).ek();for(var H=0;H<ek.length;H++){var fk=ek[iu];if(Lt.fu(fk)==true){R=true;break;}}return R;};ls.prototype.us=function (Zt,ju){var ku=new ps(ju.vj,new g(1,1,1).ab(ju.Gj));return this.qs(Zt,ku);};ls.prototype.vs=function (lu,mu){var R=false;var Cn=this.Cn.q(mu.vj).P(lu.vj).M();var nu=Cn.ou();var pu=qu.Gj+ru.Gj;var su=(nu<pu);if(su==true){var tu=((lu.uu>mu.uu&&lu.uu<mu.vu)||(lu.vu>mu.uu&&lu.vu<mu.vu)||(mu.uu>lu.uu&&mu.uu<lu.vu)||(mu.vu>lu.uu&&mu.vu<lu.vu));if(tu==true){R=true;}}return R;};ls.prototype.xs=function (Et,yl){return (this.Dt(Et,yl)!=null);};ls.prototype.zs=function (Et,Lt){var ek=Et.ek;var R=(Lt.fu(ek[0])||Lt.fu(ek[1]));return R;};ls.prototype.Bs=function (Et,il){var R=false;var Rt=Et.de();var Pt=il.pl();for(var xl=0;xl<Pt.length;xl++){var yl=Pt[xl];var Ft=yl.Dl();var Cl=Ft.El;var wu=Cl.Ut(Rt);if(wu<0){R=this.xs(Et,yl);if(R==true){break;}}}return R;};ls.prototype.Cs=function (Et,Dl){return (this.Gt()!=null);};ls.prototype.Es=function (Lt,ju){var Dl=Lt.Dl;var xu=ju.vj.Ut(Dl.El);var yu=xu-Dl.Tt;var R=(yu<ju.Gj);return R;};ls.prototype.Is=function (zu,Au){var R=true;var Bu=[zu.ek(),Au.ek()];var Pt=[zu.pl(),Au.pl()];for(var sl=0;sl<2;sl++){var Cu=Pt[sl];var Du=Bu[sl];var Eu=Eu[sl];for(var xl=0;xl<Cu.length;xl++){var yl=Cu[xl];var Cl=yl.Dl().El;var Fu=Du[0];var Gu=Fu.Ut(Cl);var Hu=Gu;for(var iu=1;iu<Du.length;iu++){Fu=Du[iu];var Iu=Fu.Ut(Cl);if(Iu<Gu){Gu=Iu;}if(Iu>Hu){Hu=Iu;}}var Ju=Eu[0];var Ku=Ju.Ut(Cl);var Lu=Ku;for(var iu=1;iu<Eu.length;iu++){Ju=Eu[iu];var Mu=Ju.Ut(Cl);if(Mu<Ku){Ku=Mu;}if(Mu>Lu){Lu=Mu;}}var Nu=(Hu>Ku&&Lu>Gu);if(Nu==false){R=false;break;}}}return R;};ls.prototype.Gs=function (Ou,Pu){var R=false;var Qu=this.qs(Ou.Zt,Pu.Zt);if(Qu==false){return false;}var Ru=Ou.map;var Su=Pu.map;var Tu=Ru.Cp.L();var Uu=Su.Cp.L();var Vu=new g();var Wu=new g();var Xu=new g();var Yu=new g();var Zu=new g();var av=Ru.Fp;var bv=Su.Fp;var cv=Su.dv;var ev=Ru.Ip;var fv=Su.Ip;var gv=Ou.bg.qd;var hv=Pu.bg.qd;for(var iv=0;iv<av.t;iv++){Wu.t=iv;Vu.t=gv.t+(iv*ev.t);for(var jv=0;jv<av.G;jv++){Wu.G=jv;Vu.G=gv.G+(jv*ev.G);Tu=Ru.Jp(Ru,Wu,Tu);if(Tu.kv==true){Yu.q(Vu).P(hv).r(fv).floor();Zu.q(Vu).P(hv).Md(ev).r(fv).floor();for(var lv=Yu.t;lv<=Zu.t;lv++){Xu.t=lv;for(var mv=Yu.G;mv<Zu.G;mv++){Xu.G=mv;var nv=Xu.je(g.eb().fb,cv);if(nv==true){Uu=Su.Jp(Su,Xu,Uu);if(Uu.kv==true){R=true;lv=Zu.t;jv=av.G;iv=av.t;break;}}}}}}}return R;};ls.prototype.Hs=function (ov,ju){var R=false;var Qu=this.us(ov.Zt,ju);if(Qu==false){return false;}var map=ov.map;var Bp=map.Cp.L();var pv=new g();var Dp=new g();var Ep=map.Fp;var qv=map.Ip;var Gp=map.zd;var rv=ov.bg.qd;var sv=new ps(new g(),map.Ip);for(var t=0;t<Ep.t;t++){Dp.t=t;pv.t=(t*qv.t)+rv.t-Gp.t;for(var G=0;G<Ep.G;G++){Dp.G=G;pv.G=(G*qv.G)+rv.G-Gp.G;Bp=map.Jp(map,Dp,Bp);if(Bp.kv==true){sv.vj.q(pv);var tv=this.us(sv,ju);if(tv==true){R=true;break;}}}}return R;};ls.prototype.Js=function (il,ju){var R=true;var Pt=il.pl();var Lt=new ys();for(var xl=0;xl<Pt.length;xl++){var yl=Pt[xl];Lt.Dl=yl.Dl();var Es=this.Es(Lt,ju);if(Es==false){R=false;break;}}return R;};ls.prototype.Ss=function (ju,Zt){return this.us(Zt,ju);};ls.prototype.Ts=function (ju,ov){return this.Hs(ov,ju);};ls.prototype.Us=function (ju,il){return this.Js(il,ju);};ls.prototype.Vs=function (ju,uv){return this.Ls(uv,ju);};ls.prototype.Ws=function (ju,vv){return this.Ps(vv,ju);};ls.prototype.Xs=function (ju,wv){return this.Qs(wv,ju);};ls.prototype.Ys=function (ju,xv){return this.Rs(xv,ju);};ls.prototype.Zs=function (qu,ru){var Cn=this.Cn.q(ru.vj).P(qu.vj);var nu=Cn.ou();var pu=qu.Gj+ru.Gj;var R=(nu<pu);return R;};ls.prototype.Ps=function (yv,zv){var R=true;var Av=yv.Bv;for(var H=0;H<Av.length;H++){var Cv=Av[H];var Dv=this.wt(Cv,zv);if(Dv==false){R=false;break;}}return R;};ls.prototype.Qs=function (Ev,zv){var R=false;var Av=Ev.Bv;for(var H=0;H<Av.length;H++){var Cv=Av[H];var Dv=this.wt(Cv,zv);if(Dv==true){R=true;break;}}return R;};ls.prototype.Ls=function (Fv,zv){return this.Bt(Fv.Gv,zv);};ls.prototype.Rs=function (Hv,zv){return (this.wt(Hv.Gv,zv)==false);};ls.prototype.Iv=function (Gv,Jv){return this.Ps(Jv,Gv);};ls.prototype.Kv=function (Jv,Gv){return this.Ps(Jv,Gv);};ls.prototype.Lv=function (Gv,Jv){return this.Qs(Jv,Gv);};ls.prototype.Mv=function (Fv,ju){return this.Ls(Fv,ju);};ls.prototype.Nv=function (Jv,Gv){return this.Qs(Jv,Gv);};ls.prototype.Ov=function (Hv,Gv){return this.Rs(Hv,Gv);};ls.prototype.bt=function (Wt,Xt){return Wt.Pv(Xt);};ls.prototype.Qv=function (Zt,Lt){return false;};ls.prototype.ct=function (Zt,ju){var Rv=new ps(ju.vj,new g(1,1,1).ab(ju.Gj*2));var R=Zt.Pv(Rv);return R;};ls.prototype.dt=function (Lt,Zt){var R=true;var ek=As.hu(Zt).ek;for(var H=0;H<ek.length;H++){var fk=ek[iu];if(Lt.fu(fk)==false){R=false;break;}}return R;};ls.prototype.et=function (Lt,ju){var Dl=Lt.Dl;var yu=ju.vj.Ut(Dl.El)-Dl.Tt;var R=(yu>=ju.Gj);return R;};ls.prototype.ft=function (ju,Zt){var Sv=new ts(Zt.vj,Zt.or().ou());var R=ju.Pv(Sv);return R;};ls.prototype.Tv=function (ju,Lt){return false;};ls.prototype.gt=function (qu,ru){return qu.Pv(ru);};}function Uv(jh,target){this.jh=jh;this.target=target;}{Uv.prototype.Vv=function (j,Eb,Wv,Co){var Xv=this.yh(Eb);Xv.Vv(j,Eb,Wv,Co,this);};Uv.prototype.yh=function (Eb){return Eb.Yv.Zv[this.jh];};}function aw(name,Vv){this.name=name;this.Vv=Vv;}{aw.eb=function (){if(aw._eb==null){aw._eb=new aw_eb();}return aw._eb;};function aw_eb(){this._bw=new aw("None",function Vv(j,Eb,Wv,Co,cw){});this.dw=new aw("Attach",function Vv(j,Eb,Wv,Co,cw){var ew=cw.target;var target=ud.fw[ew];Co.bg.qd.q(target.bg.qd);});this.gw=new aw("ContainInBounds",function Vv(j,Eb,Wv,Co,cw){var ew=cw.target;var target=ud.fw[ew];var hw=target.ut().Zt(Eb);hw.iw(Co.bg.qd);});this.jw=new aw("Friction",function Vv(j,Eb,Wv,Co,cw){var kw=cw.target;var lw=Co.ag.bg;var mw=lw.nw;var ow=mw.ou();var pw=ow*kw;mw.Md(mw.L().ab(-pw));});this.qw=new aw("FrictionDry",function Vv(j,Eb,Wv,Co,cw){var kw=cw.target;var pw=kw;var lw=Co.ag.bg;var mw=lw.nw;var rw=mw.ou();if(rw<=pw){mw.clear();}else {var sw=mw.L().cn();mw.Md(sw.ab(-pw));}});this.tw=new aw("Offset",function Vv(j,Eb,Wv,Co,cw){var uw=cw.target;Co.bg.qd.Md(uw);});this.vw=new aw("OrientToward",function Vv(j,Eb,Wv,Co,cw){var ew=cw.target;var ww=Co.bg;var xw=ww.qd;var yw=ww.Rk;var zw=yw.nn;var target=ud.fw[ew];var Aw=target.bg.qd;zw.q(Aw).P(xw).cn();yw.Bw(zw);});this.Cw=new aw("SpeedMax",function Vv(j,Eb,Wv,Co,cw){var Dw=cw.target;var lw=Co.ag.bg;var mw=lw.nw;var ow=mw.ou();if(ow>Dw){mw.cn().ab(Dw);}});this.Ew=new aw("StopBelowSpeedMin",function Vv(j,Eb,Wv,Co,cw){var Fw=cw.target;var lw=Co.ag.bg;var mw=lw.nw;var ow=mw.ou();if(ow<Fw){mw.clear();}});this.Gw=new aw("TrimToRange",function Vv(j,Eb,Wv,Co,cw){var Hw=cw.target;var lw=Co.ag.bg;lw.qd.Qo(Hw);});this.Iw=new aw("WrapToRange",function Vv(j,Eb,Wv,Co,cw){var Jw=cw.target;var lw=Co.ag.bg;lw.qd.gq(Jw);});this.Kw=new aw("WrapXTrimY",function Vv(j,Eb,Wv,Co,cw){var lw=Co.ag.bg;var Lw=lw.qd;var or=cw.target;while(Lw.G<0){Lw.G+=or.G;}while(Lw.G>=or.G){Lw.G-=or.G;}if(Lw.t<0){Lw.t=0;}else if(Lw.t>or.t){Lw.t=or.t;}});}}function g(G,t,qn){this.G=G;this.t=t;this.qn=qn;if(this.qn==null){this.qn=0;}}{g.em=3;g.eb=function (){if(g._eb==null){g._eb=new g_eb();}return g._eb;};function g_eb(){this.Mw=new g(-1,0,0);this.Nw=new g(1,1,1);this.Ow=new g(1,1,0);this.Pw=new g(1,0,0);this.Qw=new g(2,2,0);this.Rw=new g(0,0,1);this.Sw=new g(0,-1,0);this.Tw=new g(0,1,0);this.fb=new g(0,0,0);}g.prototype.Uw=function (){this.G=Math.xr(this.G);this.t=Math.xr(this.t);this.qn=Math.xr(this.qn);return this;};g.prototype.Md=function (jn){this.G+=jn.G;this.t+=jn.t;this.qn+=jn.qn;return this;};g.prototype.qk=function (G,t,qn){this.G+=G;this.t+=t;this.qn+=qn;return this;};g.prototype.Vw=function (){this.G=Math.ceil(this.G);this.t=Math.ceil(this.t);this.qn=Math.ceil(this.qn);return this;};g.prototype.clear=function (){this.G=0;this.t=0;this.qn=0;return this;};g.prototype.M=function (){this.qn=0;return this;};g.prototype.L=function (){return new g(this.G,this.t,this.qn);};g.prototype.Ww=function (jn){return this.Tf(this.t*jn.qn-this.qn*jn.t,this.qn*jn.G-this.G*jn.qn,this.G*jn.t-this.t*jn.G);};g.prototype.Xw=function (Yw,Se){var R;if(Yw==0){if(Se!=null){this.G=Se;}R=this.G;}else if(Yw==1){if(Se!=null){this.t=Se;}R=this.t;}else if(Yw==2){if(Se!=null){this.qn=Se;}R=this.qn;}return R;};g.prototype.Nl=function (){return [this.G,this.t,this.qn];};g.prototype.Zw=function (){if(this.G<0){this.G=-1;}else if(this.G>0){this.G=1;}if(this.t<0){this.t=-1;}else if(this.t>0){this.t=1;}if(this.qn<0){this.qn=-1;}else if(this.qn>0){this.qn=1;}return this;};g.prototype.r=function (jn){this.G/=jn.G;this.t/=jn.t;this.qn/=jn.qn;return this;};g.prototype.gn=function (hn){this.G/=hn;this.t/=hn;this.qn/=hn;return this;};g.prototype.Ut=function (jn){return this.G*jn.G+this.t*jn.t+this.qn*jn.qn;};g.prototype.ax=function (){return this.ab(2);};g.prototype.bx=function (jn){return (this.G==jn.G&&this.t==jn.t&&this.qn==jn.qn);};g.prototype.floor=function (){this.G=Math.floor(this.G);this.t=Math.floor(this.t);this.qn=Math.floor(this.qn);return this;};g.prototype.Q=function (){return this.gn(2);};g.prototype.cx=function (){this.G=0 -this.G;this.t=0 -this.t;this.qn=0 -this.qn;return this;};g.prototype.dx=function (or){return this.je(g.eb().fb,or);};g.prototype.je=function (nr,or){var R=(this.G>=nr.G&&this.G<=or.G&&this.t>=nr.t&&this.t<=or.t&&this.qn>=nr.qn&&this.qn<=or.qn);return R;};g.prototype.ou=function (){return Math.sqrt(this.G*this.G+this.t*this.t+this.qn*this.qn);};g.prototype.w=function (jn){this.G*=jn.G;this.t*=jn.t;this.qn*=jn.qn;return this;};g.prototype.ex=function (G,t,qn){this.G*=G;this.t*=t;this.qn*=qn;return this;};g.prototype.ab=function (hn){this.G*=hn;this.t*=hn;this.qn*=hn;return this;};g.prototype.cn=function (){var ou=this.ou();if(ou>0){this.gn(ou);}return this;};g.prototype.q=function (jn){this.G=jn.G;this.t=jn.t;this.qn=jn.qn;return this;};g.prototype.Tf=function (G,t,qn){this.G=G;this.t=t;this.qn=qn;return this;};g.prototype.fx=function (){return this.G*this.t*this.qn;};g.prototype.gx=function (){this.G=Math.random();this.t=Math.random();this.qn=Math.random();return this;};g.prototype.on=function (){var re=this.t;this.t=this.G;this.G=0 -re;return this;};g.prototype.round=function (){this.G=Math.round(this.G);this.t=Math.round(this.t);this.qn=Math.round(this.qn);return this;};g.prototype.P=function (jn){this.G-=jn.G;this.t-=jn.t;this.qn-=jn.qn;return this;};g.prototype.tr=function (jn,or){this.G=this.G.tr(jn.G,or);this.t=this.t.tr(jn.t,or);this.qn=this.qn.tr(jn.qn,or);return this;};g.prototype.hx=function (){return this.G+this.t+this.qn;};g.prototype.ix=function (jx){var ou=this.ou();if(ou>jx){this.gn(ou).ab(jx);}return this;};g.prototype.Qo=function (or){if(this.G<0){this.G=0;}else if(this.G>or.G){this.G=or.G;}if(this.t<0){this.t=0;}else if(this.t>or.t){this.t=or.t;}if(this.qn<0){this.qn=0;}else if(this.qn>or.qn){this.qn=or.qn;}return this;};g.prototype.af=function (nr,or){if(this.G<nr.G){this.G=nr.G;}else if(this.G>=or.G){this.G=or.G;}if(this.t<nr.t){this.t=nr.t;}else if(this.t>=or.t){this.t=or.t;}if(this.qn<nr.qn){this.qn=nr.qn;}else if(this.qn>=or.qn){this.qn=or.qn;}return this;};g.prototype.gq=function (or){while(this.G<0){this.G+=or.G;}while(this.G>=or.G){this.G-=or.G;}while(this.t<0){this.t+=or.t;}while(this.t>=or.t){this.t-=or.t;}if(or.qn>0){while(this.qn<0){this.qn+=or.qn;}while(this.qn>=or.qn){this.qn-=or.qn;}}return this;};g.prototype.toString=function (){return this.G+"x"+this.t+"x"+this.qn;};g.prototype.kx=function (){return this.G+"x"+this.t;};}function yd(qd,Rk,lx){this.qd=qd;if(Rk==null){Rk=mx.eb().nx.L();}this.Rk=Rk;this.lx=lx;this.nw=new g(0,0,0);this.ox=new g(0,0,0);this.px=new g(0,0,0);this.qx=new rx(this.Rk.pn,new sx(0));this.tx=0;}{yd.prototype.L=function (){var R=new yd(this.qd.L(),this.Rk.L(),this.lx);R.nw=this.nw.L();R.ox=this.ox.L();R.px=this.px.L();R.tx=this.tx;return R;};yd.prototype.q=function (jn){this.lx=jn.lx;this.qd.q(jn.qd);this.Rk.q(jn.Rk);this.nw.q(jn.nw);this.ox.q(jn.ox);this.px.q(jn.px);return this;};yd.prototype.toString=function (){return this.qd.L().round().toString();};}function mx(nn,pn){this.nn=nn.L().cn();this.on=pn.L().Ww(this.nn).cn();this.pn=this.nn.L().Ww(this.on).cn();this.ux=[this.nn,this.on,this.pn];this.vx=[this.on,this.pn,this.nn];}{mx.eb=function (){if(mx._eb==null){mx._eb=new mx_eb();}return mx._eb;};function mx_eb(){this.nx=new mx(new g(1,0,0),new g(0,0,1));this.wx=new mx(new g(0,0,1),new g(0,1,0));}mx.prototype.L=function (){return new mx(this.nn.L(),this.pn.L());};mx.prototype.Bw=function (Cb){this.nn.q(Cb);return this.xx();};mx.prototype.yx=function (nn,pn){this.nn.q(nn);this.pn.q(pn);return this.xx();};mx.prototype.xx=function (Cb){this.nn.cn();this.on.q(this.pn).Ww(this.nn).cn();this.pn.q(this.nn).Ww(this.on).cn();return this;};mx.prototype.q=function (jn){this.nn.q(jn.nn);this.on.q(jn.on);this.pn.q(jn.pn);return this;};mx.prototype.zx=function (Ax){Ax.Tf(Ax.Ut(this.nn),Ax.Ut(this.on),Ax.Ut(this.pn));return Ax;};mx.prototype.Bx=function (Ax){var R=new g(0,0,0);var Cx=new g();for(var H=0;H<this.ux.length;H++){var Dx=this.ux[H];Cx.q(Dx).ab(Ax.Xw(H));R.Md(Cx);}return Ax.q(R);};mx.prototype.gs=function (Ax){Ax.Tf(Ax.Ut(this.on),Ax.Ut(this.pn),Ax.Ut(this.nn));return Ax;};mx.prototype.fs=function (Ax){var R=new g(0,0,0);var Cx=new g();for(var H=0;H<this.vx.length;H++){var Dx=this.vx[H];Cx.q(Dx).ab(Ax.Xw(H));R.Md(Cx);}return Ax.q(R);};mx.prototype.ip=function (){var R;var nn=this.nn;if(nn.G==0 &&nn.t==0){R=null;}else {R=Math.atan2(nn.t,nn.G)/(Math.PI*2);if(R<0){R+=1;}R=R.Hf(0,1);}return R;};}function Cj(Yp,Gj,Ex){this.Yp=Yp;this.Gj=Gj;this.Ex=(Ex==null?0 :Ex);}{Cj.sj=Math.PI*2;Cj.prototype.Fx=function (Gx){this.Yp+=Gx;return this;};Cj.prototype.Hx=function (qq){this.Yp=Math.atan2(qq.t,qq.G)/Cj.sj;if(this.Yp<0){this.Yp+=1;}this.Gj=qq.ou();this.Ex=Math.asin(qq.qn/this.Gj)/Cj.sj;return this;};Cj.prototype.q=function (jn){this.Yp=jn.Yp;this.Gj=jn.Gj;this.Ex=jn.Ex;return this;};Cj.prototype.Ix=function (Yp,Gj,Ex){this.Yp=Yp;this.Gj=Gj;if(Ex!=null){this.Ex=Ex;}return this;};Cj.prototype.random=function (){this.Yp=Math.random();this.Ex=Math.random();return this;};Cj.prototype.Dj=function (Ax){var Jx=this.Yp*Cj.sj;var Kx=this.Ex*Cj.sj;var Lx=Math.cos(Kx);Ax.Tf(Math.cos(Jx)*Lx,Math.sin(Jx)*Lx,Math.sin(Kx)).ab(this.Gj);return Ax;};Cj.prototype.Mx=function (){while(this.Yp<0){this.Yp++;}while(this.Yp>=1){this.Yp--;}return this;};}function Nx(Ox,G,t,qn){this.Ox=Ox;this.G=G;this.t=t;this.qn=qn;}{Nx.Px=function (Qx,Rx){var Sx=Rx*Math.PI;var Tx=Math.sin(Sx);var Ox=Math.cos(Sx);var G=Qx.G*Tx;var t=Qx.t*Tx;var qn=Qx.qn*Tx;var R=new Nx(Ox,G,t,qn).cn();return R;};Nx.prototype.Ux=function (Vx){var Wx=new Nx(0,Vx.G,Vx.t,Vx.qn);var Xx=this.L().w(Wx).w(this.L().cx());Vx.q(Xx);return Vx;};Nx.prototype.L=function (){return new Nx(this.Ox,this.G,this.t,this.qn);};Nx.prototype.r=function (Yx){this.Ox/=Yx;this.G/=Yx;this.t/=Yx;this.qn/=Yx;return this;};Nx.prototype.cx=function (){var ou=this.ou();this.r(ou*ou);this.G*=-1;this.t*=-1;this.qn*=-1;return this;};Nx.prototype.w=function (jn){return this.Zx(this.Ox*jn.Ox-this.G*jn.G-this.t*jn.t-this.qn*jn.qn,this.Ox*jn.G+this.G*jn.Ox+this.t*jn.qn-this.qn*jn.t,this.Ox*jn.t-this.G*jn.qn+this.t*jn.Ox+this.qn*jn.G,this.Ox*jn.qn+this.G*jn.t-this.t*jn.G+this.qn*jn.Ox);};Nx.prototype.ou=function (){return Math.sqrt(this.Ox*this.Ox+this.G*this.G+this.t*this.t+this.qn*this.qn);};Nx.prototype.cn=function (){return this.r(this.ou());};Nx.prototype.q=function (jn){this.Zx(jn.Ox,jn.G,jn.t,jn.qn);return this;};Nx.prototype.Zx=function (Ox,G,t,qn){this.Ox=Ox;this.G=G;this.t=t;this.qn=qn;return this;};}function rx(Dx,ay){this.Dx=Dx;this.ay=ay;}{rx.prototype.by=function (){return this.ay.Cb;};rx.prototype.cy=function (dy){var Xp=new Cj().Hx(dy);Xp.Yp=(Xp.Yp+this.by()).Hf(0,1);return Xp.Dj(dy);};rx.prototype.ey=function (Rk){Rk.Bw(this.cy(Rk.nn));};}function fy(So,To){this.So=So;this.To=To;this._ut=new Ms([this.So,this.To]);}{fy.prototype.ut=function (){return this._ut;};}function ps(vj,k){this.vj=vj;this.k=k;this.zd=this.k.L().Q();this._nr=new g();this._or=new g();}{ps.prototype.Pv=function (jn){return (this.fu(jn.nr())&&this.fu(jn.or()));};ps.prototype.fu=function (gy){return gy.je(this.nr(),this.or());};ps.prototype.or=function (){return this._or.q(this.vj).Md(this.zd);};ps.prototype.nr=function (){return this._nr.q(this.vj).P(this.zd);};ps.prototype.hy=function (Vp){var iy=Vp[0];var jy=this._nr.q(iy);var ky=this._or.q(iy);for(var H=1;H<Vp.length;H++){var ly=Vp[H];if(ly.G<jy.G){jy.G=ly.G;}else if(ly.G>ky.G){ky.G=ly.G;}if(ly.t<jy.t){jy.t=ly.t;}else if(ly.t>ky.t){ky.t=ly.t;}if(ly.qn<jy.qn){jy.qn=ly.qn;}else if(ly.qn>ky.qn){ky.qn=ly.qn;}}this.vj.q(jy).Md(ky).Q();this.k.q(ky).P(jy);this.zd.q(this.k).Q();return this;};ps.prototype.Yt=function (jn){var R=false;var my=[[this.nr().Nl(),this.or().Nl()],[jn.nr().Nl(),jn.or().Nl()]];for(var lr=0;lr<my.length;lr++){var ny=my[lr];var oy=my[1 -lr];var py=ny[0];var qy=ny[1];var ry=oy[0];var sy=oy[1];var ty=true;for(var uy=0;uy<py.length;uy++){if(qy[uy]<=ry[uy]||py[uy]>=sy[uy]){ty=false;break;}}if(ty==true){R=true;break;}}return R;};ps.prototype.iw=function (vy){return vy.af(this.nr(),this.or());};ps.prototype.toString=function (){return this.nr().toString()+":"+this.or().toString();};}function rs(vj,Gj,length){this.vj=vj;this.Gj=Gj;this.length=length;this.cu=this.length/2;}function Ds(ek){this.ek=ek;this._de=new g();this._Cn=new g();this._wy=new g();}{Ds.prototype.Zt=function (){if(this._Zt==null){this._Zt=new ps(new g(),new g());}this._Zt.hy(this.ek);return this._Zt;};Ds.prototype.de=function (){return this._de.q(this.Cn()).cn();};Ds.prototype.Cn=function (){return this._Cn.q(this.ek[1]).P(this.ek[0]);};Ds.prototype.length=function (){return this.Cn().ou();};Ds.prototype.wy=function (Cl){return this._wy.q(this.de()).Ww(Cl);};Ds.prototype.toString=function (){return this.ek.toString();};}function ws(ek){this.ek=ek;}{ws.prototype.Zt=function (){if(this._Zt==null){this._Zt=new ps(new g(0,0,0),new g(0,0,0));}this._Zt.hy(this.ek);return this._Zt;};ws.prototype.fu=function (gy){var R=true;var xy=this.xy();var El=this.Dl.El;for(var yy=0;yy<xy.length;yy++){var Et=xy[yy];var zy=Et.wy(El).Ut(gy);var Ay=(zy>0);if(Ay==false){R=false;break;}}return R;};ws.prototype.xy=function (){if(this._xy==null){this._xy=[];for(var iu=0;iu<this.ek.length;iu++){var By=(iu+1).Hf(0,this.ek.length);var fk=this.ek[iu];var Cy=this.ek[By];var Et=new Ds([fk,Cy]);this._xy.push(Et);}}return this._xy;};ws.prototype.Dl=function (){if(this._Dl==null){this._Dl=new Or(new g(),0);}this._Dl.as(this.ek[0],this.ek[1],this.ek[2]);return this._Dl;};}function ys(Dl){this.Dl=Dl;}{ys.prototype.fu=function (gy){var Dy=gy.Ut(this.Dl.El)-this.Dl.Tt;var R=(Dy>0);return R;};}function Ey(Fp,Ip,Cp,Jp,Fy){this.Fp=Fp;this.Ip=Ip;this.Cp=Cp;this.Jp=Jp;this.Fy=Fy;this.dv=this.Fp.L().P(g.eb().Nw);this.k=this.Fp.L().w(this.Ip);this.zd=this.k.L().Q();this.Gy=this.Ip.L().Q();this.Hy=new g();}{Ey.prototype.Iy=function (cq,Jy){this.Hy.q(cq).r(this.Ip).floor();return this.Jp(this.Hy);};Ey.prototype.Ky=function (){return this.Fp.G*this.Fp.t;};}function Ly(){}{Ly.prototype.L=function (){return new Ly();};}function Fs(map,bg){this.map=map;this.bg=bg;this.Zt=new ps(this.bg.qd,this.map.k);}function As(vj,My,Mn){this.vj=vj;this.My=My;this.Mn=Mn;}{As.Ny=function (vj,k){var Zt=new ps(vj,k);var R=As.hu(Zt);return R;};As.Oy=function (vj){if(vj==null){vj=new g(0,0,0);}var k=new g(2,2,2);var R=As.Ny(vj,k);return R;};As.hu=function (Zt){var zd=Zt.zd;var nr=new g(-zd.G,-zd.t,-zd.qn);var or=new g(zd.G,zd.t,zd.qn);var My=[new g(nr.G,nr.t,nr.qn),new g(or.G,nr.t,nr.qn),new g(or.G,or.t,nr.qn),new g(nr.G,or.t,nr.qn),new g(nr.G,nr.t,or.qn),new g(or.G,nr.t,or.qn),new g(or.G,or.t,or.qn),new g(nr.G,or.t,or.qn),];var Mn=[new As_Py([0,1,5,4]),new As_Py([1,2,6,5]),new As_Py([2,3,7,6]),new As_Py([3,0,4,7]),new As_Py([0,3,2,1]),new As_Py([4,5,6,7]),];var R=new As(Zt.vj,My,Mn);return R;};As.Qy=function (vj,Ry,Sy){var Hl=Ry.ek;var Ty=Hl.length;var Uy=Sy/2;var Bu=[];var Mn=[];for(var qn=0;qn<2;qn++){var Vy=new g(0,0,(qn==0 ?-1 :1)).ab(Uy);var Wy=[];for(var iu=0;iu<Ty;iu++){var Ml=Bu.length;if(qn==0){var Xy=(Ml+1
).Hf(0,Ty);var Yy=new As_Py([Ml,Xy,Xy+Ty,Ml+Ty]);Mn.push(Yy);Wy.push(Ml);}else {Wy.cr(Ml,0);}var fk=Hl[iu].L().Md(Vy);Bu.push(fk);}var Zy=new As_Py(Wy);Mn.push(Zy);}var R=new As(vj,Bu,Mn);return R;};As.prototype.Zt=function (){if(this._Zt==null){this._Zt=new ps(new g(),new g());}this._Zt.hy(this.ek());return this._Zt;};As.prototype.pl=function (){var ek=this.ek();if(this._pl==null){this._pl=[];for(var xl=0;xl<this.Mn.length;xl++){var az=this.Mn[xl];var yl=az.bz(ek);this._pl.push(yl);}}return this._pl;};As.prototype.ek=function (){if(this._ek==null){this._ek=[];for(var iu=0;iu<this.My.length;iu++){this._ek.push(new g());}}for(var iu=0;iu<this._ek.length;iu++){var fk=this._ek[iu];var cz=this.My[iu];fk.q(this.vj).Md(cz);}return this._ek;};As.prototype.Pn=function (Qn){for(var iu=0;iu<this.My.length;iu++){var cz=this.My[iu];Qn.cy(cz);}this.ek();return this;};As.prototype.L=function (){return new As(this.vj.L(),this.My.L(),this.Mn.L());};As.prototype.q=function (jn){this.vj.q(jn.vj);this.My.q(jn.My);this.Mn.q(jn.Mn);};}function As_Py(yo){this.yo=yo;}{As_Py.prototype.bz=function (Bu){var Hl=[];for(var Ll=0;Ll<this.yo.length;Ll++){var Ml=this.yo[Ll];var dz=Bu[Ml];Hl.push(dz);}var R=new ws(Hl);return R;};As_Py.prototype.ez=function (Pp){for(var H=0;H<this.yo.length;H++){var Ml=this.yo[H];Ml+=Pp;this.yo[H]=Ml;}};As_Py.prototype.L=function (){return new As_Py(this.yo.slice());};As_Py.prototype.q=function (jn){this.yo.q(jn.yo);};}function fz(Vp){this.Vp=Vp;}{fz.prototype.L=function (){return new fz(this.Vp.L());};fz.prototype.q=function (jn){this.Vp.q(jn.Vp);return this;};fz.prototype.Pn=function (Qn){Sn.Tn(Qn,this.Vp);return this;};}function gz(){}{gz.prototype.hz=function (iz,jz){var kz=iz*2;var lz=1 /kz;var Xp=new Cj(0,1);var ek=[];for(var H=0;H<kz;H++){Xp.Gj=(H%2 ==0 ?1 :jz);var fk=Xp.Dj(new g());ek.push(fk);Xp.Yp+=lz;}var R=new fz(ek);return R;};}function Or(El,Tt){this.El=El;this.Tt=Tt;this.mz=new g();}{Or.prototype.nz=function (ly){return ly.Ut(this.El)-this.Tt;};Or.prototype.bx=function (jn){return (this.El.bx(jn.El)&&this.Tt==jn.Tt);};Or.prototype.as=function (iy,oz,pz){this.El.q(oz).P(iy).Ww(this.mz.q(pz).P(iy)).cn();this.Tt=iy.Ut(this.El);return this;};}function qz(fk,de){this.fk=fk;this.de=de;}function Ks(Gv){this.Gv=Gv;}function Ms(Bv){this.Bv=Bv;}function Ns(Bv){this.Bv=Bv;}function Os(Gv){this.Gv=Gv;}function rz(Zo,wj){this.Zo=Zo;this.wj=wj;this.Yo=new ts(this.Zo.vj,this.wj);this._ut=new Ms([this.Zo,new Os(new Ks(this.Yo))]);}{rz.prototype.ut=function (){return this._ut;};}function ts(vj,Gj){this.vj=vj;this.Gj=Gj;this._Cn=new g();}{ts.prototype.Pv=function (jn){var sz=this._Cn.q(jn.vj).P(this.vj);var tz=sz.ou();var R=(tz+jn.Gj<=this.Gj);return R;};ts.prototype.uz=function (){return new Cj(0,this.Gj).random().Dj(new g()).Md(this.vj);};}function vz(fk,wz,xz){this.fk=fk;this.wz=wz;this.xz=xz;this.yz=new Cj(0,1);}{vz.prototype.Xo=function (){var R=(this.Vo()+this.xz).Hf(0,1
);return R;};vz.prototype.Vo=function (){return this.yz.Hx(this.wz).Yp;};vz.prototype.ut=function (){if(this._ut==null){this.yz=new Cj(0,1);this.zz=new Cj(0,1);this.Az=new g();this.Bz=new g();this.Cz=new g();this.Dz=new g();this.Ez=new g();this.Fz=new Or(new g());this.Gz=new Or(new g());this.Hz=[new ys(this.Fz),new ys(this.Gz)];this.vv=new Ms(this.Hz);this.wv=new Ns(this.Hz);}var Vo=this.Vo();var Xo=this.Xo();this.yz.Yp=Vo;this.yz.Dj(this.Az);this.zz.Yp=Xo;this.zz.Dj(this.Bz);var pn=g.eb().Rw;this.Cz.q(this.fk).Md(pn);this.Dz.q(this.fk).Md(this.Az);this.Ez.q(this.fk).Md(this.Bz);this.Fz.as(this.fk,this.Dz,this.Cz);this.Gz.as(this.fk,this.Cz,this.Ez);if(this.xz<.5){this._ut=this.vv;}else {this._ut=this.wv;}return this._ut;};}function Iz(name,length,Rk,zb,Jz){this.name=name;this.length=length;this.Rk=Rk;this.zb=zb;this.Jz=(Jz==null?true:Jz);for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Kz=this.name;}}{Iz.prototype.qd=function (Lz){var R=new g(0,0,0);var Mz=Lz[this.Kz];while(Mz!=null){R.Md(Mz.Rk.nn.L().ab(Mz.length));Mz=Lz[Mz.Kz];}return R;};Iz.prototype.L=function (){var Nz=this.Rk.L();var R=new Iz(this.name,this.length,Nz,this.zb.L(),this.Jz);return R;};Iz.prototype.q=function (jn){this.Rk.q(jn.Rk);this.zb.q(jn.zb);};Iz.prototype.Pn=function (Qn){var ux=this.Rk.ux;for(var H=0;H<ux.length;H++){var Dx=ux[H];Qn.cy(Dx);}};}function Oz(Pz,Qz){this.Pz=Pz;this.Qz=Qz;}{Oz.Rz=function (Sz,Fn){var Tz=[];for(var H=0;H<Fn.length;H++){var Uz=Fn[H];var Pz=Uz.name;var Mz=Sz[Pz];if(Mz!=null){var Vz=new Oz(Pz,Uz.yo.slice());Tz.push(Vz);}}return Tz;}}function Wz(name,Xz){this.name=name;this.Xz=Xz;this.Lz=[];this.Lz=Yz.Zz(this.Xz,[]);this.Lz.d("name");}{Wz.prototype.bx=function (jn){var R=true;for(var H=0;H<this.Lz.length;H++){var aA=this.Lz[H];var bA=jn.Lz[H];if(aA.Rk.bx(bA.Rk)==false){R=false;break;}}return R;};Wz.prototype.L=function (jn){return new Wz(this.name,this.Xz.L());};Wz.prototype.q=function (jn){for(var H=0;H<this.Lz.length;H++){this.Lz[H].q(jn.Lz[H]);}};Wz.prototype.Pn=function (Qn){for(var H=0;H<this.Lz.length;H++){var Mz=this.Lz[H];Mz.Pn(Qn);}};}function cA(){}{cA.dA=function (eA){var fA=eA/2;var gA=eA/2.4;var hA=eA/3;var iA=eA/4;var jA=eA/6;var kA=eA/8;var lA=eA/9;var mA=eA/12;var nA=eA/18;var oA=new Iz("Hip.R",mA,new mx(new g(-1,0,0),new g(0,0,1)),[new Iz("Thigh.R",iA,new mx(new g(0,0,1),new g(-1,0,0)),[new Iz("Shin.R",iA,new mx(new g(0,0,1),new g(1,0,0)),[new Iz("Foot.R",kA,new mx(new g(0,1,0),new g(1,0,0)),[])]),])]);var pA=new Iz("Hip.L",mA,new mx(new g(1,0,0),new g(0,0,1)),[new Iz("Thigh.L",iA,new mx(new g(0,0,1),new g(-1,0,0)),[new Iz("Shin.L",iA,new mx(new g(0,0,1),new g(1,0,0)),[new Iz("Foot.L",kA,new mx(new g(0,1,0),new g(1,0,0)),[])]),])]);var qA=new Iz("Spine.1",gA,new mx(new g(0,0,-1),new g(0,-1,0)),[new Iz("Neck",mA,new mx(new g(0,0,-1),new g(0,1,0)),[new Iz("Head.Back",nA,new mx(new g(0,0,-1),new g(0,1,0)),[new Iz("Head.Front",lA,new mx(new g(0,1,0),new g(0,0,1)),[]),])]),new Iz("Shoulder.L",jA,new mx(new g(1,0,0),new g(0,0,1)),[new Iz("Bicep.L",jA,new mx(new g(0,-.1,1),new g(-1,0,0)),[new Iz("Forearm.L",jA,new mx(new g(0,.1,1),new g(-1,0,0)),[])])]),new Iz("Shoulder.R",jA,new mx(new g(-1,0,0),new g(0,0,1)),[new Iz("Bicep.R",jA,new mx(new g(0,-.1,1),new g(-1,0,0)),[new Iz("Forearm.R",jA,new mx(new g(0,.1,1),new g(-1,0,0)),[])])])]);var rA=new Wz("Skeleton0",new Iz("Root",fA,new mx(new g(0,0,-1),new g(0,1,0)),[oA,pA,qA,],false));/*rA.Pn(new Sn_sA([0,1]));rA.Pn(new Sn_tA(new g(-1,-1,1)));*/rA.Pn(new Sn_uA(new mx(new g(0,1,0),new g(0,0,1))));return rA;};cA.vA=function (){var R=new wA("Biped",[cA.xA(),cA.yA(),cA.zA(),]);return R;};cA.xA=function (){var R=new AA("DoSomething",[new BA(0,[new Sn_CA("Forearm.L",[.25 ]),new Sn_CA("Bicep.L",[.25,0,-.25 ]),new Sn_CA("Forearm.R",[.25 ]),new Sn_CA("Bicep.R",[.25,0,.25 ]),]),new BA(1,[new Sn_CA("Forearm.L",[.25 ]),new Sn_CA("Bicep.L",[.25,0,.25 ]),new Sn_CA("Forearm.R",[.25 ]),new Sn_CA("Bicep.R",[.25,0,-.25 ]),]),]);return R;};cA.yA=function (){var R=new AA("Jump",[new BA(0,[new Sn_CA("Thigh.L",[.25 ]),new Sn_CA("Shin.L",[.25 ]),new Sn_CA("Thigh.R",[.25 ]),new Sn_CA("Shin.R",[.25 ]),]),new BA(1,[new Sn_CA("Thigh.L",[.25 ]),new Sn_CA("Shin.L",[.25 ]),new Sn_CA("Thigh.R",[.25 ]),new Sn_CA("Shin.R",[.25 ]),]),]);return R;};cA.zA=function (){var DA=new AA("Walk",[new BA(0,[new Sn_CA("Bicep.L",[-.1 ]),new Sn_CA("Forearm.L",[0 ]),new Sn_CA("Thigh.L",[.1 ]),new Sn_CA("Shin.L",[0 ]),new Sn_CA("Bicep.R",[.1 ]),new Sn_CA("Forearm.R",[.1 ]),new Sn_CA("Thigh.R",[-.05 ]),new Sn_CA("Shin.R",[0 ]),]),new BA(5,[new Sn_CA("Thigh.L",[.1 ]),new Sn_CA("Shin.L",[.1 ]),new Sn_CA("Thigh.R",[-.1 ]),new Sn_CA("Shin.R",[0 ]),]),new BA(10,[new Sn_CA("Thigh.L",[0 ]),new Sn_CA("Shin.L",[0 ]),new Sn_CA("Thigh.R",[0 ]),new Sn_CA("Shin.R",[.1 ]),]),new BA(15,[new Sn_CA("Bicep.L",[.1 ]),new Sn_CA("Forearm.L",[.1 ]),new Sn_CA("Thigh.L",[-.05 ]),new Sn_CA("Bicep.R",[-.1 ]),new Sn_CA("Forearm.R",[0 ]),new Sn_CA("Thigh.R",[.1 ]),new Sn_CA("Shin.R",[0 ]),]),new BA(20,[new Sn_CA("Thigh.L",[-.1 ]),new Sn_CA("Shin.L",[0 ]),new Sn_CA("Thigh.R",[.1 ]),new Sn_CA("Shin.R",[.1 ]),]),new BA(25,[new Sn_CA("Thigh.L",[0 ]),new Sn_CA("Shin.L",[.1 ]),new Sn_CA("Thigh.R",[0 ]),new Sn_CA("Shin.R",[0 ]),]),new BA(30,[new Sn_CA("Bicep.L",[-.1 ]),new Sn_CA("Forearm.L",[0 ]),new Sn_CA("Thigh.L",[.1 ]),new Sn_CA("Shin.L",[0 ]),new Sn_CA("Bicep.R",[.1 ]),new Sn_CA("Forearm.R",[.1 ]),new Sn_CA("Thigh.R",[-.05 ]),new Sn_CA("Shin.R",[0 ]),]),]);return DA;};cA.EA_FA=function (GA,HA,IA){var ek=GA.ek;var Sz=HA.Lz;var JA=[];for(var iu=0;iu<ek.length;iu++){var fk=ek[iu];var KA=Number.LA_MA;var NA=null;for(var lr=0;lr<Sz.length;lr++){var Mz=Sz[lr];var Cn=fk.L().P(Mz.qd(Sz).Md(Mz.Rk.nn.L().ab(Mz.length)));var nu=Cn.ou();if(nu<KA){KA=nu;NA=lr;}}var OA=Sz[NA];var PA=OA.name;var Vz=JA[PA];if(Vz==null){Vz=new Oz(PA,[]);JA[PA]=Vz;JA.push(Vz);}Vz.Qz.push(iu);}var R=new QA(GA,HA,IA,JA);return R;};}function Sn_CA(Pz,RA){this.Pz=Pz;this.RA=RA;this.ar=this.Pz;}{Sn_CA.prototype.L=function (){return new Sn_CA(this.Pz,this.RA);};Sn_CA.prototype.SA=function (jn,TA){var UA=[];for(var H=0;H<this.RA.length;H++){var VA=(1 -TA)*this.RA[H]+TA*jn.RA[H];UA[H]=VA;}var R=new Sn_CA(this.Pz,UA);return R;};Sn_CA.prototype.Pn=function (WA){var XA=WA;var YA=XA.Lz[this.Pz];var ZA=YA.Rk;var aB=[ZA.pn,ZA.on,ZA.nn,];var bB=[];for(var H=0;H<this.RA.length;H++){var Qx=aB[H];var cB=this.RA[H];if(cB!=0){var dB=Nx.Px(Qx,cB);bB.push(dB);}}this.Pn_Iz(bB,YA)};Sn_CA.prototype.Pn_Iz=function (bB,YA){var eB=YA.Rk.ux;for(var H=0;H<bB.length;H++){var dB=bB[H];for(var mg=0;mg<eB.length;mg++){var fB=eB[mg];dB.Ux(fB);}}for(var H=0;H<YA.zb.length;H++){var gB=YA.zb[H];this.Pn_Iz(bB,gB);}};}function Sn_hB(GA,HA,IA,Tz){this.GA=GA;this.HA=HA;this.IA=IA;this.Tz=Tz;this.Tz.d("boneName");this._Rk=new mx(new g(),new g());this._fk=new g();}{Sn_hB.prototype.iB=function (jB){var kB=this.GA.Bl.My;var lB=jB.Bl.My;var mB=this.HA.Lz;var nB=this.IA.Lz;for(var H=0;H<this.Tz.length;H++){var Vz=this.Tz[H];var Pz=Vz.Pz;var oB=mB[Pz];var pB=nB[Pz];var qB=oB.Rk;var Qz=Vz.Qz;for(var Ll=0;Ll<Qz.length;Ll++){var Ml=Qz[Ll];var rB=kB[Ml];var sB=lB[Ml];var tB=oB.qd(mB);var uB=pB.qd(nB);var vB=this._fk.q(rB).P(tB);vB.Tf(vB.Ut(qB.on),vB.Ut(qB.pn),vB.Ut(qB.nn));sB.q(uB);var wB=this._Rk.q(pB.Rk);sB.Md(wB.on.ab(vB.G)).Md(wB.pn.ab(vB.t)).Md(wB.nn.ab(vB.qn));}}};}function Sn(){}{Sn.xB=function (Qn,yB){if(yB==null){return ;}for(var H=0;H<yB.length;H++){var zB=yB[H];Sn.Tn(Qn,zB);}};Sn.Tn=function (Qn,AB){for(var H=0;H<AB.length;H++){Qn.cy(AB[H]);}};}function Sn_Kr(Lk){this.Lk=Lk;this.BB=new Sn_CB(this.Lk.bg.qd);this.DB=new Sn_EB(this.Lk.bg.Rk);this.FB=new Sn_GB(this.Lk.Lr);this.HB=new Sn_Up(this.Lk.Mr);}{Sn_Kr.prototype.cy=function (dy){this.BB.cy(dy);this.DB.cy(dy);this.FB.cy(dy);this.HB.cy(dy);return dy;};}function Sn_sA(IB){this.IB=IB;}{Sn_sA.prototype.cy=function (dy){var JB=this.IB[0];var KB=this.IB[1];var LB=dy.Xw(JB);var MB=dy.Xw(KB);dy.Xw(JB,MB);dy.Xw(KB,LB);return dy;};}function Sn_NB(bg){this.bg=bg;this.OB=new Sn_uA();this.Tp=new Sn_Up();}{Sn_NB.prototype.cy=function (dy){this.OB.Rk=this.bg.Rk;this.OB.cy(dy);this.Tp.Cn=this.bg.qd;this.Tp.cy(dy);return dy;};}function Sn_PB(QB){this.QB=QB;}{Sn_PB.prototype.cy=function (dy){for(var H=0;H<this.QB.length;H++){var Pn=this.QB[H];Pn.cy(dy);}return dy;};}function Sn_uA(Rk){this.Rk=Rk;}{Sn_uA.prototype.cy=function (dy){dy.Tf(this.Rk.nn.Ut(dy),this.Rk.on.Ut(dy),this.Rk.pn.Ut(dy));return dy;};}function Sn_EB(Rk){this.Rk=Rk;}{Sn_EB.prototype.cy=function (dy){dy.Tf(this.Rk.on.Ut(dy),this.Rk.pn.Ut(dy),this.Rk.nn.Ut(dy));return dy;};}function RB(Rk){this.Rk=Rk;}{RB.prototype.cy=function (dy){dy.Tf(dy.Ut(this.Rk.on),dy.Ut(this.Rk.pn),dy.Ut(this.Rk.nn));};}function Sn_GB(Lr){this.Lr=Lr;}{Sn_GB.prototype.cy=function (dy){var SB=dy.qn;dy.ab(this.Lr);if(SB!=0){dy.gn(SB);}return dy;};}function Sn_TB(UB){this.UB=UB;this._Xp=new Cj(0,1);}{Sn_TB.prototype.cy=function (dy){this._Xp.Hx(dy).Fx(this.UB).Mx().Dj(dy);return dy;};}function Sn_VB(WB){this.WB=WB;}{Sn_VB.prototype.cy=function (dy){for(var H=0;H<this.WB;H++){var re=dy.G;dy.G=0 -dy.t;dy.t=re;}return dy;};}function Sn_tA(XB){this.XB=XB;}{Sn_tA.prototype.cy=function (dy){return dy.w(this.XB);};}function Sn_Up(Cn){this.Cn=Cn;}{Sn_Up.prototype.cy=function (dy){return dy.Md(this.Cn);};}function Sn_CB(Cn){this.Cn=Cn;}{Sn_CB.prototype.cy=function (dy){return dy.P(this.Cn);};}function YB(name){this.name=name;this.Ag=true;this.ZB=0;}function aC(){this.Yd=new g();this.Zd=new g(0,0);this.vg=new g(0,0);this.bC=new g(0,0);this.cC=["ArrowLeft","ArrowRight","Tab"];}{aC.prototype.Db=function (j){this.yg=[];this.dC=[];document.body.onkeydown=this.eC.bind(this);document.body.onkeyup=this.fC.bind(this);var Fm=j.xk.Fm;Fm.onmousedown=this.gC.bind(this);Fm.onmouseup=this.hC.bind(this);this.iC=true;if(this.iC==true){Fm.onmousemove=this.jC.bind(this);}this.kC();};aC.prototype.lC=function (Bg){if(this.yg[Bg]==null){var zg=new YB(Bg);this.yg[Bg]=zg;this.yg.push(zg);}};aC.prototype.Gg=function (mC){if(this.yg[mC]!=null){var nC=this.yg[mC];delete this.yg[mC];this.yg.Lc(nC);}};aC.prototype.oC=function (){for(var H=0;H<this.yg.length;H++){var pC=this.yg[H];this.Gg(pC);}};aC.prototype.qC=function (Cb){if(Cb==null){var zg=this.yg["MouseClick"];return (zg!=null&&zg.Ag==true);}else {if(Cb==true){this.lC("MouseClick");}else {this.Gg("MouseClick");}}};aC.prototype.wg=function (j){this.wg_rC(j);};aC.prototype.wg_rC=function (j){var sC=this.sC();for(var H=0;H<this.dC.length;H++){var tC=this.dC[H];var uC=sC[tC.dr];tC.vC(uC);var tg="Gamepad"+H;var wC=tC.wC;for(var mg=0;mg<wC.length;mg++){var xC=tg+"Move";var yC=wC[mg];if(yC==0){if(mg==0){this.Gg(xC+"Left");this.Gg(xC+"Right");}else {this.Gg(xC+"Up");this.Gg(xC+"Down");}}else {var zC;if(mg==0){zC=(yC<0 ?"Left":"Right");}else {zC=(yC<0 ?"Up":"Down");}this.lC(xC+zC);}}var AC=tg+"Button";var BC=tC.BC;for(var lr=0;lr<BC.length;lr++){var CC=BC[lr];if(CC==true){this.lC(AC+lr);}else {this.Gg(AC+lr);}}}};aC.prototype.eC=function (DC){var zg=DC.key;if(this.cC.lh(zg)==true){DC.preventDefault();}if(zg==" "){zg="_";}else if(zg=="_"){zg="__";}else if(isNaN(zg)==false){zg="_"+zg;}this.lC(zg);};aC.prototype.fC=function (DC){var nC=DC.key;if(nC==" "){nC="_";}else if(nC=="_"){nC="__";}else if(isNaN(nC)==false){nC="_"+nC;}this.Gg(nC);};aC.prototype.gC=function (DC){var zk=DC.target;var EC=zk.getBoundingClientRect();this.Yd.Tf(DC.clientX-EC.left,DC.clientY-EC.top,0
);this.lC("MouseClick");};aC.prototype.jC=function (DC){var zk=DC.target;var EC=zk.getBoundingClientRect();this.bC.Tf(DC.clientX-EC.left,DC.clientY-EC.top,0
);if(this.bC.bx(this.Zd)==false){this.vg.q(this.Zd);this.Zd.q(this.bC);this.lC("MouseMove");}};aC.prototype.hC=function (DC){this.Gg("MouseClick");};aC.prototype.kC=function (){var sC=this.sC();for(var H=0;H<sC.length;H++){var uC=sC[H];if(uC!=null){var tC=new FC(H);this.dC.push(tC);}}};aC.prototype.sC=function (){return navigator.getGamepads();};}function rg(inputName,Dg,Eg){this.inputName=inputName;this.Dg=Dg;this.Eg=Eg;}{rg.prototype.GC=function (j){return j.Eb.Yv.HC[this.Dg];};}function IC(name,JC){this.name=name;this.JC=JC;this.KC=false;this.LC();}{IC.prototype.LC=function (){var MC=document.createElement("style");MC.innerHTML="@font-face { "+"font-family: '"+this.name+"';"+"src: url('"+this.JC+"');";+"}";document.head.appendChild(MC);this.KC=true;};}function Fk(name,JC){this.name=name;this.JC=JC;this.KC=false;this.LC();}{Fk.Gk=function (name,Xj){var R=new Fk(name,Xj.src);R.Xj=Xj;R.vb=new g(Xj.width,Xj.height);R.KC=true;return R;};Fk.prototype.LC=function (){if(this.JC!=null){var Vn=this;var NC=document.createElement("img");NC.onload=function (DC){var OC=DC.target;Vn.KC=true;Vn.Xj=OC;Vn.vb=new g(OC.width,OC.height);};NC.src=this.JC;}};}function PC(rp,QC,RC,SC,TC){this.rp=rp.d("name");this.QC=QC.d("name");this.RC=RC.d("name");this.SC=SC.d("name");this.TC=TC.d("name");this.UC=[this.rp,this.QC,this.RC,this.SC,this.TC];this.UC["Images"]=this.rp;this.UC["Sounds"]=this.QC;this.UC["Videos"]=this.RC;this.UC["Fonts"]=this.SC;this.UC["TextStrings"]=this.TC;}{PC.prototype.VC=function (){var WC=true;for(var XC=0;XC<this.UC.length;XC++){var YC=this.UC[XC];for(var H=0;H<YC.length;H++){var pf=YC[H];if(pf.KC==false){WC=false;break;}}if(WC==false){break;}}return WC;};PC.prototype.ZC=function (aD,bD,Wc){var cD=this.dD[aD][bD];this.eD=setInterval(this.ZC_fD.bind(this,cD,Wc),100 );};PC.prototype.ZC_fD=function (cD,Wc){if(cD.KC==true){clearInterval(this.eD);Wc.call();}};PC.prototype.gD=function (Wc){this.eD=setInterval(this.gD_fD.bind(this,Wc),100 );};PC.prototype.gD_fD=function (Wc){if(this.VC()==true){clearInterval(this.eD);Wc.call();}};PC.prototype.hD=function (rp){for(var H=0;H<rp.length;H++){var Vn=rp[H];if(this.rp[Vn.name]==null){this.rp.push(Vn);this.rp[Vn.name]=Vn;}}};PC.prototype.iD=function (name){return this.SC[name];};PC.prototype.tp=function (name){return this.rp[name];};PC.prototype.jD=function (name){return this.QC[name];};PC.prototype.Fc=function (name){return this.TC[name];};PC.prototype.kD=function (name){return this.RC[name];};}function lD(name,JC,Ho){this.name=name;this.JC=JC;this.Ho=Ho;this.mD=0;this.nD=false;}{lD.prototype.oD=function (j,pD){this.dd=document.createElement("audio");this.dd.qD=this;this.dd.rD=true;this.dd.sD=this.tD.bind(this,j);this.dd.uD=this.Ho;this.dd.pD=pD;var vD=document.createElement("source");vD.src=this.JC;this.dd.appendChild(vD);return this.dd;};lD.prototype.wD=function (j){var mD=this.dd.xD;this.Mj(j);this.mD=mD;};lD.prototype.yD=function (j,pD){if(this.nD==false){this.nD=true;this.oD(j,pD);this.dd.xD=this.mD;j.xk.Bk(this.dd);}};lD.prototype.Ib=function (){this.mD=0;};lD.prototype.Mj=function (j,DC){if(this.nD==true){this.nD=false;var dd=(DC==null?this.dd:DC.zD);j.xk.yk(dd);this.mD=0;}};lD.prototype.tD=function (j,DC){if(this.Ho==false){this.Mj(j,DC);}};}function tb(QC){this.QC=QC;this.QC.d("name");this.AD=1;this.BD=1;this.CD=null;}{tb.ub=function (){var R=[new Gf(1,"100%"),new Gf(0,"0%"),new Gf(.1,"10%"),new Gf(.2,"20%"),new Gf(.3,"30%"),new Gf(.4,"40%"),new Gf(.5,"50%"),new Gf(.6,"60%"),new Gf(.7,"70%"),new Gf(.8,"80%"),new Gf(.9,"90%"),];return R;};tb.prototype.Ib=function (){for(var H=0;H<this.QC.length;H++){var qD=this.QC[H];qD.mD=0;}};tb.prototype.DD=function (j,ED){this.QC[ED].yD(j,this.BD);};tb.prototype.FD=function (j,GD){var HD=this.QC[GD];var ID=this.CD;if(ID!=null){if(ID.name!=GD){ID.Mj(j);}}HD.yD(j,this.AD);this.CD=HD;};}function JD(name,JC){this.name=name;this.JC=JC;this.LC();}{JD.KD=function (name,Cb){var R=new (name,null);R.Cb=Cb;return R;};JD.prototype.LC=function (){var text=this;var LD=new XMLHttpRequest();LD.open("GET",this.JC);LD.onreadystatechange=function (){text.Cb=LD.responseText;text.KC=true;};LD.send();};}function Kc(MD,jb){this.MD=MD;this.jb=jb;this.ND=false;this.qg=[new rg("Escape","VideoSkip",true),new rg("Gamepad0Button0","VideoSkip",true),].d("inputName");}{Kc.prototype.Kd=function (){};Kc.prototype.wg=function (j){if(this.OD==null){j.o.wk(j);this.OD=j.PD.RC[this.MD];this.OD.yD(j);}if(this.OD.QD==false){var RD=false;var xg=j.xg;if(xg.qC()==true){xg.qC(false);RD=true;}else {var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var SD=this.qg[zg.name];if(SD!=null){zg.Ag=false;var Dg=SD.Dg;if(Dg=="VideoSkip"){RD=true;}}}}}if(RD==true){this.OD.Mj(j);}}if(this.OD.QD==true){var o=j.o;o.Ej("Black","Black");o.Ck(j);j.jb=new nb(this.jb,this);}};}function TD(name,JC){this.name=name;this.JC=JC;}{TD.prototype.oD=function (j){this.dd=document.createElement("video");this.dd.src=this.JC;this.dd.OD=this;this.dd.rD=true;this.dd.sD=this.Mj.bind(this,j);var N=j.o.vb;this.dd.width=N.G;this.dd.height=N.t;return this.dd;};TD.prototype.yD=function (j){this.QD=false;j.xk.Bk(this.oD(j));};TD.prototype.Mj=function (j,DC){var dd=(DC==null?this.dd:DC.zD);j.xk.yk(dd);this.QD=true;};}function UD(RC){this.RC=RC;this.RC.d("name");}function VD(WD){this.WD=WD;}{VD.prototype.Kd=function (j,Eb,o,Zf,Co){j.sb.DD(j,this.WD);};}function XD(name,YD){this.name=name;this.YD=YD;}{XD.eb=function (){if(XD._eb==null){XD._eb=new XD_eb();}return XD._eb;};function XD_eb(){this.ZD=new XD("DoNothing",function (aE){})}}function bE(cE,target){this.cE=cE;this.target=target;}{bE.prototype.wg=function (j,Eb,Wv,Co){this.cE(j,Eb,Wv,Co,this.target);}}function dE(ut,eE,fE){this.ut=ut;this.eE=eE;this.fE=fE;if(this.eE==null){this.eE=[];}this.gE=0;this.hE=null;}{dE.prototype.wg=function (j,Eb,Wv,Co){if(this.gE>0){this.gE--;}else {for(var iE=0;iE<this.eE.length;iE++){var jE=this.eE[iE];var kE=Wv.lE(jE);if(kE!=null){for(var yy=0;yy<kE.length;yy++){var mE=kE[yy];if(mE!=Co){var nE=mE.dE;var oE=(nE.gE==0);if(oE){var pE=Co.dE.ut;var qE=nE.ut;var rE=j.rE;var sE=rE.wt(pE,qE);if(mE==this.hE){if(sE){sE=false;}else {this.hE=null;}}if(sE){this.fE(j,Eb,Wv,Co,mE);}}}}}}}};}function tE(uE){this.uE=uE;}{tE.Vv=function (j,Eb,Wv,Co){var vE=Co.tE;var uE=vE.uE;for(var H=0;H<uE.length;H++){var cw=uE[H];cw.Vv(j,Eb,Wv,Co);}};tE.prototype.wg=function (j,Eb,Wv,Co){tE.Vv(j,Eb,Wv,Co);};}function wE(){}function xE(Zv){this.Zv=Zv.d("name");}function yE(Yf){this.Yf=Yf;}{yE.prototype.wg=function (j,Eb,Wv,Co){this.bg=Co.ag.bg;this.Yf.Kd(j,Eb,j.o,this,Co);};}function zE(name,AE){this.name=name;this.AE=AE;for(var H=0;H<this.AE.length;H++){var BE=this.AE[H];var ar=BE.constructor.name;this[ar]=BE;}}function CE(DE,EE){this.DE=DE;this.EE=EE;}{CE.prototype.wg=function (j,Eb,Wv,FE){this.DE--;if(this.DE<=0){Wv.GE.push(FE);if(this.EE!=null){this.EE(j,Eb,Wv,FE);}}};}function HE(IE){this.IE=IE;}function JE(){}{JE.prototype.wg=function (j,Eb,Wv,KE){var LE=KE.ag.bg;LE.Rk.Bw(g.eb().fb);};}function ME(jh,NE){this.jh=jh;this.NE=NE;}{ME.prototype.yh=function (Eb){return Eb.Yv.OE[this.jh];};ME.prototype.toString=function (){return this.jh+" ("+this.NE+")";};}function PE(name){this.name=name;}function QE(Fe){this.Fe=Fe||[];this.Fe.d("name");}{QE.prototype.RE=function (SE){var TE=this.Fe[SE.jh];var UE=(TE==null?0 :TE.NE);var R=(UE>=SE.NE);return R;};QE.prototype.VE=function (WE){var XE=WE.jh;var TE=this.Fe[XE];if(TE==null){this.Fe.push(WE);this.Fe[XE]=WE;}else {TE.NE+=WE.NE;}};QE.prototype.YE=function (ZE){var XE=ZE.jh;var TE=this.Fe[XE];if(TE!=null){this.Fe.Lc(TE);delete this.Fe[XE];}};QE.prototype.aF=function (bF){var XE=bF.jh;var TE=this.Fe[XE];if(TE!=null){TE.NE-=bF.NE;if(TE.NE<=0){this.Fe.Lc(TE);delete this.Fe[XE];}}};QE.prototype.cF=function (jn){for(var H=0;H<this.Fe.length;H++){var pf=this.Fe[H];jn.VE(pf);this.YE(pf);}};}function dF(eF,fF){this.eF=eF;this.fF=fF;}{dF.prototype.wg=function (j,Eb,Wv,gF){if(this.eF<=0){Wv.GE.push(gF);if(this.fF!=null){this.fF(j,Eb,Wv,gF);}}};}function ag(bg){this.bg=bg;}{ag.prototype.wg=function (j,Eb,Wv,Co){var bg=this.bg;bg.nw.Md(bg.ox);bg.ox.clear();bg.qd.Md(bg.nw);var qx=bg.qx;if(qx.by()!=0){bg.qx.ey(bg.Rk);}};}function hF(iF){this.iF=iF;}{hF.prototype.wg=function (j,Eb,Wv,Co){};}function jF(kF){this.kF=[];this._lE={};this.lF=kF.slice();this.GE=[];this.mF=[ag.name,tE.name,dE.name,JE.name,bE.name,nF.name,CE.name,dF.name,];}{jF.prototype.Kd=function (j,Eb){var oF=this.lE(yE.name);for(var H=0;H<oF.length;H++){var Co=oF[H];var Zf=Co.yE;Zf.wg(j,Eb,this,Co);}};jF.prototype.lE=function (ar){var gi=this._lE[ar];if(gi==null){gi=[];this._lE[ar]=gi;}return gi;};jF.prototype.pF=function (){for(var H=0;H<this.GE.length;H++){var Co=this.GE[H];this.qF(Co);}this.GE.clear();};jF.prototype.rF=function (j,Eb){for(var H=0;H<this.lF.length;H++){var Co=this.lF[H];this.sF(j,Eb,Co);}this.lF.clear();};jF.prototype.qF=function (Co){var tF=Co.AE;for(var iE=0;iE<tF.length;iE++){var BE=tF[iE];var ar=BE.constructor.name;var kE=this.lE(ar);kE.Lc(Co);}this.kF.Lc(Co);delete this.kF[Co.name];};jF.prototype.sF=function (j,Eb,Co){this.kF.push(Co);this.kF[Co.name]=Co;var tF=Co.AE;for(var iE=0;iE<tF.length;iE++){var BE=tF[iE];var ar=BE.constructor.name;var kE=this.lE(ar);kE.push(Co);if(BE.Db!=null){BE.Db(j,Eb,this,Co);}}};jF.prototype.uF=function (j,Eb){j.xg.oC();};jF.prototype.Db=function (j,Eb){};jF.prototype.wg=function (j,Eb){this.pF();this.rF(j,Eb);for(var iE=0;iE<this.mF.length;iE++){var ar=this.mF[iE];var kE=this.lE(ar);if(kE!=null){for(var H=0;H<kE.length;H++){var Co=kE[H];var vF=Co[ar];vF.wg(j,Eb,this,Co);}}}};}function wF(k,xF,yF){this.k=k;var zF=this.k.L().Q();var AF=zF.G;this.Lk=new Kr(zF,AF,new yd(new g(0,0,-AF),mx.eb().wx.L()));var BF=g.eb();this.HC=[XD.eb().ZD,new XD("ShowMenu",function YD(j,Eb,Wv,aE){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}),new XD("MoveDown",function YD(j,Eb,Wv,aE){Wv.CF(Eb,aE,BF.Tw);}),new XD("MoveLeft",function YD(j,Eb,Wv,aE){Wv.CF(Eb,aE,BF.Mw);}),new XD("MoveRight",function YD(j,Eb,Wv,aE){Wv.CF(Eb,aE,BF.Pw);}),new XD("MoveUp",function YD(j,Eb,Wv,aE){Wv.CF(Eb,aE,BF.Sw);}),new XD("Fire",function YD(j,Eb,Wv,aE){var DF=new ME("Weapon",1);var EF=aE.QE.RE(DF);if(EF==false){return ;}var FF=aE.ag.bg;var GF=FF.qd;var HF=FF.nw;var IF=HF.ou();if(IF==0){return ;}var JF="Cyan";var KF=3;var LF=new op([new cp(KF,JF),new Op(new nq("Projectile",JF),new g(0,KF))]);var MF=HF.L().cn();var NF=aE.dE.ut.Gj;var OF=GF.L().Md(MF.L().ab(NF).ax().ax());var PF=new yd(OF);PF.nw.q(HF).ax();var QF=new ts(OF,KF);var RF=function (j,Eb,Wv,SF,mE){if(mE.dF!=null){Wv.GE.push(mE);}};var TF=new zE("Projectile",[new wE(),new CE(32),new ag(PF),new dE(QF,[dF.name],RF),new yE(LF)]);Wv.lF.push(TF);}),].d("name");this.qg=[new rg("Escape","ShowMenu"),new rg("ArrowDown","MoveDown"),new rg("ArrowLeft","MoveLeft"),new rg("ArrowRight","MoveRight"),new rg("ArrowUp","MoveUp"),new rg("Enter","Fire"),new rg("Gamepad0Down","MoveDown"),new rg("Gamepad0Left","MoveLeft"),new rg("Gamepad0Right","MoveRight"),new rg("Gamepad0Up","MoveUp"),new rg("Gamepad0Button0","Fire"),].d("inputName");var UF=10;var VF=UF/2;var WF=new g(1,1,1).ab(UF);var kF=[];var XF=100;var YF=new g(.5,.5,.01).ab(XF);var ZF=new aq(YF,this.Lk.rn.L(),new Zp(YF,null,"rgba(255, 255, 255, 0.02)"));var aG=new zE("BackgroundBottom",[new ag(new yd(new g(0,0,AF))),new yE(ZF)]);kF.push(aG);YF=new g(1,1,.01).ab(XF);var bG=new aq(YF,this.Lk.rn.L(),new Zp(YF,null,"rgba(255, 255, 255, 0.06)"));var cG=new zE("BackgroundTop",[new ag(new yd(new g(0,0,0))),new yE(bG)]);kF.push(cG);var LE=new yd(xF);var dG=new ts(LE.qd,VF);var eG="Gray";var fG=new cp(VF,eG);var gG=new ep(new Np(),[new Wp(UF*1.25,eG)]);var hG=new Zp(WF.L().gn(4),eG);var iG=new ep(new Np(),[new Eo("MoveRight",5,[new Op(hG,new g(1,0).ab(UF)),new Op(hG,new g(1.5,0).ab(UF)),new Op(hG,new g(2,0).ab(UF)),]),new Eo("MoveDown",5,[new Op(hG,new g(0,1).ab(UF)),new Op(hG,new g(0,1.5).ab(UF)),new Op(hG,new g(0,2).ab(UF)),]),new Eo("MoveLeft",5,[new Op(hG,new g(-1,0).ab(UF)),new Op(hG,new g(-1.5,0).ab(UF)),new Op(hG,new g(-2,0).ab(UF)),]),new Eo("MoveUp",5,[new Op(hG,new g(0,-1).ab(UF)),new Op(hG,new g(0,-1.5).ab(UF)),new Op(hG,new g(0,-2).ab(UF)),]),]);var jG=new Op(new nq("Player",eG),new g(0,UF));var kG=new op([gG,fG,jG,iG,]);var lG=function (j,Eb,Wv,SF,mE){var mG=null;if(mE.wE!=null){mG="You lose!";}else if(mE.HE!=null){var nG=new ME("Key",mE.HE.IE);if(SF.QE.RE(nG)){mG="You win!";}}else if(mE.ME!=null){var pf=mE.ME;SF.QE.VE(pf);Wv.GE.push(mE);}else if(mE.oG!=null){mE.dE.gE=100;mE.yE.Jo["Friendly"].Mo=0;var sh=j.Ec.Fc("Conversation").Cb;var th=Mg.bd(sh);var Ph=j.ob;var pG=new xh(th,function zh(Oh){j.jb=Ph;});var qG=j.o.p.L();var rG=pG.Nh(qG,j);var jb=new kb(rG);j.jb=jb;}if(mG!=null){var sG=new Hg(mG,new kb(j.lb.Jb(j)),j.ob,j.o.p.L().Q());j.jb=sG;}};var tG=new Uv("SpeedMax",5);var uG=new Uv("Friction",.03);var vG=new zE("Player",[new ag(LE),new tE([uG,tG]),new dE(dG,[dE.name],lG),new yE(kG),new QE(),new nF(),new JE(),]);kF.push(vG);var wG="Green";var xG=new g().gx().w(this.k);var yG=new yd(xG);var zG=new ts(yG.qd,VF);var AG=new mp(VF,VF*.8,.125,wG,null);var BG=new op([new Eo("Friendly",100,[new Eo("Blinking",3,[new Np(),AG]),AG],false),new Op(new nq("Talker",wG),new g(0,UF))]);var CG=new zE("Friendly",[new ag(yG),new tE([tG]),new dE(zG),new yE(BG),new oG("AnEveningWithProfessorSurly"),new bE(function cE(j,Eb,Wv,DG,target){var aE=DG.bE;var Aw=aE.target;if(Aw==null){Aw=new g().gx().w(Wv.k);aE.target=Aw;}var FF=DG.ag.bg;var GF=FF.qd;var EG=Aw.L().P(GF).ou();if(EG>=2){FF.nw.q(Aw).P(GF).cn();}else {GF.q(Aw);aE.target=null;}}),]);kF.push(CG);var FG="Red";var GG=FG;var HG=this.k.L().P(LE.qd);var IG=new yd(HG);var JG=new ws([new g(0,-UF).Q(),new g(UF,UF).Q(),new g(-UF,UF).Q(),]);var KG=As.Qy(HG,JG,1 );var LG=new op([new Qp(new fz(JG.ek),GG,null),new Op(new nq("Chaser",GG),new g(0,UF))]);var MG=new zE("Enemy",[new ag(IG),new tE([tG]),new dE(KG),new wE(),new dF(1),new yE(LG),new bE(function cE(j,Eb,Wv,aE,NG){var target=Wv.kF[NG];var FF=aE.ag.bg;FF.nw.q(target.ag.bg.qd).P(FF.qd).cn();},"Player"),]);kF.push(MG);var OG=FG;var PG=4;var QG=5;for(var H=0;H<PG;H++){var RG;if(H%2 ==0){RG=new g(k.G,QG,1);}else {RG=new g(QG,k.t,1);}var SG=RG.L().Q().M();if(H>=2){SG.cx().Md(k);}var TG=new yd(SG);var UG=new ps(SG,RG);var VG=new Zp(RG,OG);var WG=new zE("ObstacleWall"+H,[new ag(TG),new dE(UG),new wE(),new yE(VG)]);kF.push(WG);}var XG=["....xxxx....",".....xx.....",".....xx....","....xxxx....","x..xx..xx..x","xxxx.xx.xxxx","xxxx.xx.xxxx","x..xx..xx..x","....xxxx....",".....xx.....",".....xx.....","....xxxx....",];var YG=new g(XG[0].length,XG.length,1
);var ZG=new g(2,2,1);var aH=new Ey(YG,ZG,new Ly(),function Jp(map,Dp,Jy){var bH=map.Fy[Dp.t][Dp.G];var Kp=(bH=="x"?"Blocking":"Open");var cH=(bH=="x");Jy.Lp=Kp;Jy.kv=cH;return Jy;},XG);var dH={"Blocking":new Zp(ZG,OG),"Open":new Np()};var eH=new op([new zp(aH,dH),new Op(new nq("Mine",OG),new g(0,UF))]);var fH=QG*4;var Z=new g(1,1,0).ab(fH);var gH=this.k.L().P(Z).P(Z);var hH=48;var iH=[];for(var H=0;H<hH;H++){var jH=new g().gx().w(gH).Md(Z);var kH=new yd(jH);var lH=new zE("ObstacleMapped",[new ag(kH),new dE(new Fs(aH,kH)),new wE(),new yE(eH)]);iH.push(lH);kF.push(lH);}var mH="Yellow";var nH=new op([new cp(VF,mH),new Op(new nq("Key",mH),new g(0,UF))]);var oH=32;var Cn=new g();for(var H=0;H<yF;H++){var pH=new g().gx().w(gH).Md(Z);for(var oh=0;oh<iH.length;oh++){var qH=iH[oh].ag.bg.qd;var rH=Cn.q(qH).ou();if(rH<oH){Cn.cn().ab(oH);qH.Md(Cn);}}var sH=new ts(pH,VF);var tH=new zE("Key"+H,[new ME("Key",1),new ag(new yd(pH)),new dE(sH),new yE(nH)]);kF.push(tH);}var uH="Cyan";var vH=new op([new cp(VF,uH),new Op(new nq("Weapon",uH),new g(0,UF))]);var wH=new g().gx().w(gH);var xH=new ts(wH,VF);var yH=new zE("Weapon",[new ME("Weapon",1),new ag(new yd(wH)),new dE(xH),new yE(vH)]);kF.push(yH);var zH=new g().gx().ab(.5
).qk(.25,.25,0
).w(this.k);var AH=new yd(zH);var BH="Green";var CH=new zE("Goal",[new ag(AH),new dE(new ps(zH,WF)),new yE(new op([new Zp(WF,BH),new nq(""+yF,mH),new Op(new nq("Exit",BH),new g(0,UF))])),new HE(yF),]);kF.push(CH);var qH=CH.ag.bg.qd;var DH=new yd(qH);DH.qx.ay.Cb=0.002;var UG=new fy(new rz(new ts(qH,UF*3),UF*2 ),new vz(qH,DH.Rk.nn,.85 ));var EH=new zE("ObstacleRing",[new ag(DH),new dE(UG),new wE(),new yE(new Ro(UG,OG,OG))]);kF.push(EH);for(var H=0;H<kF.length;H++){var Co=kF[H];var FH=Co.yE;if(FH!=null){var GH=FH.Yf;FH.Yf=new ap(GH,this.Lk);}}jF.call(this,kF);this.Ld=new g();this.xd=new yd(this.Ld);}{wF.prototype=Object.create(jF.prototype);wF.prototype.constructor=wF;wF.prototype.Kd_HH=jF.prototype.Kd;wF.prototype.Kd=function (j,Eb){var o=j.o;o.Ej("Gray","Black");var xd=this.xd;var Ld=xd.qd;var KE=this.kF["Player"];var LE=KE.ag.bg;var Lk=this.Lk;Lk.bg.qd.q(LE.qd).af(Lk.Mr,this.k.L().P(Lk.Mr)).P(new g(0,0,Lk.Lr));this.Kd_HH(j,Eb);};wF.prototype.CF=function (Eb,Co,IH){var lw=Co.ag.bg;lw.Rk.Bw(IH);var nw=lw.nw;if(nw.bx(IH)==false){lw.tx=Eb.JH;}lw.ox.q(IH).ab(.5 );};}function nF(KE){this.KE=KE;}{nF.prototype.wg=function (j,Eb,Wv,SF){var k=Wv.k;var qg=Wv.qg;var HC=Wv.HC;var Lk=Wv.Lk;var LE=SF.ag.bg;var xg=j.xg;if(xg.qC()==true){xg.qC(false);LE.qd.q(xg.Yd).r(j.o.Fg).Md(Lk.bg.qd).P(Lk.Mr).Qo(k);j.sb.DD(j,"Sound");}var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var Cg=qg[zg.name];if(Cg!=null){var Dg=Cg.Dg;var GC=HC[Dg];GC.YD(j,Eb,Wv,SF);if(Cg.Eg==true){zg.Ag=false;}}}}};}function oG(KH){this.KH=KH;}function LH(name,MH,o,Ec,Eb){this.name=name;this.MH=MH;this.o=o;this.Ec=Ec;this.Eb=Eb;this.jb=null;}{LH.new =function (name,MH,o,Ec,Eb){var R=new LH(name,MH,o,Ec,Eb,[]);var NH=OH.PH().QH["debug"];R.NH=NH;return R;};LH.prototype.Db=function (){this.rE=new ls();this.xk=new RH();this.xk.Db(this);this.ad=new SH();this.TH=new UH(this.name+"_",this.ad);this.Qb=new VH(this.TH);this.o.Db(this);this.sb=new tb(this.Ec.QC);this.PD=new UD(this.Ec.RC);this.lb=new b([If.eb().Jf]);var WH=new kb(this.lb.Jb(this,this.o.vb));WH=new nb(WH,WH);this.jb=WH;this.xg=new aC();this.xg.Db(this);this.MH.Db(this.wg.bind(this));};LH.prototype.Ib=function (){this.sb.Ib();};LH.prototype.wg=function (){this.xg.wg(this);if(this.jb!=null){if(this.ob!=null&&this.ob.uF!=null){this.ob.uF(this);}this.ob=this.jb;this.jb=null;if(this.ob.Db!=null){this.ob.Db(this);}}this.ob.wg(this);};}function Fb(Eb){this.name="World";this.Eb=Eb;}{Fb.prototype.Kd=function (j){this.Eb.Kd(j);};Fb.prototype.uF=function (j){j.sb.CD.wD(j);};Fb.prototype.Db=function (j){j.Eb=this.Eb;this.Eb.Db(j);var sb=j.sb;sb.FD(j,"Music");};Fb.prototype.wg=function (j){this.Eb.wg(j);this.Kd(j);};}function Pb(name,zc,Yv,Wv){this.name=name;this.zc=zc;this.JH=0;this.Yv=Yv;this.Wv=Wv;}{Pb.new =function (j){var hc=ic.hc();var jc=hc.kc_lc_mc();var Wv=new wF(j.o.vb.L().ax(),new g(15,15),5 );Wv.rF(j,null);var Zv=[aw.eb().jw,aw.eb().Cw,];var Yv=new xE(Zv);var R=new Pb("World-"+jc,hc,Yv,Wv);return R;};Pb.prototype.Kd=function (j){this.Wv.Kd(j,this);};Pb.prototype.Db=function (j){this.Wv.Db(j,this);};Pb.prototype.wg=function (j){this.Wv.wg(j,this);this.JH++;};}function cc(name,Ob){this.name=name;this.Ob=Ob;}function VH(TH){this.TH=TH;this.ar="Profiles";}{VH.prototype.dc=function (Nb){var ec=this.ec();ec.push(Nb);this.TH.save(this.ar,ec);};VH.prototype.Xb=function (XH){var ec=this.ec();var YH=this.ZH(ec,XH.name);ec.jr(YH);this.TH.save(this.ar,ec);};VH.prototype.ZH=function (ec,aI){var R=null;for(var H=0;H<ec.length;H++){var Nb=ec[H];if(Nb.name==aI){R=H;break;}}return R;};VH.prototype.Rb=function (bI){var ec=this.ec();var YH=this.ZH(ec,bI.name);if(YH==null){ec.push(bI);}else {ec.jr(YH).cr(bI,YH);}try{this.TH.save(this.ar,ec);}catch (cI){var dI="Error attempting to save: "+cI;alert(dI);}};VH.prototype.ec=function (){var ec=this.TH.LC(this.ar);if(ec==null){ec=[];this.TH.save(this.ar,ec);}return ec;};VH.prototype.nc=function (XH){this.TH.save(this.ar,"");};}function hd(){}{hd.prototype.eI=function (fI,Wc,gI){var hI=new iI();hI.jI=fI;hI.Wc=Wc;hI.gI=gI;hI.onload=this.kI_lI.bind(this);hI.mI(fI);};hd.prototype.jd=function (fI,Wc,gI){var hI=new iI();hI.jI=fI;hI.Wc=Wc;hI.gI=gI;hI.onload=this.kI_lI.bind(this);hI.nI(fI);};hd.prototype.kI_lI=function (oI){var hI=oI.target;var pI=hI.Xx;var qI=hI.jI.name;var Wc=hI.Wc;var gI=hI.gI;Wc.call(gI,pI);};hd.prototype.rI=function (sI,qI){var tI=new uI(sI.length);var vI=new wI(tI);for(var H=0;H<sI.length;H++){vI[H]=sI.charCodeAt(H);}var xI=new yI([tI],{type:'zI/zI'});var AI=document.createElement("a");AI.BI=window.CI.DI(xI);AI.EI=qI;AI.gb();};hd.prototype.pd=function (FI,GI){var HI=new yI([FI],{type:"text/plain"});var AI=document.createElement("a");AI.BI=window.CI.DI(HI);AI.EI=GI;AI.gb();};}function SH(){}{SH.prototype.bd=function (II){var JI=JSON.parse(II);JI.__proto__=KI.prototype;JI.LI();var R=JI.MI([]);return R;};SH.prototype.od=function (NI,OI){var JI=new KI(NI);JI.Mx([],[]);var QI=JSON.stringify(JI,null,(OI==true?4 :null));return QI;};}function KI(RI){this.Jl=null;this.id=null;this.SI=null;this.TI=RI;}{KI.prototype.Mx=function (UI,VI){var RI=this.TI;if(RI!=null){var WI=RI.constructor.name;var XI=UI.indexOf (RI);if(XI>=0){var YI=VI[XI];this.id=YI.id;this.SI=true;this.TI=null;}else {this.SI=false;var ZI=UI.length;this.id=ZI;UI.push(RI);VI[ZI]=this;this.Jl=WI;if(WI=="Function"){this.TI=RI.toString();}else {var zb={};this.XC=zb;for(var ar in RI){if(RI.__proto__[ar]==null){var aJ=RI[ar];if(aJ==null){Td=null;}else {var bJ=aJ.constructor.name;if(bJ=="Boolean"||bJ=="Number"||bJ=="String"){Td=aJ;}else {Td=new KI(aJ);}}zb[ar]=Td;}}delete this.TI;for(var jq in zb){var Td=zb[jq];if(Td!=null){var cJ=Td.constructor.name;if(cJ=="SerializerNode"){Td.Mx(UI,VI);}}}}}}return this;};KI.prototype.LI=function (){var zb=this.XC;if(zb!=null){for(var jq in zb){var Td=zb[jq];if(Td!=null){var cJ=Td.constructor.name;if(cJ=="Object"){Td.__proto__=KI.prototype;Td.LI();}}}}};KI.prototype.MI=function (dJ){var eJ=this.SI;if(eJ==true){var fJ=dJ[this.id];this.TI=fJ.TI;}else {dJ[this.id]=this;var WI=this.Jl;if(WI==null){}else if(WI=="Array"){this.TI=[];}else if(WI=="Function"){this.TI=Ji("("+this.TI+")");}else if(WI=="Boolean"||WI=="Number"||WI=="String"){}else {this.TI={};var gJ=Ji("("+WI+")");this.TI.__proto__=gJ.prototype;}var zb=this.XC;if(zb!=null){for(var jq in zb){var Td=zb[jq];if(Td!=null){if(Td.constructor.name=="SerializerNode"){Td=Td.MI(dJ);}}this.TI[jq]=Td;}}}return this.TI;};}function UH(hJ,ad){this.hJ=hJ;if(this.hJ==null){this.hJ="";}this.ad=ad;}{UH.prototype.LC=function (ar){var R;var iJ=this.hJ+ar;var jJ=localStorage.getItem(iJ);if(jJ==null){R=null;}else {R=this.ad.bd(jJ);}return R;};UH.prototype.save=function (ar,kJ){var lJ=this.ad.od(kJ);var iJ=this.hJ+ar;localStorage.setItem(iJ,lJ);};}function Uc(ld,md){this.ld=ld;this.md=md;this.qg=[new rg("Escape","ControlCancel",true),new rg("Gamepad0Button0","ControlCancel",true),].d("inputName");}{Uc.prototype.uF=function (j){j.xk.yk(this.dd);var o=j.o;o.Ej("Black","Black");o.Ck(j);};Uc.prototype.Db=function (j){var o=j.o;o.wk(j);var mJ=document.createElement("div");mJ.style="border:1px solid;width:"+o.vb.G+";height:"+o.vb.t;var nJ=document.createElement("label");nJ.innerHTML="Choose a file and click Load."+"  Due to web browser security features,"+" a mouse or keyboard will likely be necessary.";mJ.appendChild(nJ);var oJ=document.createElement("input");oJ.type="file";var pJ=document.createElement("div");pJ.appendChild(oJ);mJ.appendChild(pJ);var qJ=document.createElement("button");qJ.innerHTML="Load";qJ.rJ=this.qJ_sJ.bind(this,j);var tJ=document.createElement("button");tJ.innerHTML="Cancel";tJ.rJ=this.tJ_sJ.bind(this,j);var uJ=document.createElement("div");uJ.appendChild(qJ);uJ.appendChild(tJ);mJ.appendChild(uJ);j.xk.Bk(mJ);oJ.vJ();this.dd=mJ;};Uc.prototype.wg=function (j){var xg=j.xg;var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var SD=this.qg[zg.name];if(SD!=null){zg.Ag=false;var Dg=SD.Dg;if(Dg=="ControlCancel"){j.jb=this.md;}}}}};Uc.prototype.tJ_sJ=function (j,DC){j.jb=this.md;};Uc.prototype.qJ_sJ=function (j,DC){var oJ=this.dd.ed("input")[0];var fd=oJ.gd[0];if(fd!=null){j.jb=this.ld;}};}function wJ(){}{wJ.prototype.xJ=function (){var Lk=new Kr(new g(100,100,1),100,new yd(new g(0,0,-100),new mx(new g(0,0,1),new g(0,1,0))));var yJ=[new g(0,0,0),new g(1,0,0),new g(0,1,0),new g(0,0,1),new g(-1,0,0),new g(0,-1,0),new g(0,0,-1),new g(1,2,3),];for(var H=0;H<yJ.length;H++){var zJ=yJ[H];var cs=Lk.bp(zJ.L());var AJ=Lk.bs(cs);AJ.round();var BJ=AJ.bx(zJ);var CJ="Before:"+zJ.toString()+", After:"+AJ.toString();DJ.EJ(true,BJ,CJ);}};}function FJ(){this.rE=new ls();}{FJ.prototype.GJ=function (){var rE=this.rE;var HJ=As.Oy();var IJ=As.Oy().Pn(new Sn_Up(new g(1,1,1)));var JJ=As.Oy().Pn(new Sn_Up(new g(-1,-1,-1)));var KJ=As.Oy().Pn(new Sn_uA(new mx(new g(1,1,1).cn(),new g(0,0,1))));var LJ=new ts(new g(0,0,0),1);var MJ=new ts(new g(1,1,1),1);var tt=HJ;var vt=LJ;var NJ=rE.wt(tt,vt);DJ.EJ(true,NJ);var tt=IJ;var vt=LJ;var NJ=rE.wt(tt,vt);DJ.EJ(true,NJ);var tt=JJ;var vt=MJ;var NJ=rE.wt(tt,vt);DJ.EJ(false,NJ);};FJ.prototype.OJ=function (){var rE=this.rE;var PJ=new Ds([new g(0,0,-1),new g(0,0,1)]);var QJ=new Ds([new g(0,0,1),new g(0,0,-1)]);var RJ=new Ds([new g(0,0,0),new g(0,0,1)]);var SJ=new Ds([new g(0,0,0),new g(0,0,2)]);var TJ=new Ds([new g(0,0,1),new g(0,0,2)]);var UJ=new Ds([new g(2,0,-1),new g(2,0,1)]);var VJ=new ws([new g(-1,-1,0),new g(1,-1,0),new g(1,1,0),new g(-1,1,0)]);var WJ=new ws([new g(-1,-1,1),new g(1,-1,1),new g(1,1,1),new g(-1,1,1)]);var NJ=rE.xs(PJ,VJ);DJ.EJ(true,NJ);var NJ=rE.xs(QJ,VJ);DJ.EJ(true,NJ);var NJ=rE.xs(RJ,VJ);DJ.EJ(true,NJ);var NJ=rE.xs(SJ,VJ);DJ.EJ(true,NJ);var NJ=rE.xs(SJ,WJ);DJ.EJ(true,NJ);var NJ=rE.xs(TJ,VJ);DJ.EJ(false,NJ);var NJ=rE.xs(UJ,VJ);DJ.EJ(false,NJ);var XJ=new Ds([new g(17,164,-1),new g(18,169,-1),]);var YJ=new ws([new g(10,165,-10),new g(70,165,-10),new g(70,165,0),new g(10,165,0),]);var NJ=rE.xs(XJ,YJ);DJ.EJ(true,NJ);var XJ=new Ds([new g(0,231,-1),new g(0,225.6,-1),]);var YJ=new ws([new g(10,230,-10),new g(-10,230,-10),new g(-10,230,0),new g(10,230,0),]);var NJ=rE.xs(XJ,YJ);DJ.EJ(true,NJ);};FJ.prototype.ZJ=function (){var rE=this.rE;var LJ=new ts(new g(0,0,0),1,);var aK=new ts(new g(2,0,0),1,);var bK=new rz(new ts(new g(0,0,0),3 ),2 );var NJ=rE.wt(LJ,bK);DJ.EJ(false,NJ);NJ=rE.wt(aK,bK);DJ.EJ(true,NJ);var cK=new vz(bK.Zo.vj,new g(1,0,0),.5);NJ=rE.wt(LJ,cK);DJ.EJ(true,NJ);NJ=rE.wt(aK,cK);DJ.EJ(true,NJ);var dK=new fy(bK,cK);NJ=rE.wt(LJ,dK);DJ.EJ(false,NJ);NJ=rE.wt(aK,dK);DJ.EJ(true,NJ);var eK=new vz(bK.Zo.vj,new g(0,1,0),.5);NJ=rE.wt(LJ,eK);DJ.EJ(true,NJ);NJ=rE.wt(aK,eK);DJ.EJ(false,NJ);var fK=new fy(bK,eK);NJ=rE.wt(LJ,fK);DJ.EJ(false,NJ);NJ=rE.wt(aK,fK);DJ.EJ(false,NJ);};}function DJ(){}{DJ.EJ=function (gK,hK,l){if(gK!=hK){if(l==null){l="Expected: '"+gK+"', Actual: '"+hK+"'.";}iK.jK("Error running test: "+l);iK.kK();throw l;}};DJ.lK=function (mK){var nK=mK.constructor.name;for(var oK in mK){var pK=mK[oK];if(pK.constructor.name=="Function"){try{pK.call(mK);}catch (Yj){iK.jK("Test failed: "+nK+"."+oK+".");throw Yj;}}}iK.jK("All tests in test fixture "+nK+" passed.");};DJ.qK=function (rK){for(var H=0;H<rK.length;H++){var mK=rK[H];DJ.lK(mK);}};}function ic(year,month,day,hours,minutes,seconds){this.year=year;this.month=month;this.day=day;this.hours=hours;this.minutes=minutes;this.seconds=seconds;}{ic.sK=function (tK){var R=new ic(tK.getFullYear(),tK.getMonth()+1,tK.getDate(),tK.getHours(),tK.getMinutes(),tK.getSeconds());return R;};ic.hc=function (){return ic.sK(new Date());};ic.prototype.bx=function (jn){var R=(this.year==jn.year&&this.month==jn.month&&this.day==jn.day&&this.hours==jn.hours&&this.minutes==jn.minutes&&this.seconds==jn.seconds);return R;};ic.prototype.kc_lc_mc=function (){var R=""+(""+this.month).Cr(2,"0")+(""+this.day).Cr(2,"0")+"-"+(""+this.hours).Cr(2,"0")+(""+this.minutes).Cr(2,"0")+"-"+(""+this.seconds).Cr(2,"0");return R;};ic.prototype.Bc=function (){var R=""+this.year+"/"+(""+this.month).Cr(2,"0")+"/"+(""+this.day).Cr(2,"0")+"-"+(""+this.hours).Cr(2,"0")+":"+(""+this.minutes).Cr(2,"0")+":"+(""+this.seconds).Cr(2,"0");return R;};}function RH(){}{RH.prototype.Bk=function (dd){this.Fm.appendChild(dd);};RH.prototype.yk=function (dd){this.Fm.removeChild(dd);};RH.prototype.Db=function (j){var Fm=this.Fm;if(Fm==null){var Fm=document.createElement("div");Fm.id="divMain";Fm.style.position="absolute";Fm.style.left="50%";Fm.style.top="50%";document.body.appendChild(Fm);this.Fm=Fm;}var o=j.o;Fm.style.marginLeft=0 -o.vb.G/2;Fm.style.marginTop=0 -o.vb.t/2;};}function sx(Cb){this.Cb=Cb;}{sx.prototype.Cd=function (){return this.Cb;};sx.prototype.Ye=function (Se){this.Cb=Se;return this.Cb;};}function uK(vK){this.vK=vK;var wK=1000;this.xK=Math.floor(wK/this.vK);}{uK.prototype.Db=function (yK){this.eD=setInterval(yK,this.xK);};}function OH(zK){this.zK=zK;this.QH=[];var AK=this.zK.search.substring(1);var BK=AK.split("&");for(var H=0;H<BK.length;H++){var CK=BK[H];var DK=CK.split("=");var EK=DK[0];var FK=DK[1];this.QH.push(DK);this.QH[EK]=FK;}}{OH.PH=function (){return new OH(window.location);}}function GK(){localStorage.clear();var Ec=new PC([new Fk("Title","../Content/Images/Title.png"),],[new lD("Sound","../Content/Audio/Effects/Sound.wav",false),new lD("Music","../Content/Audio/Music/Music.mp3",true),],[new TD("Movie","../Content/Video/Movie.webm"),],[new IC("Font","../Content/Fonts/Font.ttf"),],[new JD("Conversation","../Content/Text/Conversation.json"),new JD("Instructions","../Content/Text/Instructions.txt"),]);var HK=new g(400,300,1);var o=new qi([HK,HK.L().Q(),HK.L().ab(2),],"Font",10,"Gray","White");var MH=new uK(20);var j=LH.new ("Cursor_Quest",MH,o,Ec,null);j.Db();}GK();</script ></body></html>
