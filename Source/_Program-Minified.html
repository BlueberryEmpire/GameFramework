<html><body><script type='text/javascript'>function b(c){this.c=c.d("name");this.e=10;this.f=new g(200,150,1);this.h=new g();}{b.prototype.i=function (j,k,l,m,n){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var s=this.e*h.t;var u=l.split("\n").length-1;var v=new g(200,s*u).w(h);var x=new g(100,65 -s*(u/4),).w(h);var y=new z("labelMessage",x,v,true,l,s);var A=[y];var B=m.length;var C=55;var D=new g(C,s).w(h);var E=5;var F=(this.f.G-(C*B)-(E*(B-1)))/2;for(var H=0;H<B;H++){var I=new J("buttonOption"+H,new g(F+H*(C+E),100
).w(h),D,m[H],this.e*h.t,true,true,n[H],j);A.push(I);}var K=k.L().M();var o=j.o;var N=o.p.L().M();var O=N.L().P(K).Q();var R=new S("containerChoice",O,K,A);return R;};b.prototype.T=function (j,k,l,U,V,W,X){var Y=10;var Z=new g(1,1).ab(Y);var s=20;var v=new g(k.G-Z.G*2,s);var D=new g(v.G,s*2);var bb=new g(v.G,k.t-v.t-D.t-Z.t*4
);var cb=new db("listOptions",new g(Z.G,v.t+Z.t*2),bb,U,V,s,null,null);var R=new S("containerChoice",g.eb().fb,k,[new z("labelMessage",new g(k.G/2,Z.t+s/2),v,true,l,s),cb,new J("buttonSelect",new g(Z.G,k.t-Z.t-D.t),D,W,s,true,true,function gb(j){var hb=cb.hb();if(hb!=null){X(j,hb);}},j,false),]);return R;};b.prototype.ib=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerConfigure",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonSave",new g(30,15).w(h),new g(65,25).w(h),"Save",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonLoad",new g(105,15).w(h),new g(65,25).w(h),"Load",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelMusicVolume",new g(30,50).w(h),new g(75,25).w(h),false,"Music:",this.e*h.t),new qb("selectMusicVolume",new g(65,45).w(h),new g(30,25).w(h),new rb(j.sb,"musicVolume"),tb.ub(),new rb(null,"value"),new rb(null,"text"),this.e*h.t),new z("labelSoundVolume",new g(105,50).w(h),new g(75,25).w(h),false,"Sound:",this.e*h.t),new qb("selectSoundVolume",new g(140,45).w(h),new g(30,25).w(h),new rb(j.sb,"soundVolume"),tb.ub(),new rb(null,"value"),new rb(null,"text"),this.e*h.t),new z("labelDisplaySize",new g(30,80).w(h),new g(75,25).w(h),false,"Display:",this.e*h.t),new qb("selectDisplaySize",new g(70,75).w(h),new g(60,25).w(h),j.o.vb,j.o.wb,new rb(),new rb(null,"toStringXY()"),this.e*h.t),new J("buttonDisplaySizeChange",new g(140,75).w(h),new g(30,25).w(h),"Change",this.e*h.t,true,true,function gb(j){var xb=j.ob.xb;var yb=xb.zb["selectDisplaySize"];var Ab=yb.Bb().Cb;var o=j.o;o.vb=Ab;o.Db(j);var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonResume",new g(30,105).w(h),new g(65,25).w(h),"Resume",this.e*h.t,true,true,function gb(j){var Eb=j.Eb;var jb=new Fb(Eb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonQuit",new g(105,105).w(h),new g(65,25).w(h),"Quit",this.e*h.t,true,true,function gb(j){var Gb=j.lb.Hb(j,k,"Are you sure you want to quit?",function Hb(j){j.Ib();var jb=new kb(j.lb.Jb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.Hb=function (j,k,l,Hb,Kb){return this.i(j,k,l,["Confirm","Cancel"],[Hb,Kb]);};b.prototype.l=function (j,k,l,Lb){return this.i(j,k,l,["Acknowledge"],[Lb]);};b.prototype.Mb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerProfileDetail",new g(0,0).w(h),new g(200,150).w(h),[new z("labelProfileName",new g(100,25).w(h),new g(120,25).w(h),true,"Profile: "+j.Nb.name,this.e*h.t),new z("labelSelectAWorld",new g(100,40).w(h),new g(100,25).w(h),true,"Select a World:",this.e*h.t),new db("listWorlds",new g(25,50).w(h),new g(150,50).w(h),new rb(j.Nb.Ob,null),new rb(null,"name"),this.e*h.t),new J("buttonNew",new g(50,110).w(h),new g(45,25).w(h),"New",this.e*h.t,true,true,function gb(j){var Eb=Pb.new (j);var Nb=j.Nb;Nb.Ob.push(Eb);j.Qb.Rb(Nb);j.Eb=Eb;var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSelect",new g(105,110).w(h),new g(45,25).w(h),"Select",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["listWorlds"].hb()!=null;}},"call()"),function gb(j){var Tb=this.Ub.zb["listWorlds"];var Vb=Tb.hb();if(Vb!=null){j.Eb=Vb;var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;}},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Gb=j.lb.Hb(j,k,"Delete profile \""+Nb.name+"\"?",function Hb(j){var Nb=j.Nb;j.Qb.Xb(Nb);var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.Yb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);return new S("containerProfileNew",new g(0,0).w(h),new g(200,150).w(h),[new z("labelName",new g(100,40).w(h),new g(100,25).w(h),true,"Profile Name:",this.e*h.t),new Zb("textBoxName",new g(50,50).w(h),new g(100,25).w(h),"",this.e*h.t),new J("buttonCreate",new g(50,80).w(h),new g(45,25).w(h),"Create",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["textBoxName"].text().length>0;}},"call()"),function gb(j){var ac=this.Ub.zb["textBoxName"];var bc=ac.text();if(bc==""){return ;}var Nb=new cc(bc,[]);j.Qb.dc(Nb);j.Nb=Nb;var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonCancel",new g(105,80).w(h),new g(45,25).w(h),"Cancel",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);};b.prototype.Wb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var ec=j.Qb.ec();var R=new S("containerProfileSelect",new g(0,0).w(h),new g(200,150).w(h),[new z("labelSelectAProfile",new g(100,40).w(h),new g(100,25).w(h),true,"Select a Profile:",this.e*h.t),new db("listProfiles",new g(50,50).w(h),new g(100,40).w(h),new rb(ec,null),"name",this.e*h.t),new J("buttonNew",new g(50,95).w(h),new g(30,25).w(h),"New",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Yb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSelect",new g(85,95).w(h),new g(30,25).w(h),"Select",this.e*h.t,true,new rb(function (){var xb=j.ob.xb;if(xb==null){return false;}else {return xb.zb["listProfiles"].hb()!=null;}},"call()"),function gb(j){var fc=this.Ub.zb["listProfiles"];var gc=fc.hb();j.Nb=gc;var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSkip",new g(120,95).w(h),new g(30,25).w(h),"Skip",this.e*h.t,true,true,function gb(j){var Eb=Pb.new (j);var hc=ic.hc();var jc=hc.kc_lc_mc();var bc="Anon-"+jc;var Nb=new cc(bc,[Eb]);j.Nb=Nb;j.Eb=Eb;var jb=new Fb(j.Eb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Jb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Gb=j.lb.Hb(j,k,"Delete all profiles?",function Hb(j){j.Qb.nc();var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.oc=function (j,k,pc,qc){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var rc=[];for(var H=0;H<pc.length;H++){var sc=pc[H];var tc=sc[0];var l=sc[1];var uc=new S("containerSlide_"+H,new g(0,0).w(h),new g(200,150).w(h),[new vc("imageSlide",new g(0,0).w(h),new g(200,150).w(h),new wc(tc,k),),new z("labelSlideText",new g(100,this.e*2).w(h),new g(200,150).w(h),true,l,this.e*2
),new J("buttonNext",new g(75,120).w(h),new g(50,40).w(h),"Next",this.e,false,true,function gb(xc,j){var jb;if(xc<rc.length){var yc=rc[xc];jb=new kb(yc);}else {jb=qc;}jb=new nb(jb,j.ob);j.jb=jb;}.bind(this,H+1),j)]);rc.push(uc);}return rc[0];};b.prototype.Jb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerTitle",new g(0,0).w(h),new g(200,150).w(h),[new vc("imageTitle",new g(0,0).w(h),new g(200,150).w(h),new wc("Title",k),),new J("buttonStart",new g(75,100).w(h),new g(50,40).w(h),"Start",this.e*h.t*2,false,true,function gb(j){var jb=new kb(j.lb.Wb(j));jb=new nb(jb,j.ob);j.jb=jb;},j)]);return R;};b.prototype.Sb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var Eb=j.Eb;var zc=Eb.zc;var Ac=Eb.Ac;var R=new S("containerWorldDetail",new g(0,0).w(h),new g(200,150).w(h),[new z("labelProfileName",new g(100,40).w(h),new g(100,25).w(h),true,"Profile: "+j.Nb.name,this.e*h.t),new z("labelWorldName",new g(100,55).w(h),new g(150,25).w(h),true,"World: "+Eb.name,this.e*h.t),new z("labelStartDate",new g(100,70).w(h),new g(150,25).w(h),true,"Started:"+zc.Bc(),this.e*h.t),new z("labelSavedDate",new g(100,85).w(h),new g(150,25).w(h),true,"Saved:"+(Ac==null?"[never]":Ac.Bc()),this.e*h.t),new J("buttonStart",new g(50,100).w(h),new g(100,25).w(h),"Start",this.e*h.t,true,true,function gb(j){var Eb=j.Eb;var Cc=new Fb(Eb);var jb;if(Eb.Ac!=null){jb=Cc;}else {var Dc=j.Ec.Fc("Instructions");var Gc=Dc.Cb;var Hc=j.lb.l(j,k,Gc,function Lb(j){j.jb=new nb(Cc,j.ob);});var Ic=new kb(Hc);var Jc=new Kc("Movie",Ic);jb=Jc;}jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonBack",new g(10,10).w(h),new g(15,15).w(h),"<",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonDelete",new g(180,10).w(h),new g(15,15).w(h),"x",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;var Gb=j.lb.Hb(j,k,"Delete world \""+Eb.name+"\"?",function Hb(j){var Nb=j.Nb;var Eb=j.Eb;var Ob=Nb.Ob;Ob.Lc(Eb);j.Eb=null;j.Qb.Rb(Nb);var jb=new kb(j.lb.Mb(j));jb=new nb(jb,j.ob);j.jb=jb;},function Kb(j){var jb=new kb(j.lb.Sb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.pb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerWorldLoad",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonLoadFromServer",new g(30,15).w(h),new g(140,25).w(h),"Reload from Local Storage",this.e*h.t,true,true,function gb(j){var Gb=j.lb.Hb(j,k,"Abandon the current game?",function Hb(j){var Mc=j.Nb;var Nc=j.Qb.ec();for(var H=0;H<Nc.length;H++){var Oc=Nc[H];if(Oc.name==Mc.name){j.Nb=Oc;break;}}var Pc=j.Eb;var Qc=j.Nb.Ob;var Rc=null;for(var H=0;H<Qc.length;H++){var Sc=Qc[H];if(Sc.name==Pc.name){Rc=Sc;break;}}var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;if(Rc==null){jb=new kb(j.lb.l(j,k,"No save exists to reload!",function Lb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;}else {j.Eb=Sc;}},function Kb(j){var jb=new kb(j.lb.pb(j));jb=new nb(jb,j.ob);j.jb=jb;});var jb=new kb(Gb);jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonLoadFromFile",new g(30,50).w(h),new g(140,25).w(h),"Load from File",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;var Tc=new Uc(null);var Vc=new kb(j.lb.l(j,k,"Ready to load from file...",function Lb(j){function Wc(Xc){var Yc=Xc;var Zc=j.ad.bd(Yc);j.Eb=Zc;var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}var cd=Tc.dd.ed("input")[0];var fd=cd.gd[0];new hd().jd(fd,Wc,null);}));var kd=new kb(j.lb.l(j,k,"No file specified.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));Tc.ld=Vc;Tc.md=kd;j.jb=Tc;},j),new J("buttonReturn",new g(30,105).w(h),new g(140,25).w(h),"Return",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};b.prototype.mb=function (j,k){if(k==null){k=j.o.p;}var h=this.h.q(k).r(this.f);var R=new S("containerSave",new g(0,0).w(h),new g(200,150).w(h),[new J("buttonSaveToLocalStorage",new g(30,15).w(h),new g(140,25).w(h),"Save to Local Storage",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;Eb.Ac=ic.hc();j.Qb.Rb(Nb);var jb=new kb(j.lb.l(j,k,"Profile saved to local storage.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonSaveToFile",new g(30,50).w(h),new g(140,25).w(h),"Save to File",this.e*h.t,true,true,function gb(j){var Nb=j.Nb;var Eb=j.Eb;Eb.Ac=ic.hc();var nd=j.ad.od(Eb);new hd().pd(nd,Eb.name+".json");var jb=new kb(j.lb.l(j,k,"Save must be completed manually.",function Lb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}));jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonReturn",new g(30,105).w(h),new g(140,25).w(h),"Return",this.e*h.t,true,true,function gb(j){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;},j),]);return R;};}function J(name,qd,k,text,rd,sd,td,gb,ud,vd){this.name=name;this.qd=qd;this.k=k;this.text=text;this.rd=rd;this.sd=sd;this._td=td;this.gb=gb;this.ud=ud;this.vd=(vd==null?false:vd);this.wd=false;this._xd=new yd(new g());this._zd=this.k.L().Q();}{J.prototype.Ad=function (Bd){if(Bd=="ControlConfirm"){this.gb(this.ud);}return (this.vd==false);};J.prototype.td=function (){return (this._td.Cd==null?this._td:this._td.Cd());};J.prototype.Dd=function (){this.wd=true;};J.prototype.Ed=function (){this.wd=false;};J.prototype.Fd=function (Gd){if(this.td()==true){this.gb(this.ud);}return (this.vd==false);};J.prototype.Hd=function (){this.wd=true;};J.prototype.Id=function (){this.wd=false;};J.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};J.prototype.Kd=function (j,o,xd){var Ld=this._xd.q(xd).qd;Ld.Md(this.qd);var td=this.td();var wd=this.wd&&td;var style=this.style(j);var Nd=style.Nd;var Od=style.Od;if(this.sd==true){o.Pd(Ld,this.k,Nd,Od,wd);}Ld.Md(this._zd);var Qd=(td==true?Od:style.Rd);o.Sd(this.text,this.rd,Ld,Qd,Nd,wd,true,this.k.G);};}function S(name,qd,k,zb){this.name=name;this.qd=qd;this.k=k;this.zb=zb;this.zb.d("name");for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Ub=this;}this.Ud=null;this.Vd=[];this.Wd=[];this._Xd=new g();this._Ld=new g();this._xd=new yd(this._Ld);this._Yd=new g();this._Zd=new g();this._ae=new g();}{S.prototype.td=function (){return true;};S.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};S.prototype.Ad=function (Bd){var be=false;var ce=this.ce();if(Bd=="ControlPrev"||Bd=="ControlNext"){be=true;var de=(Bd=="ControlPrev"?-1 :1);if(ce==null){ce=this.ee(de);if(ce!=null){ce.Dd();}}else if(ce.ce!=null){ce.Ad(Bd);if(ce.ce()==null){ce=this.ee(de);if(ce!=null){ce.Dd();}}}else {ce.Ed();ce=this.ee(de);if(ce!=null){ce.Dd();}}}else if(ce!=null){if(ce.Ad!=null){be=ce.Ad(Bd);}}return be;};S.prototype.ce=function (){return (this.Ud==null?null:this.zb[this.Ud]);};S.prototype.ee=function (de){if(this.Ud==null){var fe=(de==1 ?0 :this.zb.length-1);var ge=(de==1 ?this.zb.length:-1);for(var H=fe;H!=ge;H+=de){var Td=this.zb[H];if(Td.Dd!=null&&(Td.td==null||Td.td())){this.Ud=H;break;}}}else {var he=this.Ud;while(true){this.Ud+=de;var ie=this.Ud.je(0,this.zb.length-1
);if(ie==false){this.Ud=null;break;}else {var Td=this.zb[this.Ud];if(Td.Dd!=null&&(Td.td==null||Td.td())){break;}}}}var R=this.ce();return R;};S.prototype.ke=function (ae,le,me){ae=this._ae.q(ae).M();for(var H=this.zb.length-1;H>=0;H--){var Td=this.zb[H];var ne=ae.je(Td.qd,this._Xd.q(Td.qd).Md(Td.k));if(ne==true){le.push(Td);if(me==true){break;}}}return le;};S.prototype.Dd=function (){this.Ud=null;var ce=this.ee(1);if(ce!=null){ce.Dd();}};S.prototype.Ed=function (){var ce=this.ce();if(ce!=null){ce.Ed();this.Ud=null;}};S.prototype.Fd=function (Yd){Yd=this._Yd.q(Yd).P(this.qd);var Vd=this.ke(Yd,this.Vd.clear(),true);var oe=false;if(Vd.length>0){var Td=Vd[0];if(Td.Fd!=null){var pe=Td.Fd(Yd);if(pe==true){oe=true;}}}return oe;};S.prototype.qe=function (Zd){var re=this.Wd;this.Wd=this.Vd;this.Vd=re;Zd=this._Zd.q(Zd).P(this.qd);var Vd=this.ke(Zd,this.Vd.clear(),true);for(var H=0;H<Vd.length;H++){var Td=Vd[H];if(Td.qe!=null){Td.qe(Zd);}if(this.Wd.indexOf (Td)==-1){if(Td.Hd!=null){Td.Hd();}}}for(var H=0;H<this.Wd.length;H++){var Td=this.Wd[H];if(Vd.indexOf (Td)==-1){if(Td.Id!=null){Td.Id();}}}};S.prototype.Kd=function (j,o,xd){xd=this._xd.q(xd);var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.se,style.Od);var zb=this.zb;for(var H=0;H<zb.length;H++){var Td=zb[H];Td.Kd(j,o,xd);}};}function te(ue){this.ue=ue;}{te.prototype.ce=function (){return this.ue.ce();};te.prototype.ee=function (de){return this.ue.ee(de);};te.prototype.ke=function (ae,le,me){return this.ue.ke(ae,le,me);};te.prototype.Ad=function (Bd){return this.ue.Ad(Bd);};te.prototype.Fd=function (Yd){var Vd=this.ue.ke(Yd,this.ue.Vd.clear(),true);var oe=false;if(Vd.length>0){var Td=Vd[0];if(Td.Fd!=null){var pe=Td.Fd(Yd);if(pe==true){oe=true;}}}return oe;};te.prototype.qe=function (Zd){this.ue.qe(Zd);};te.prototype.Kd=function (j,o,xd){xd=this.ue._xd.q(xd);var Ld=this.ue._Ld.q(xd.qd).Md(this.ue.qd);o.Pd(Ld,this.ue.k,null,o.ve);var zb=this.ue.zb;for(var H=0;H<zb.length;H++){var Td=zb[H];Td.Kd(j,o,xd);}};}function we(name,qd,k,xe){this.name=name;this.qd=qd;this.k=k;this.xe=xe;this.ye=null;this.Td=null;this.Ld=new g();this.xd=new yd(this.Ld);this.Yd=new g();this.Zd=new g();}{we.prototype.Ad=function (Bd){var be=false;if(this.Td!=null){be=this.Td.Ad(Bd);}return be;};we.prototype.ce=function (){return (this.Td==null?null:this.Td.ce());};we.prototype.Dd=function (){if(this.Td!=null&&this.Td.Dd!=null){this.Td.Dd();}};we.prototype.Ed=function (){if(this.Td!=null&&this.Td.Ed!=null){this.Td.Ed();}};we.prototype.td=function (){return true;};we.prototype.Fd=function (Yd){var ze=false;if(this.Td!=null&&this.Td.Fd!=null){Yd=this.Yd.q(Yd).P(this.qd);ze=this.Td.Fd(Yd);}return ze;};we.prototype.Hd=function (){if(this.Td!=null&&this.Td.Hd!=null){return this.Td.Hd();}};we.prototype.Id=function (){if(this.Td!=null&&this.Td.Id!=null){return this.Td.Id();}};we.prototype.qe=function (Zd){if(this.Td!=null&&this.Td.qe!=null){Zd=this.Zd.q(Zd).P(this.qd);return this.Td.qe(Zd);}};we.prototype.Kd=function (j,o,xd){var Ae=this.xe.Cd();if(Ae!=this.ye){this.ye=Ae;if(Ae==null){this.Td=null;}else if(Ae.Be!=null){this.Td=Ae.Be(j,this.k);}}if(this.Td!=null){var xd=this.xd.q(xd);xd.qd.Md(this.qd);this.Td.Kd(j,o,xd);}};}function z(name,qd,k,Ce,text,rd){this.name=name;this.qd=qd;this.k=k;this.Ce=Ce;this._text=text;this.rd=rd;this._Ld=new g();}{z.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};z.prototype.text=function (){return (this._text.Cd==null?this._text:this._text.Cd());};z.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var text=this.text();if(text!=null){var De=(""+text).split("\n");for(var H=0;H<De.length;H++){var Ee=De[H];o.Sd(Ee,this.rd,Ld,style.Od,style.Nd,null,this.Ce,this.k.G);Ld.t+=this.rd;}}};}function db(name,qd,k,Fe,Ge,rd,He,Ie,Je){this.name=name;this.qd=qd;this.k=k;this._Fe=Fe;this.Ge=Ge;this.rd=rd;this.He=He;this.Ie=Ie;this.Je=Je;this.Ke=1.2 *this.rd;this.wd=false;var Le=this.Ke;this.Me=new Ne(new g(this.k.G-Le,0),new g(Le,this.k.t),this.rd,this.Ke,this._Fe,0 );this._Ld=new g();this._xd=new yd(this._Ld);this._Yd=new g();}{db.prototype.Ad=function (Bd){var be=false;if(Bd=="ControlIncrement"){this.Oe(1);be=true;}else if(Bd=="ControlDecrement"){this.Oe(-1);be=true;}return be;};db.prototype.Dd=function (){this.wd=true;};db.prototype.Ed=function (){this.wd=false;};db.prototype.Pe=function (){return this.Me.Qe();};db.prototype.Re=function (Se){var R=Se;var Fe=this.Fe();if(Se==null){R=Fe.indexOf (this.hb());if(R==-1){R=null;}}else {var Te=Fe[Se];this.hb(Te);}return R;};db.prototype.Ue=function (){return this.Pe()+Math.floor(this.Me.Ve)-1;};db.prototype.td=function (){return (this.Je==null?true:this.Je.Cd());};db.prototype.hb=function (We){var R=We;if(We==null){if(this._He==null){R=this._hb;}else {R=(this.He.Cd==null?this._hb:this.He.Cd());}}else {this._hb=We;if(this.He!=null){var Se=this.Ie.Xe(this._hb).Cd();this.He.Ye(Se);}}return R;};db.prototype.Oe=function (de){var Fe=this.Fe();var Ze=Fe.length;var hb=this.hb();var Re=this.Re();if(Re==null){if(Ze>0){if(de==1){Re=0;}else {Re=Ze-1;}}}else {Re=(Re+de).af(0,Ze-1);}var Te=(Re==null?null:Fe[Re]);this.hb(Te);var Pe=this.Pe();var Ue=this.Ue();var Re=this.Re();if(Re<Pe){this.Me.bf();}else if(Re>Ue){this.Me.cf();}var R=this.hb();return R;};db.prototype.Fe=function (){return (this._Fe.Cd==null?this._Fe:this._Fe.Cd());};db.prototype.Fd=function (Gd){Gd=this._Yd.q(Gd);if(Gd.G-this.qd.G>this.k.G-this.Me.df.G){if(Gd.t-this.qd.t<=this.Me.df.t){this.Me.bf();}else if(Gd.t-this.qd.t>=this.Me.k.t-this.Me.df.t){this.Me.cf();}else {var ef=Gd.P(this.Me.qd).P(new g(0,this.Me.df.t));}}else {var ff=Gd.t-this.qd.t;var gf=this.Pe()+Math.floor(ff/this.Ke);var Fe=this.Fe();if(gf<Fe.length){this.Re(gf);}}return true;};db.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};db.prototype.Kd=function (j,o,xd){xd=this._xd.q(xd);var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var ve=(this.wd==true?style.Nd:style.Od);var hf=(this.wd==true?style.Od:style.Nd);o.Pd(Ld,this.k,hf,style.Od,false);var jf=this.Ke;var kf=2;var lf=Ld.t;var Fe=this.Fe();if(Fe==null){return ;}var mf=Math.floor(this.k.t/jf);var nf=this.Pe();var of=nf+mf-1;if(of>=Fe.length){of=Fe.length-1;}var hb=this.hb();for(var H=nf;H<=of;H++){var pf=Fe[H];if(pf==hb){o.Pd(new g(Ld.G,lf),new g(this.k.G,jf),ve);}var text=this.Ge.Xe(pf).Cd();var qf=new g(Ld.G+kf,lf);o.Sd(text,this.rd,qf,ve,hf,(H==this.Re()),false,this.k.G);lf+=jf;}this.Me.Kd(j,o,xd);};}function Ne(qd,k,rd,rf,Fe,Qe){this.qd=qd;this.k=k;this.rd=rd;this.rf=rf;this._Fe=Fe;this._Qe=Qe;this.Ve=Math.floor(this.k.t/rf);this.df=new g(this.k.G,this.k.G);this.sf=new J(null,new g(0,0),this.df,"-",this.rd,true,true,this.bf);this.tf=new J(null,new g(0,this.k.t-this.df.t),this.df,"+",this.rd,true,true,this.cf);this._Ld=new g();}{Ne.prototype.Ad=function (Bd){return true;};Ne.prototype.Fe=function (){return (this._Fe.Cd==null?this._Fe:this._Fe.Cd());};Ne.prototype.Fd=function (j,Gd){};Ne.prototype.cf=function (){var Qe=(this.Qe()+1
).af(0,this.uf());this._Qe=Qe;};Ne.prototype.bf=function (){var Qe=(this.Qe()-1
).af(0,this.uf());this._Qe=Qe;};Ne.prototype.vf=function (){var vf=new g(this.df.G,this.k.t-2 *this.df.t);return vf;};Ne.prototype.Qe=function (){return this._Qe;};Ne.prototype.uf=function (){return this.Fe().length-Math.floor(this.Ve);};Ne.prototype.wf=function (){var wf=new g(this.k.G-this.df.G,this.df.t+this.Qe()*this.vf().t/this.Fe().length);return wf;};Ne.prototype.xf=function (){var xf=this.vf().w(new g(1,this.Ve/this.Fe().length));return xf;};Ne.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};Ne.prototype.Kd=function (j,o,xd){var Ze=this.Fe().length;if(this.Ve<Ze){var style=this.style(j);var ve=(this.wd==true?style.Nd:style.Od);var hf=(this.wd==true?style.Od:style.Nd);var Ld=this._Ld.q(xd.qd).Md(this.qd);o.Pd(Ld,this.k,ve,null);xd.qd.Md(this.qd);this.tf.Kd(j,o,xd);this.sf.Kd(j,o,xd);var wf=this.wf().Md(Ld);var xf=this.xf();o.Pd(wf,xf,hf,ve);}};}function qb(name,qd,k,yf,U,zf,V,rd){this.name=name;this.qd=qd;this.k=k;this._yf=yf;this._U=U;this.zf=zf;this.V=V;this.rd=rd;this.Af=null;var yf=this.yf();var U=this.U();for(var H=0;H<U.length;H++){var Bf=U[H];var Cf=this.zf.Xe(Bf).Cd();if(Cf==yf){this.Af=H;break;}}this.wd=false;this.Ld=new g();this.xd=new yd(this.Ld);this.zd=this.k.L().Q();}{qb.prototype.Ad=function (Bd){if(Bd=="ControlDecrement"){this.Df(1);}else if(Bd=="ControlIncrement"||Bd=="ControlConfirm"){this.Df(-1);}};qb.prototype.Dd=function (){this.wd=true;};qb.prototype.Ed=function (){this.wd=false;};qb.prototype.td=function (){return true;};qb.prototype.Bb=function (){var R=null;if(this.Af!=null){var Ef=this.U()[this.Af];var Cf=this.zf.Xe(Ef).Cd();var Ff=this.V.Xe(Ef).Cd();R=new Gf(Cf,Ff);};return R;};qb.prototype.Df=function (de){var U=this.U();this.Af=(this.Af+de).Hf(0,U.length);var Bb=this.Bb();if(this._yf!=null&&this._yf.constructor.name=="DataBinding"){this._yf.Ye(Bb.Cb);}else {this._yf=Bb.Cb;}};qb.prototype.U=function (){return (this._U.Cd==null?this._U:this._U.Cd());};qb.prototype.Fd=function (Gd){this.Df(1);return true;};qb.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};qb.prototype.yf=function (){return (this._yf==null?null:(this._yf.Cd==null?this._yf:this._yf.Cd()));};qb.prototype.Kd=function (j,o,xd){var Ld=this.Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.Nd,style.Od,this.wd);Ld.Md(this.zd);var Bb=this.Bb();var text=(Bb==null?"-":Bb.text);o.Sd(text,this.rd,Ld,style.Od,style.Nd,this.wd,true,this.k.G);};}function Gf(Cb,text){this.Cb=Cb;this.text=text;}function If(name,se,Nd,Od,Rd){this.name=name;this.se=se;this.Nd=Nd;this.Od=Od;this.Rd=Rd;}{If.eb=function (){if(If._eb==null){If._eb=new If_eb();}return If._eb;};function If_eb(){this.Jf=new If("Default","rgb(240, 240, 240)","White","Gray","LightGray");}}function Zb(name,qd,k,text,rd,Kf){this.name=name;this.qd=qd;this.k=k;this._text=text;this.rd=rd;this.Kf=Kf;this.wd=false;this.Lf=this.text().length;this._Ld=new g();this._Mf=new g();this._xd=new yd(this._Ld);this._Nf=new g();this._Of=new g();}{Zb.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};Zb.prototype.text=function (Cb,j){if(Cb!=null){if(this._text.Ye==null){this._text=Cb;}else {this._text.Ye(Cb);}}return (this._text.Cd==null?this._text:this._text.Cd(j));};Zb.prototype.Ad=function (Bd){var text=this.text();if(Bd=="ControlCancel"){this.text(text.substr(0,text.length-1));this.Lf=(this.Lf-1
).Hf(0,text.length+1
);}else if(Bd=="ControlConfirm"){this.Lf=(this.Lf+1
).Hf(0,text.length+1);}else if(Bd=="ControlIncrement"||Bd=="ControlDecrement"){var de=(Bd=="ControlIncrement"?-1 :1);var Pf=(this.Lf<text.length?text.charCodeAt(this.Lf):"A".charCodeAt(0)-1
);Pf=(Pf+de).Hf("A".charCodeAt(0),"Z".charCodeAt(0)+1
);var Qf=String.fromCharCode(Pf);this.text(text.substr(0,this.Lf)+Qf+text.substr(this.Lf+1));}else if(Bd.length==1 ||Bd.startsWith("_")){if(Bd.startsWith("_")){if(Bd=="_"){Bd=" ";}else {Bd=Bd.substr(1);}}if(this.Kf==null||text.length<this.Kf){text=this.text(text.substr(0,this.Lf)+Bd+text.substr(this.Lf));this.Lf=(this.Lf+1
).Hf(0,text.length+1
);}}return true;};Zb.prototype.Dd=function (){this.wd=true;};Zb.prototype.Ed=function (){this.wd=false;};Zb.prototype.Fd=function (Yd){var Ub=this.Ub;Ub.Ud=Ub.zb.indexOf (this);this.wd=true;};Zb.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);var text=this.text();o.Pd(Ld,this.k,style.Nd,style.Od,this.wd);var Rf=o.Sf(text,this.rd);var Of=this._Of.Tf(Rf,this.rd,0);var Nf=this._Nf.q(this.k).P(Of).Q();var Mf=this._Mf.q(Ld).Md(Nf);o.Sd(text,this.rd,Mf,style.Od,style.Nd,this.wd,false,this.k.G);if(this.wd==true){var Uf=text.substr(0,this.Lf);var Vf=text.substr(this.Lf,1);var Wf=o.Sf(Uf,this.rd);var Xf=o.Sf(Vf,this.rd);Mf.G+=Wf;o.Pd(Mf,new g(Xf,this.rd),style.Nd,style.Nd);o.Sd(Vf,this.rd,Mf,style.Od,null,null,this.k.G);}};}function vc(name,qd,k,Yf){this.name=name;this.qd=qd;this.k=k;this.Yf=Yf;this._Ld=new g();this._Zf=new ag(new yd(this._Ld));this._zd=this.k.L().Q();}{vc.prototype.style=function (j){return j.lb.c[this.Jd==null?"Default":this.Jd];};vc.prototype.Kd=function (j,o,xd){var Ld=this._Ld.q(xd.qd).Md(this.qd);var style=this.style(j);o.Pd(Ld,this.k,style.Nd,style.Od);var Zf=this._Zf;Zf.bg.qd.q(Ld);Ld.Md(this._zd);this.Yf.Kd(j,j.Eb,o,Zf);};}function rb(ud,cg,dg){this.ud=ud;this.cg=cg;this.dg=dg;}{rb.prototype.Xe=function (Cb){this.ud=Cb;return this;};rb.prototype.Cd=function (){var R=this.ud;if(this.cg!=null){var eg=this.cg.split(".");for(var H=0;H<eg.length;H++){if(R==null){break;}var fg=eg[H];var gg=fg.indexOf ("(");if(gg!=-1){var hg=fg.substr(0,gg);if(R[hg]==null){R=null;}else {var ig=fg.indexOf (")");var jg=fg.substring(gg+1,ig);var kg=jg.split(" ").join("").split(",");var lg=[];for(var mg=0;mg<kg.length;mg++){var ng=kg[mg];if(ng.length>0){var og=this.dg[ng];lg.push(og);}}R=R[hg].apply(R,lg);}}else {R=R[fg];}}}return R;};rb.prototype.Ye=function (Se){var R=this.ud;if(this.cg!=null){var eg=this.cg.split(".");for(var H=0;H<eg.length-1;H++){if(R==null){break;}var fg=eg[H];var gg=fg.indexOf ("(");if(gg!=-1){var hg=fg.substr(0,gg);if(R[hg]==null){R=null;}else {var ig=fg.indexOf (")");var jg=fg.substring(gg+1,ig);var kg=jg.split(" ").join("").split(",");var lg=[];for(var mg=0;mg<kg.length;mg++){var ng=kg[mg];if(ng.length>0){var og=this.dg[ng];lg.push(og);}}R=R[hg].apply(R,lg);}}else {R=R[fg];}}var pg=eg[eg.length-1];R[pg]=Se;}return Se;};}function kb(xb){this.xb=xb;this.qg=[new rg("ArrowDown","ControlIncrement",true),new rg("ArrowLeft","ControlPrev",true),new rg("ArrowRight","ControlNext",true),new rg("ArrowUp","ControlDecrement",true),new rg("Backspace","ControlCancel",true),new rg("Enter","ControlConfirm",true),new rg("Escape","ControlCancel",true),new rg("Tab","ControlNext",true),];var sg=4;for(var H=0;H<sg;H++){var tg="Gamepad"+H;this.qg.ug([new rg(tg+"MoveDown","ControlIncrement",true),new rg(tg+"MoveLeft","ControlPrev",true),new rg(tg+"MoveRight","ControlNext",true),new rg(tg+"ArrowUp","ControlDecrement",true),new rg(tg+"Button0","ControlCancel",true),new rg(tg+"Button1","ControlConfirm",true),]);}this.qg.d("inputName");this._xd=new yd(new g());this._Yd=new g();this._Zd=new g();this._vg=new g();}{kb.prototype.Kd=function (j){var o=j.o;var xd=this._xd;xd.qd.clear();this.xb.Kd(j,o,xd);};kb.prototype.wg=function (j){this.Kd(j);var xg=j.xg;var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var Bg=zg.name;var Cg=this.qg[Bg];if(Bg.startsWith("Mouse")==false){if(Cg==null){var be=this.xb.Ad(Bg);if(be==true){zg.Ag=false;}}else {var Dg=Cg.Dg;this.xb.Ad(Dg);if(Cg.Eg==true){zg.Ag=false;}}}else if(Bg=="MouseClick"){this._Yd.q(xg.Yd).r(j.o.Fg);var oe=this.xb.Fd(this._Yd);if(oe==true){xg.Gg(zg);}}else if(Bg=="MouseMove"){this._Zd.q(xg.Zd).r(j.o.Fg);this._vg.q(xg.vg).r(j.o.Fg);this.xb.qe(this._Zd,this._vg);}}}};}function Hg(Ig,jb,Jg,vb){this.Ig=Ig;this.jb=jb;this.Jg=Jg;this._vb=vb;}{Hg.prototype.Lb=function (j){j.jb=new nb(this.jb,this.Kg());};Hg.prototype.Kd=function (j){this.Kg(j).Kd(j);};Hg.prototype.vb=function (j){return (this._vb==null?j.o.vb:this._vb);};Hg.prototype.wg=function (j){this.Kg(j).wg(j);};Hg.prototype.Kg=function (j){if(this._Kg==null){this._Kg=new Lg([this.Jg,new kb(j.lb.l(j,this.vb(j),this.Ig,this.Lb.bind(this,j)))]);}return this._Kg;};}function Mg(name,tc,Ng,Og,Pg){this.name=name;this.tc=tc;this.Ng=Ng;this.Og=Og.d("name");this.Pg=Pg.d("name");}{Mg.prototype.Qg=function (Rg){return this.Pg[Rg];};Mg.prototype.Sg=function (Tg){var Ug=[];for(var H=0;H<Tg.length;H++){var Rg=Tg[H];var Vg=this.Qg(Rg);Ug.push(Vg);}return Ug;};Mg.prototype.Wg=function (Xg){var Yg=Xg.Cb;var Zg=Yg.split("\n");var ah={};var bh=null;var ch;for(var H=0;H<Zg.length;H++){var dh=Zg[H];if(dh.startsWith("#")){if(bh!=null){ah[bh]=ch;}bh=dh.split("\t")[0];ch=[];}else {if(dh.length>0){ch.push(dh);}}}ah[bh]=ch;var Og=eh.eb();var fh=[Og["Display"].name,Og["Option"].name,];var gh=[];for(var H=0;H<this.Pg.length;H++){var hh=this.Pg[H];var ih=hh.jh;var kh=fh.lh(ih);if(kh==false){gh.push(hh);}else {var mh=hh.text;var nh=ah[mh];for(var oh=0;oh<nh.length;oh++){var Ee=nh[oh];var ph=new qh(hh.name+"_"+oh,ih,Ee,hh.rh,hh.Ag);gh.push(ph);}}}this.Pg=gh.d("name");};Mg.bd=function (sh){var th=JSON.parse(sh);th.__proto__=Mg.prototype;var Pg=th.Pg;for(var H=0;H<Pg.length;H++){var Vg=Pg[H];Vg.__proto__=qh.prototype;if(Vg.name==null){Vg.name=qh.uh();}if(Vg.Ag==null){Vg.Ag=true;}}Pg.d("name");th.Og=eh.eb()._vh;return th;};Mg.prototype.od=function (){var wh=this.Og;delete this.Og;var R=JSON.stringify(this,null,4);this.Og=wh;return R;};}function xh(yh,zh,j){this.yh=yh;this.zh=zh;this.j=j;var Ah=this.yh.Pg[0];this.Bh=new Ch(null,Ah,[]);this.Dh=[];this.Eh={};this.Fh=this.Eh;this.Gh=this.j;}{xh.prototype.rh=function (){var Hh=this.Bh.Ih;if(Hh!=null){var Jh=this.Bh.Kh;Jh.Lh(this,this.Bh);Hh.Lh(this,this.Bh);this.Bh.Ih=null;}this.Mh();};xh.prototype.Mh=function (){this.Bh.Mh(this);};xh.prototype.Nh=function (k,j){var Oh=this;var th=Oh.yh;var Ph=j.ob;var s=20;var Qh=s*.6;var Y=25;var Rh=s;var Sh=25;var Z=new g(1,1).ab(Y);var bb=new g(k.G/2,k.t-Rh-Sh-Z.t*6 );var D=new g(bb.G,Sh);var Th=new g(2,1).ab(Sh);var R=new S("containerConversation",new g(0,0),k,[new J("buttonBack",Z,new g(1,1).ab(Sh),"<",s,true,true,function gb(j){var jb=Ph;jb=new nb(jb,j.ob);j.jb=jb;},j),new J("buttonTranscript",new g(k.G-Z.G-Th.G,Z.t),Th,"Log",s,true,true,function gb(j){var ob=j.ob;var Uh=Oh.Vh(k,j,ob);var jb=new kb(Uh);jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelSpeaker",new g(k.G/2,k.t-Z.t*3 -D.t-bb.t-Rh),k,true,new rb(Oh,"scopeCurrent.displayTextCurrent"),s),new db("listResponses",new g((k.G-bb.G)/2,k.t-Z.t*2 -D.t-bb.t),bb,new rb(Oh,"scopeCurrent.talkNodesForOptionsActive()"),new rb(null,"text"),Qh,new rb(Oh,"scopeCurrent.talkNodeForOptionSelected"),new rb()),new J("buttonNext",new g((k.G-bb.G)/2,k.t-Z.t-D.t),D,"Next",s,true,true,function gb(j){Oh.rh();},j),]);return R;};xh.prototype.Vh=function (k,j,Ph){var Oh=this;var th=Oh.yh;var Ph=j.ob;var s=20;var Qh=s*.6;var Y=25;var Rh=s;var Sh=25;var Z=new g(1,1).ab(Y);var bb=new g(k.G*.75,k.t-Rh-Z.t*3
);var R=new S("containerConversation",new g(0,0),k,[new J("buttonBack",Z,new g(1,1).ab(Sh),"<",s,true,true,function gb(j){var jb=Ph;jb=new nb(jb,j.ob);j.jb=jb;},j),new z("labelTranscript",new g(k.G/2,Z.t),k,true,"Transcript",s),new db("listEntries",new g((k.G-bb.G)/2,Z.t*2 +Rh),bb,new rb(Oh,"talkNodesForTranscript"),new rb(null,"textForTranscript(conversationDefn)",{"conversationDefn":th}),Qh),]);return R;};}function Ch(Ub,Kh,Wh){this.Ub=Ub;this.Kh=Kh;this.Xh=false;this.Wh=Wh;this.Yh="[conversation begins]";this.Ih=null;this._Zh=[];this._ai=[];this.bi=true;}{Ch.prototype.ci=function (Oh){var th=Oh.yh;var di=th.Pg;var ei=di.indexOf (this.Kh);var fi=di[ei+1];this.Kh=fi;};Ch.prototype.Zh=function (){if(this.Xh==false){return this._ai;}else {if(this.bi==true){this.bi=false;this._Zh.length=0;for(var H=0;H<this.Wh.length;H++){var Vg=this.Wh[H];if(Vg.Ag==true){this._Zh.push(Vg);}}}gi=this._Zh;}return gi;};Ch.prototype.Mh=function (Oh){this.bi=true;this.Kh.hi(Oh,this);};}function qh(name,jh,text,rh,Ag){this.name=(name==null?qh.uh():name);this.jh=jh;this.text=text;this.rh=rh;this.Ag=(Ag==null?true:Ag);}{qh._uh=0;qh.uh=function (){var R="_"+qh._uh;qh._uh++;return R;};qh.prototype.Lh=function (Oh,ii){var yh=this.yh(Oh.yh);if(yh.Lh!=null){yh.Lh(Oh,ii,this);}};qh.prototype.yh=function (th){return th.Og[this.jh];};qh.prototype.hi=function (Oh,ii){var yh=this.yh(Oh.yh);yh.hi(Oh,ii,this);};qh.prototype.ji=function (th){var ki=(this.jh=="Option"?"YOU":"THEY");var R=ki+": "+this.text;return R;};}function eh(name,hi,Lh){this.name=name;this.hi=hi;this.Lh=Lh;}{eh.eb=function (){if(this._li==null){this._li=new eh_eb();}return this._li;};function eh_eb(){this.mi=new eh("Activate",function hi(Oh,ii,Vg){var ni=Vg.rh;var oi=Vg.text;var th=Oh.yh;var pi=th.Pg[ni];pi.Ag=oi;ii.ci(Oh);Oh.Mh();});this.qi=new eh("Display",function (Oh,ii,Vg){ii.Yh=Vg.text;ii.ci(Oh);Oh.Dh.push(Vg);});this.ri=new eh("Goto",function (Oh,ii,Vg){var si=Vg.rh;ii.Kh=Oh.yh.Qg(si);Oh.Mh();});this.ti=new eh("JumpIfFalse",function (Oh,ii,Vg){var ui=Vg.text;var vi=Vg.rh;var wi=Oh.Eh[ui];if(wi==true){ii.ci(Oh);}else {ii.Kh=Oh.yh.Qg(vi);}Oh.Mh();});this.xi=new eh("JumpIfTrue",function (Oh,ii,Vg){var ui=Vg.text;var vi=Vg.rh;var wi=Oh.Eh[ui];if(wi==true){ii.Kh=Oh.yh.Qg(vi);}else {ii.ci(Oh);}Oh.Mh();});this.yi=new eh("Option",function hi(Oh,ii,Vg){var Wh=ii.Wh;if(Wh.lh(Vg)==false){Wh.push(Vg);Wh[Vg.name]=Vg;}ii.ci(Oh);Oh.Mh();},function Lh(Oh,ii,Vg){ii.Xh=false;var zi=Vg.rh;var fi=Oh.yh.Qg(zi);ii.Kh=fi;Oh.Dh.push(Vg);});this.Ai=new eh("Pop",function hi(Oh,ii,Vg){var ii=ii.Ub;Oh.Bh=ii;ii.Kh=Oh.yh.Qg(Vg.text);Oh.Mh();});this.Bi=new eh("Prompt",function hi(Oh,ii,Vg){ii.Xh=true;},function Lh(Oh,ii,Vg){var Ci=Vg.text;if(Ci==true){ii.Wh.length=0;}});this.Di=new eh("Push",function hi(Oh,ii,Vg){var Ei=Oh.yh;var ei=Ei.Pg.indexOf (Vg);var fi=Ei.Pg[ei+1];Oh.Bh=new Ch(ii,fi,[]);Oh.Mh();});this.Fi=new eh("Quit",function hi(Oh,ii,Vg){Oh.zh();});this.Gi=new eh("Script",function hi(Oh,ii,Vg){var Hi="("+Vg.text+")";var Ii=Ji(Hi);Ii(Oh);ii.ci(Oh);Oh.Mh();});this.Ki=new eh("VariableLoad",function hi(Oh,ii,Vg){var ui=Vg.text;var Li=Vg.rh;var Hi="( function(cr) { return "+Li+"; } )";var Ii=Ji(Hi);var Mi=Ii(Oh);Oh.Eh[ui]=Mi;ii.ci(Oh);Oh.Mh();});this.Ni=new eh("VariableSet",function hi(Oh,ii,Vg){var ui=Vg.text;var wi=Vg.rh;Oh.Eh[ui]=wi;ii.ci(Oh);Oh.Mh();});this.Oi=new eh("VariableStore",function hi(Oh,ii,Vg){var ui=Vg.text;var wi=Oh.Eh[ui];var Li=Vg.rh;var Hi="( function(cr) { "+Li+" = "+wi+"; } )";var Ii=Ji(Hi);Ii(Oh);ii.ci(Oh);Oh.Mh();});this._vh=[this.mi,this.qi,this.ri,this.ti,this.xi,this.yi,this.Ai,this.Bi,this.Di,this.Fi,this.Gi,this.Ki,this.Ni,this.Oi,].d("name");}}function Pi(name,Qi,Ri){this.name=name;this.Qi=Qi;this.Ri=Ri;}{Pi.Si=4;Pi.eb=function (){if(Pi._eb==null){Pi._eb=this;this._Ti=new Pi("Transparent",".",[0,0,0,0]);this.Ui=new Pi("Black","k",[0,0,0,1]);this.Vi=new Pi("Blue","b",[0,0,1,1]);this.Wi=new Pi("BlueDark","B",[0,0,.5,1]);this.Xi=new Pi("Brown","O",[0.5,0.25,0,1]);this.Yi=new Pi("Cyan","c",[0,1,1,1]);this.Zi=new Pi("Gray","a",[0.5,0.5,0.5,1]);this.aj=new Pi("GrayDark","A",[0.25,0.25,0.25,1]);this.bj=new Pi("GrayLight","@",[0.75,0.75,0.75,1]);this.cj=new Pi("Green","g",[0,1,0,1]);this.dj=new Pi("GreenDark","G",[0,.5,0,1]);this.ej=new Pi("Orange","o",[1,0.5,0,1]);this.fj=new Pi("Red","r",[1,0,0,1]);this.gj=new Pi("RedDark","R",[.5,0,0,1]);this.hj=new Pi("Violet","v",[1,0,1,1]);this.ij=new Pi("White","w",[1,1,1,1]);this.jj=new Pi("Yellow","y",[1,1,0,1]);this.kj=new Pi("Yellow","Y",[.5,.5,0,1]);this._vh=[this._Ti,this.Ui,this.Vi,this.Wi,this.Xi,this.Yi,this.Zi,this.aj,this.bj,this.cj,this.dj,this.ej,this.fj,this.gj,this.hj,this.ij,this.jj,this.kj,];this._vh.d("code");}return Pi._eb;};Pi.prototype.lj=function (){return this.Ri[3];};Pi.prototype.mj=function (Se){if(Se!=null){this.Ri[3]=Se;this._nj=null;}return this;};Pi.prototype.L=function (){return new Pi(this.name,this.Qi,this.Ri.slice());};Pi.prototype.nj=function (){if(this._nj==null){this._nj="rgba("+Math.floor(255 *this.Ri[0])+", "+Math.floor(255 *this.Ri[1])+", "+Math.floor(255 *this.Ri[2])+", "+this.Ri[3]+")";}return this._nj;};}function qi(wb,oj,rd,ve,hf){this.wb=wb;this.p=this.wb[0];this.vb=this.p;this.oj=oj;this.rd=rd;this.ve=ve;this.hf=hf;this.pj="serif";this.qj="ABCDEFGHIJKMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 1234567890";this.Ld=new g();this.xd=new yd(this.Ld);this.qf=new g();this.rj=new g();this.zd=new g();}{qi.sj=Math.PI*2.0;qi.prototype.clear=function (){this.tj.clearRect(0,0,this.vb.G,this.vb.t);};qi.prototype.uj=function (vj,wj,xj,yj,zj,Nd,Od){var Ld=this.Ld.q(vj);var Aj=yj*qi.sj;var Bj=zj*qi.sj;if(Nd!=null){this.tj.fillStyle=Nd;this.tj.beginPath();this.tj.arc(vj.G,vj.t,wj,Aj,Bj);Ld.q(vj).Md(new Cj(zj,xj).Dj(new g()));this.tj.lineTo(Ld.G,Ld.t);this.tj.arc(vj.G,vj.t,xj,Bj,Aj,true);this.tj.closePath();this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.beginPath();this.tj.arc(vj.G,vj.t,wj,Aj,Bj);Ld.q(vj).Md(new Cj(zj,xj).Dj(new g()));this.tj.lineTo(Ld.G,Ld.t);this.tj.arc(vj.G,vj.t,xj,Bj,Aj,true);this.tj.closePath();this.tj.stroke();}};qi.prototype.Ej=function (Od,hf){this.Pd(new g(0,0),this.p,(hf==null?this.hf:hf),(Od==null?this.ve:Od));};qi.prototype.Fj=function (vj,Gj,Nd,Od){var Ld=this.Ld.q(vj);this.tj.beginPath();this.tj.arc(Ld.G,Ld.t,Gj,0,qi.sj);if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Hj=function (vj,Gj,Ij,Od){this.tj.beginPath();this.tj.arc(vj.G,vj.t,Gj,0,qi.sj);var Jj=this.tj.createRadialGradient(vj.G,vj.t,0,vj.G,vj.t,Gj);var Kj=Ij.Lj;for(var H=0;H<Kj.length;H++){var Mj=Kj[H];Jj.Nj(Mj.position,Mj.Oj);}this.tj.fillStyle=Jj;this.tj.fill();if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Pj=function (vj,Gj,Oj){var Ld=this.Ld.q(vj);this.tj.beginPath();this.tj.strokeStyle=Oj;this.tj.moveTo(Ld.G-Gj,Ld.t);this.tj.lineTo(Ld.G+Gj,Ld.t);this.tj.moveTo(Ld.G,Ld.t-Gj);this.tj.lineTo(Ld.G,Ld.t+Gj);this.tj.stroke();};qi.prototype.Qj=function (vj,Rj,Sj,Tj,Nd,Od){var Ld=this.Ld.q(vj);this.tj.save();this.tj.translate(vj.G,vj.t);var Uj=Tj*Cj.sj;this.tj.rotate(Uj);var Vj=Sj/Rj;this.tj.scale(1,Vj);this.tj.beginPath();this.tj.arc(0,0,Rj,0,Math.PI*2.0 );if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}this.tj.restore();};qi.prototype.drawImage=function (Wj,qd,k){var Xj=Wj.Xj;if(k==null){this.tj.drawImage(Xj,qd.G,qd.t);}else {try{this.tj.drawImage(Xj,qd.G,qd.t,k.G,k.t);}catch (Yj){}}};qi.prototype.Zj=function (ak,bk,Oj){var Ld=this.Ld;this.tj.strokeStyle=Oj;this.tj.beginPath();Ld.q(ak);this.tj.moveTo(Ld.G,Ld.t);Ld.q(bk);this.tj.lineTo(Ld.G,Ld.t);this.tj.stroke();};qi.prototype.ck=function (qd,Oj){this.tj.fillStyle=Oj;this.tj.fillRect(qd.G,qd.t,1,1
);};qi.prototype.dk=function (ek,Nd,Od){this.tj.beginPath();var Ld=this.Ld;for(var H=0;H<ek.length;H++){var fk=ek[H];Ld.q(fk);if(H==0){this.tj.moveTo(Ld.G,Ld.t);}else {this.tj.lineTo(Ld.G,Ld.t);}}this.tj.closePath();if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fill();}if(Od!=null){this.tj.strokeStyle=Od;this.tj.stroke();}};qi.prototype.Pd=function (qd,k,Nd,Od,gk){if(gk==true){var re=Nd;Nd=Od;Od=re;}if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fillRect(qd.G,qd.t,k.G,k.t);}if(Od!=null){this.tj.strokeStyle=Od;this.tj.strokeRect(qd.G,qd.t,k.G,k.t);}};qi.prototype.hk=function (qd,k,Nd,Od){var zd=this.zd.q(k).Q();var ik=this.Ld.q(qd).P(zd);this.Pd(ik,k,Nd,Od);};qi.prototype.Sd=function (text,rd,qd,Nd,jk,gk,kk,lk){var mk=this.tj.font;if(rd==null){rd=this.rd;}this.nk(rd);if(gk==true){var re=Nd;Nd=jk;jk=re;}var ok=text;if(lk!=null){while(this.Sf(ok,rd)>lk){ok=ok.substr(0,ok.length-1);}}var pk=this.Sf(ok,rd);var Ld=new g(qd.G,qd.t+rd);if(kk==true){Ld.qk(0 -pk/2,0 -rd/2,0);}if(jk!=null){this.tj.strokeStyle=jk;this.tj.strokeText(ok,Ld.G,Ld.t);}if(Nd!=null){this.tj.fillStyle=Nd;this.tj.fillText(ok,Ld.G,Ld.t);}this.tj.font=mk;};qi.prototype.nk=function (rd){var rk=this.sk(this.oj);var tk=(rk==true?this.oj:"sans-serif");this.tj.font=rd+"px "+tk;};qi.prototype.sk=function (oj){this.tj.font=""+this.rd+"px "+oj;var uk=this.tj.measureText(this.qj).width;var R=(uk!=this.vk);return R;};qi.prototype.wk=function (j){j.xk.yk(this.zk);};qi.prototype.Db=function (j){var xk=j.xk;xk.Db(j);if(this.zk!=null){xk.yk(this.zk);}this.Ak();xk.Bk(this.zk);};qi.prototype.Ak=function (){this.zk=document.createElement("canvas");this.zk.width=this.vb.G;this.zk.height=this.vb.t;this.tj=this.zk.getContext("2d");this.tj.font=""+this.rd+"px "+this.pj;this.vk=this.tj.measureText(this.qj).width;var f=this.wb[0];this.Fg=this.vb.L().r(f);this.tj.scale(this.Fg.G,this.Fg.t);return this;};qi.prototype.Ck=function (j){j.xk.Bk(this.zk);};qi.prototype.Sf=function (Dk,rd){var mk=this.tj.font;this.nk(rd);var R=this.tj.measureText(Dk).width;this.tj.font=mk;return R;};qi.prototype.Ek=function (){return Fk.Gk("[fromDisplay]",this.zk);};}function Hk(vb,oj,rd,ve,hf){this.vb=vb;this.p=vb;this.Fg=new g(1,1,1);this._Ik=new qi([vb],oj,rd,ve,hf);}{Hk.Jk=3;Hk.prototype.Kk=function (Lk){var Mk=Lk.bg;var Nk=this.Nk.Ok(Mk.qd.L().ab(-1)).w(this.Pk.Qk(Mk.Rk)).w(this.Sk.Tk(Lk));var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.Xk(Wk.Yk,false,Nk.Zk());};Hk.prototype.clear=function (){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.al(0,0,Vk.bl,Vk.cl);Vk.clear(Vk.dl_el_fl|Vk.gl_el_fl);};Hk.prototype.hl=function (il){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;var jl=[];var kl=[];var ll=[];var ml=[];var nl=0;var ol=il.ol;var pl=il.pl();var ql=il.ql;var rl=il.rl();for(var sl=0;sl<ol.length;sl++){var tl=ol[sl];var ul=tl.name;var vl=rl[ul];for(var wl=0;wl<vl.length;wl++){var xl=vl[wl];var yl=pl[xl];var zl=yl.tl;var Al=yl.Bl;var Cl=Al.Dl().El;var Fl=il.Fl;var Gl=[[0,1,2]];var Hl=Al.ek;var Il=Hl.length;if(Il==4){Gl.push([0,2,3]);}for(var Jl=0;Jl<Gl.length;Jl++){var Kl=Gl[Jl];for(var Ll=0;Ll<Kl.length;Ll++){var Ml=Kl[Ll];var fk=Hl[Ml];jl=jl.concat(fk.Nl());var Ol=zl.Nd;kl=kl.concat(Ol.Ri);var Pl=(Fl==null?Cl:Fl[xl][Ml]);ll=ll.concat(Pl.Nl());var Ql=(ql==null?new g(-1,-1):ql[xl]==null?new g(-1,-1):ql[xl].Rl[Ml]);ml=ml.concat([Ql.G,Ql.t]);}}nl+=Gl.length;}var Sl=Vk.Tl();Vk.Ul(Vk.Vl_el,Sl);Vk.Wl(Vk.Vl_el,new Float32Array(kl),Vk.Xl_Yl);Vk.Zl(Wk.am,Pi.Si,Vk.bm,false,0,0
);var cm=Vk.Tl();Vk.Ul(Vk.Vl_el,cm);Vk.Wl(Vk.Vl_el,new Float32Array(ll),Vk.Xl_Yl);Vk.Zl(Wk.dm,g.em,Vk.bm,false,0,0
);var fm=Vk.Tl();Vk.Ul(Vk.Vl_el,fm);Vk.Wl(Vk.Vl_el,new Float32Array(jl),Vk.Xl_Yl);Vk.Zl(Wk.gm,g.em,Vk.bm,false,0,0
);var hm=tl.hm;if(hm!=null){var im=hm.name;var jm=this.km[im];if(jm==null){hm.lm(this.Uk);this.km[im]=hm;}Vk.mm(Vk.nm);Vk.om(Vk.pm_2qm,hm.rm);}Vk.sm(Wk.tm,0);var um=Vk.Tl();Vk.Ul(Vk.Vl_el,um);Vk.Wl(Vk.Vl_el,new Float32Array(ml),Vk.Xl_Yl);Vk.Zl(Wk.vm,2,Vk.bm,false,0,0
);Vk.wm(Vk.xm,0,nl*Hk.Jk);}};Hk.prototype.ym=function (il,zm){var Pk=this.Pk;var Am=this.Am.Bm(zm).w(Pk.Cm(zm));var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;Vk.Xk(Wk.Dm,false,Pk.Zk());Vk.Xk(Wk.Em,false,Am.Zk());this.hl(il);};Hk.prototype.Db=function (j){var xk=j.xk;xk.Db(j);if(this.zk!=null){xk.yk(this.zk);}this.zk=document.createElement("canvas");this.zk.style.position="absolute";this.zk.width=this.vb.G;this.zk.height=this.vb.t;Fm.appendChild(this.zk);this.Uk=new Gm(this.zk);this.km=[];this.Hm=new Im(.5,new g(-1,-1,-1),.3 );this._Ik.Db(j);this.Am=Jm.Km();this.Nk=Jm.Km();this.Pk=Jm.Km();this.Sk=Jm.Km();this.Lm=Jm.Km();this.Mm=new g(0,0,0);this.Nm=Jm.Km();this.Om=Jm.Km();};Hk.prototype.Pm=function (Qm){var Uk=this.Uk;var Vk=Uk.Vk;var Wk=Uk.Wk;var Hm=this.Hm;Vk.Rm(Wk.Sm,Hm.Tm);Vk.Um(Wk.Vm,Gm.Wm(Hm.de));Vk.Rm(Wk.Xm,Hm.Ym);};Hk.prototype.clear=function (){this._Ik.clear();};Hk.prototype.uj=function (vj,wj,xj,yj,zj,Nd,Od){this._Ik.uj(vj,wj,xj,yj,zj,Nd,Od);};Hk.prototype.Ej=function (){this._Ik.Ej();};Hk.prototype.Fj=function (vj,Gj,Nd,Od){this._Ik.Fj(vj,Gj,Nd,Od);};Hk.prototype.Hj=function (vj,Gj,Ij,Od){this._Ik.Hj(vj,Gj,Ij,Od);};Hk.prototype.drawImage=function (Wj,qd,k){this._Ik.drawImage(Wj,qd,k);};Hk.prototype.Zj=function (ak,bk,Oj){this._Ik.Zj(ak,bk,Oj);};Hk.prototype.dk=function (ek,Nd,Od){this._Ik.dk(ek,Nd,Od);};Hk.prototype.Pd=function (qd,k,Nd,Od,gk){this._Ik.Pd(qd,k,Nd,Od,gk);};Hk.prototype.Sd=function (text,rd,qd,Nd,jk,gk,kk,lk){this._Ik.Sd(text,rd,qd,Nd,jk,gk,kk,lk);};Hk.prototype.nk=function (rd){this._Ik.nk(rd);};Hk.prototype.sk=function (oj){this._Ik.sk(oj);};Hk.prototype.wk=function (j){this._Ik.wk(j);};Hk.prototype.Ck=function (j){this._Ik.Ck(j);};Hk.prototype.Sf=function (Dk,rd){return this._Ik.Sf(Dk,rd);};}function Zm(Bl,tl){this.Bl=Bl;this.tl=tl;}function an(Lj){this.Lj=Lj;}function bn(position,Oj){this.position=position;this.Oj=Oj;}function Im(Tm,de,Ym){this.Tm=Tm;this.de=de.L().cn();this.Ym=Ym;}function dn(name,en,Nd,hm){this.name=name;this.en=en;this.Nd=Nd;this.hm=hm;}{dn.eb=function (){if(dn._eb==null){dn._eb=this;this.Jf=new dn("Default",Pi.eb().Vi,Pi.eb().jj,null);}return dn._eb;};}function Jm(values){this.values=values;}{Jm.Km=function (){var R=new Jm([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,]);return R;};Jm.prototype.L=function (){var fn=[];for(var H=0;H<this.values.length;H++){fn[H]=this.values[H];}var R=new Jm(fn);return R;};Jm.prototype.gn=function (hn){for(var H=0;H<this.values.length;H++){this.values[H]/=hn;}return this;};Jm.prototype.w=function (jn){var kn=[];for(var t=0;t<4;t++){for(var G=0;G<4;G++){var ln=0;for(var H=0;H<4;H++){ln+=jn.values[t*4 +H]*this.values[H*4 +G];}kn[t*4 +G]=ln;}}this.mn(kn);return this;};Jm.prototype.ab=function (hn){for(var H=0;H<this.values.length;H++){this.values[H]*=hn;}return this;};Jm.prototype.q=function (jn){for(var H=0;H<this.values.length;H++){this.values[H]=jn.values[H];}return this;};Jm.prototype.Cm=function (Rk){var nn=Rk.nn.L().ab(1);var on=Rk.on.L().ab(1);var pn=Rk.pn.L().ab(1);/*this.mn([on.G,pn.G,nn.G,0,on.t,pn.t,nn.t,0,on.qn,pn.qn,nn.qn,0,0,0,0,1,]);*/this.mn([nn.G,on.G,pn.G,0,nn.t,on.t,pn.t,0,nn.qn,on.qn,pn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Qk=function (Rk){var nn=Rk.nn.L().ab(1);var on=Rk.on.L().ab(1);var pn=Rk.pn.L().ab(1);this.mn([on.G,on.t,on.qn,0,0-pn.G,0-pn.t,0-pn.qn,0,0-nn.G,0-nn.t,0-nn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Bm=function (Rk){var nn=Rk.nn.L();var on=Rk.on.L();var pn=Rk.pn.L();this.mn([nn.G,nn.t,nn.qn,0,on.G,on.t,on.qn,0,pn.G,pn.t,pn.qn,0,0,0,0,1,]);return this;};Jm.prototype.Tk=function (Lk){var rn=Lk.rn;var sn=.001;var tn=Lk.rn.qn;var un=1.0 /Math.vn(rn.t/2);var wn=un*rn.t/rn.G;var xn=.7;wn*=xn;un*=xn;var yn=sn-tn;var zn=tn+sn;var An=zn/yn;var Bn=(tn*sn)/yn;this.mn([wn,0,0,0,0,un,0,0,0,0,An,2 *Bn,0,0,-1,0,]);return this;};Jm.prototype.Ok=function (Cn){this.mn([1,0,0,Cn.G,0,1,0,Cn.t,0,0,1,Cn.qn,0,0,0,1,]);return this;};Jm.prototype.mn=function (Dn){for(var H=0;H<this.values.length;H++){this.values[H]=Dn[H];}return this;};Jm.prototype.Zk=function (){var gi=[];for(var G=0;G<4;G++){for(var t=0;t<4;t++){gi.push(this.values[(t*4 +G)]);}}var gi=new Float32Array(gi);return gi;};}function En(Bl,ol,ql,Fn){this.Bl=Bl;this.ol=ol.d("name");this.ql=ql;this.Fn=Fn;}{En.prototype.pl=function (){if(this._pl==null){this._pl=[];var Gn=this.Bl.pl();for(var H=0;H<Gn.length;H++){var Hn=Gn[H];var In=this.ql[H];var Jn=In.ul;var zl=this.ol[Jn];var yl=new Zm(Hn,zl);this._pl.push(yl);}}return this._pl;};En.prototype.Kn=function (){var ul=this.ol[0].name;var ql=[];var Ln=this.Bl.Mn.length;for(var xl=0;xl<Ln;xl++){var In=new Nn(ul,[new g(0,0),new g(1,0),new g(1,1),new g(1,0)]);ql.push(In);}this.ql=ql;return this;};En.prototype.rl=function (){if(this._rl==null){this._rl=[];for(var xl=0;xl<this.ql.length;xl++){var In=this.ql[xl];var Jn=In.ul;var On=this._rl[Jn];if(On==null){On=[];this._rl[Jn]=On;}On.push(xl);}}return this._rl;};En.prototype.Pn=function (Qn){this.Bl.Pn(Qn);return this;};En.prototype.Rn=function (Qn){for(var H=0;H<this.ql.length;H++){var In=this.ql[H];Sn.Tn(Qn,In.Rl);}return this;};En.prototype.L=function (){return new En(this.Bl.L(),this.ol,(this.ql==null?null:this.ql.L()),(this.Fn==null?null:this.Fn.L()));};En.prototype.q=function (jn){this.Bl.q(jn.Bl);return this;};}function Nn(ul,Rl){this.ul=ul;this.Rl=Rl;}{Nn.prototype.L=function (){return new Nn(this.ul,this.Rl.L());};}function Un(name,Vn){this.name=name;this.Vn=Vn;}{Un.prototype.lm=function (Uk){var Vk=Uk.Vk;this.rm=Vk.Wn();Vk.om(Vk.pm_2qm,this.rm);Vk.Xn(Vk.pm_2qm,0,Vk.Yn,Vk.Yn,Vk.Zn_ao,this.Vn.Xj);Vk.bo(Vk.pm_2qm,Vk.pm_co_eo,Vk.fo);Vk.bo(Vk.pm_2qm,Vk.pm_go_eo,Vk.fo);Vk.bo(Vk.pm_2qm,Vk.pm_ho_io,Vk.jo);Vk.bo(Vk.pm_2qm,Vk.pm_ho_ko,Vk.jo);Vk.om(Vk.pm_2qm,null);};}function nb(lo,mo,no,oo){this.po=[mo,lo];this.oo=(oo==null?250 :oo);if(mo==lo){this.qo=1;this.oo*=2;}else {this.qo=0;}this.no=(no==null?Pi.eb().Ui:no);}{nb.prototype.Db=function (j){var lo=this.lo();if(lo.Db!=null){lo.Db(j);}};nb.prototype.wg=function (j){this.Kd(j);var hc=new Date();if(this.ro==null){this.ro=hc;}var so=hc-this.ro;var to=so/this.oo;var uo;if(this.qo==0){if(to>1){to=1;this.qo++;this.ro=null;var lo=this.po[1];if(lo.Kd==null){j.jb=lo;}}uo=to;}else {if(to>1){to=1;j.jb=this.ob();}uo=1 -to;}uo*=uo;var vo=this.no.L().mj(uo*this.no.lj());var o=j.o;o.Pd(new g(0,0),o.p,vo.nj());};nb.prototype.lo=function (){return this.po[1];};nb.prototype.ob=function (){return this.po[this.qo];};nb.prototype.Kd=function (j){var ob=this.ob();if(ob!=null){ob.Kd(j);}};}function Lg(zb,wo){this.zb=zb;this.wo=wo;}{Lg.prototype.Db=function (j){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];if(Td.Db!=null){Td.Db(j);}}};Lg.prototype.wg=function (j){this.zb[this.zb.length-1].wg(j);};Lg.prototype.Kd=function (j){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Kd(j);if(this.wo!=null){var o=j.o;o.Pd(g.eb().fb,o.k,this.wo);}}};}function xo(name,yo){this.name=name;this.yo=yo;}{xo.prototype.L=function (){return new xo(this.name,this.yo.slice());};}function zo(Td,Ao){this.Td=Td;this.Ao=Ao;this.Bo=new g();}{zo.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);Do.q(this.Ao);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function Eo(name,Fo,Go,Ho){this.name=name;this.Fo=Fo;this.Go=Go;this.Ho=(Ho==null?true:Ho);this.Io=this.Go.length*this.Fo;}{Eo.prototype.Kd=function (j,Eb,o,Zf,Co){if(Zf.Jo==null){Zf.Jo={};}var Ko=Zf.Jo[this.name];if(Ko==null){Ko=new Lo(this);Zf.Jo[this.name]=Ko;}Ko.Mh(j,Eb,o,Zf);};}function Lo(yh){this.yh=yh;this.Mo=0;}{Lo.prototype.No=function (){var Oo=this.Oo();var No=this.yh.Go[Oo];return No;};Lo.prototype.Oo=function (){return Math.floor(this.Mo/this.yh.Fo);};Lo.prototype.Po=function (){var R=(this.Mo>=this.yh.Io);return R;};Lo.prototype.Mh=function (j,Eb,o,Zf){var No=this.No();No.Kd(j,Eb,o,Zf);this.Mo++;if(this.Po()==true){if(this.yh.Ho==true){this.Mo=this.Mo.Hf(0,this.yh.Io);}else {this.Mo=this.Mo.Qo(this.yh.Io-1);}}};}function Ro(arc,Nd,Od){this.arc=arc;this.Nd=Nd;this.Od=Od;this.Ld=new g();}{Ro.prototype.Kd=function (j,Eb,o,Zf,Co){var arc=this.arc;var So=arc.So;var To=arc.To;var Uo=To.Vo();var Wo=To.Xo();var Ld=this.Ld.q(Zf.bg.qd);o.uj(Ld,So.Yo.Gj,So.Zo.Gj,Uo,Wo,this.Nd,this.Od);};}function ap(Td,Lk){this.Td=Td;this.Lk=Lk;this.Bo=new g();}{ap.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);this.Lk.bp(Do);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function cp(Gj,Nd,Od){this.Gj=Gj;this.Nd=Nd;this.Od=Od;}{cp.prototype.Kd=function (j,Eb,o,Zf,Co){o.Fj(Zf.bg.qd,this.Gj,this.Nd,this.Od);};}function dp(Gj,Ij,Od){this.Gj=Gj;this.Ij=Ij;this.Od=Od;}{dp.prototype.Kd=function (j,Eb,o,Zf,Co){o.Hj(Zf.bg.qd,this.Gj,this.Ij,this.Od);};}function ep(fp,gp){this.fp=fp;this.gp=gp;this.hp=this.gp.length;}{ep.prototype.Kd=function (j,Eb,o,Zf,Co){var bg=Zf.bg;var ip=bg.Rk.ip();var jp;if(ip==null){jp=this.fp;}else {var de=Math.round(ip*this.hp).Hf(0,this.hp);jp=this.gp[de];}jp.Kd(j,Eb,o,Zf);};}function kp(lp){this.lp=lp;}{kp.prototype.Kd=function (j,Eb,o,Zf,Co){var Yf=this.lp.call(this,j,Eb,Zf,Co);Yf.Kd(j,Eb,o,Zf);};}function mp(Rj,Sj,Tj,Nd,Od){this.Rj=Rj;this.Sj=Sj;this.Tj=Tj;this.Nd=Nd;this.Od=Od;}{mp.prototype.Kd=function (j,Eb,o,Zf,Co){var np=Zf.bg;o.Qj(np.qd,this.Rj,this.Sj,this.Tj,this.Nd,this.Od);};}function op(zb){this.zb=zb;}{op.prototype.Kd=function (j,Eb,o,Zf,Co){for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Kd(j,Eb,o,Zf,Co);}};}function wc(tc,pp){this.tc=tc;this._pp=pp;this.Ld=new g();}{wc.qp=function (rp,sp){var gi=[];for(var H=0;H<rp.length;H++){var Vn=rp[H];var Yf=new wc(Vn.name,sp);gi.push(Yf);}return gi;};wc.prototype.Vn=function (j){return j.Ec.tp(this.tc);};wc.prototype.sp=function (j){return (this._pp==null?this.Vn(j).vb:this._pp);};wc.prototype.Kd=function (j,Eb,o,Zf,Co){var Vn=this.Vn(j);var up=this.sp(j);var Ld=this.Ld.clear().P(up).Q().Md(Zf.bg.qd);o.drawImage(Vn,Ld,up);};}function vp(Vn,pp){this.Vn=Vn;this._Ld=new g();}{vp.qp=function (rp,sp){var gi=[];for(var H=0;H<rp.length;H++){var Vn=rp[H];var Yf=new vp(Vn,sp);gi.push(Yf);}return gi;};vp.prototype.sp=function (j){return (this._pp==null?this.Vn.vb:this._pp);};vp.prototype.Kd=function (j,Eb,o,Zf,Co){var Vn=this.Vn;var up=this.sp(j);var Ld=this._Ld.clear().P(up).Q().Md(Zf.bg.qd);o.drawImage(Vn,Ld,up);};}function wp(ak,bk,Oj){this.ak=ak;this.bk=bk;this.Oj=Oj;this.xp=new g();this.yp=new g();}{wp.prototype.Kd=function (j,Eb,o,Zf){var qd=Zf.bg.qd;var xp=this.xp.q(qd).Md(this.ak);var yp=this.yp.q(qd).Md(this.bk);o.Zj(xp,yp,this.Oj);};}function zp(map,Ap){this.map=map;this.Ap=Ap;this.Bp=this.map.Cp.L();this.Dp=new g();this.Ld=new g();this.Bo=new g();}{zp.prototype.Kd=function (j,Eb,o,Zf,Co){var Ep=this.map.Fp;var Gp=this.map.zd;var Dp=this.Dp;var Hp=this.map.Ip;var Do=Zf.bg.qd;for(var t=0;t<Ep.t;t++){Dp.t=t;for(var G=0;G<Ep.G;G++){Dp.G=G;var Bp=this.map.Jp(this.map,Dp,this.Bp);var Kp=Bp.Lp;var Mp=this.Ap[Kp];var Ld=this.Ld.q(Dp).w(Hp).P(Gp).Md(Do);this.Bo.q(Do);Do.q(Ld);Mp.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);}}};}function Np(){}{Np.prototype.Kd=function (j,Eb,o,Zf,Co){};}function Op(Td,Pp){this.Td=Td;this.Pp=Pp;this.Bo=new g();}{Op.prototype.Kd=function (j,Eb,o,Zf,Co){var Do=Zf.bg.qd;this.Bo.q(Do);Do.Md(this.Pp);this.Td.Kd(j,Eb,o,Zf,Co);Do.q(this.Bo);};}function Qp(Rp,Nd,Od){this.Rp=Rp;this.Nd=Nd;this.Od=Od;this.Sp=this.Rp.L();this.Tp=new Sn_Up(new g());}{Qp.prototype.Kd=function (j,Eb,o,Zf,Co){var qd=Zf.bg.qd;this.Tp.Cn.q(Zf.bg.qd);this.Sp.q(this.Rp);Sn.Tn(this.Tp,this.Sp.Vp);o.dk(this.Sp.Vp,this.Nd,this.Od);};}function Wp(length,Oj){this.length=length;this.Oj=Oj;this.Xp=new Cj(0,this.length);this.bk=new g();}{Wp.prototype.Kd=function (j,Eb,o,Zf,Co){var np=Zf.bg;var Do=np.qd;this.Xp.Yp=np.Rk.ip();this.Xp.Dj(this.bk).Md(Do);o.Zj(Do,this.bk,this.Oj);};}function Zp(k,Nd,Od){this.k=k;this.Nd=Nd;this.Od=Od;this.zd=this.k.L().Q();this._Ld=new g();}{Zp.prototype.Kd=function (j,Eb,o,Zf,Co){var Ld=this._Ld.q(Zf.bg.qd).P(this.zd);o.Pd(Ld,this.k,this.Nd,this.Od);};}function aq(name,bq,zb){this.name=name;this.bq=bq;this.zb=zb;for(var H=0;H<this.zb.length;H++){var cq=this.bq[H];var Td=this.zb[H];this.zb[cq]=Td;}}{aq.prototype.dq=function (Zf){var eq=Zf["visualNameSelected_"+this.name];if(eq==null){eq=this.bq[0];Zf.fq=eq;}return this.zb[eq];};aq.prototype.Kd=function (j,Eb,o,Zf,Co){var dq=this.dq(Zf);dq.Kd(j,Eb,o,Zf,Co);};}function gq(text,Nd,Od){this._text=text;this.Nd=Nd;this.Od=Od;}{gq.prototype.Kd=function (j,Eb,o,Zf,Co){var text=this.text(j,Eb,o,Zf);o.Sd(text,o.rd,Zf.bg.qd,this.Nd,this.Od,false,true,null);};gq.prototype.text=function (j,Eb,o,Zf){return (this._text.Cd==null?this._text:this._text.Cd(j,Eb,o,Zf));};}function Gm(zk){this.Vk=this.hq(zk);this.Wk=this.iq(this.Vk);}{Gm.Wm=function (jq){var gi=new Float32Array(jq.Nl());return gi;};Gm.prototype.hq=function (zk){var Vk=zk.getContext("experimental-webgl");Vk.bl=zk.width;Vk.cl=zk.height;var se=Pi.eb().Ui;var kq=se.Ri;Vk.lq(kq[0],kq[1],kq[2],kq[3]);Vk.mq(Vk.nq_oq);Vk.mq(Vk.gl_pq);return Vk;};Gm.prototype.iq=function (Vk){var Wk=this.iq_qq(Vk,this.iq_rq(Vk),this.iq_sq(Vk));this.iq_tq(Vk,Wk);return Wk;};Gm.prototype.iq_rq=function (Vk){var uq=Vk.vq(Vk.wq_xq);var yq="precision mediump float;"+"uniform sampler2D uSampler;"+"varying vec4 vColor;"+"varying vec3 vLight;"+"varying vec2 vTextureUV;"+"void main(void) {"+"    if (vTextureUV.x < 0.0) {"+"        gl_FragColor = vColor;"+"    } else {"+"        vec4 textureColor = "+"            texture2D(uSampler, vec2(vTextureUV.s, vTextureUV.t));"+"        gl_FragColor = vec4(vLight * textureColor.rgb, textureColor.a);"+"    }"+"}";Vk.zq(uq,yq);Vk.Aq(uq);return uq;};Gm.prototype.iq_sq=function (Vk){var Bq=Vk.vq(Vk.Cq_xq);var Dq="attribute vec4 aVertexColor;"+"attribute vec3 aVertexNormal;"+"attribute vec3 aVertexPosition;"+"attribute vec2 aVertexTextureUV;"+"uniform mat4 uEntityMatrix;"+"uniform mat4 uCameraMatrix;"+"uniform float uLightAmbientIntensity;"+"uniform vec3 uLightDirection;"+"uniform float uLightDirectionalIntensity;"+"uniform mat4 uNormalMatrix;"+"varying vec4 vColor;"+"varying vec3 vLight;"+"varying vec2 vTextureUV;"+"void main(void) {"+"    vColor = aVertexColor;"+"    vec4 vertexNormal4 = vec4(aVertexNormal, 0.0);"+"    vec4 transformedNormal4 = uNormalMatrix * vertexNormal4;"+"    vec3 transformedNormal = vec3(transformedNormal4.xyz) * -1.0;"+"    float lightMagnitude = uLightAmbientIntensity;"+"    lightMagnitude += "+"        uLightDirectionalIntensity "+"        * max(dot(transformedNormal, uLightDirection), 0.0);"+"    vLight = vec3(1.0, 1.0, 1.0) * lightMagnitude;"+"    vTextureUV = aVertexTextureUV;"+"    vec4 vertexPos = vec4(aVertexPosition, 1.0);"+"    gl_Position = uCameraMatrix * uEntityMatrix * vertexPos;"+"}";Vk.zq(Bq,Dq);Vk.Aq(Bq);return Bq;};Gm.prototype.iq_qq=function (Vk,uq,Bq){var Wk=Vk.Eq();Vk.Fq(Wk,Bq);Vk.Fq(Wk,uq);Vk.Gq(Wk);Vk.Hq(Wk);return Wk;};Gm.prototype.iq_tq=function (Vk,Wk){Wk.am=Vk.Iq(Wk,"aVertexColor");Vk.Jq(Wk.am);Wk.dm=Vk.Iq(Wk,"aVertexNormal");Vk.Jq(Wk.dm);Wk.gm=Vk.Iq(Wk,"aVertexPosition");Vk.Jq(Wk.gm);Wk.vm=Vk.Iq(Wk,"aVertexTextureUV");Vk.Jq(Wk.vm);Wk.Em=Vk.Kq(Wk,"uEntityMatrix");Wk.Yk=Vk.Kq(Wk,"uCameraMatrix");Wk.Sm=Vk.Kq(Wk,"uLightAmbientIntensity");Wk.Vm=Vk.Kq(Wk,"uLightDirection");Wk.Xm=Vk.Kq(Wk,"uLightDirectionalIntensity");Wk.Dm=Vk.Kq(Wk,"uNormalMatrix");};}function Lq(){}{Array.prototype.Md=function (Mq){this.push(Mq);return this;};Array.prototype.Nq=function (Oq){for(var H=0;H<Oq.length;H++){var Mq=Oq[H];this.push(Mq);}return this;};Array.prototype.d=function (Pq){for(var H=0;H<this.length;H++){var Mq=this[H];var key=Mq[Pq];this[key]=Mq;}return this;};Array.prototype.ug=function (jn){for(var H=0;H<jn.length;H++){var Mq=jn[H];this.push(Mq);}return this;};Array.prototype.clear=function (){this.length=0;return this;};Array.prototype.L=function (){var R=[];for(var H=0;H<this.length;H++){var Mq=this[H];var Qq=Mq.L();R.push(Qq);}return R;};Array.prototype.lh=function (Rq){return (this.indexOf (Rq)>=0);};Array.prototype.Sq=function (Tq){var gi=[];for(var H=0;H<this.length;H++){var Mq=this[H];var Uq=Mq[Tq];gi.push(Uq);}return gi;};Array.prototype.Vq=function (Mq,Wq){this.splice (Wq,0,Mq);return this;};Array.prototype.q=function (jn){for(var H=0;H<this.length;H++){var Xq=this[H];var Yq=jn[H];if(Xq.q==null){this[H]=Yq;}else {Xq.q(Yq);}}return this;};Array.prototype.Zq=function (jn){for(var H=0;H<jn.length;H++){var Mq=jn[H];this.splice (0,0,Mq);}return this;};Array.prototype.random=function (){return this[Math.floor(Math.random()*this.length)];};Array.prototype.Lc=function (ar){var br=this.indexOf (ar);if(br>=0){this.splice (br,1);}return this;};Array.prototype.cr=function (Wq){this.splice (Wq,1);return this;};Array.prototype.dr=function (Tq){return this.sort(function (mg,er){return mg[Tq]-er[Tq];});};}function fr(){}{Number.prototype.je=function (gr,hr){return (this>=gr&&this<=hr);};Number.prototype.ir=function (jr){var kr=Math.lr(10,jr);return Math.round(this*kr)/kr;};Number.prototype.mr=function (nr,hr){var or=this-nr;var pr=Math.qr(or);var rr=pr;var R=or;for(var H=-1;H<=1;H+=2){var sr=or+hr*H;pr=Math.qr(sr);if(pr<rr){rr=pr;R=sr;}}return R;};Number.prototype.Qo=function (hr){return this.af(0,hr);};Number.prototype.af=function (gr,hr){var Cb=this;if(Cb<gr){Cb=gr;}else if(Cb>hr){Cb=hr;}return Cb;};Number.prototype.Hf=function (gr,hr){var Cb=this;var tr=hr-gr;if(tr==0){Cb=gr;}else {while(Cb<gr){Cb+=tr;}while(Cb>=hr){Cb-=tr;}}return Cb;};}function ur(){}{String.prototype.vr=function (wr,xr){var yr=this;while(yr.length<wr){yr=xr+yr;}return yr;};String.prototype.zr=function (Ar,Br){return this.split(Ar).join(Br);};String.prototype.Cr=function (){return this.substr(0,1).toUpperCase()+this.substr(1).toLowerCase();};}function Dr(rn,Er,bg){this.rn=rn;this.Er=Er;this.bg=bg;this.Fr=this.rn.L().M().Q();}{Dr.prototype.Gr=function (){if(this._Gr==null){this._Gr=[new Hr(new g(0,0,0),0),new Hr(new g(0,0,0),0),new Hr(new g(0,0,0),0),new Hr(new g(0,0,0),0),];}var Mk=this.bg;var Ir=Mk.Rk;var Jr=Mk.qd;var Kr=Jr.L().Md(Ir.nn.L().ab(this.Er));var Lr=Ir.on.L().ab(this.Fr.G);var Mr=Ir.pn.L().ab(this.Fr.t);var Nr=[Kr.L().Md(Lr).Md(Mr),Kr.L().P(Lr).Md(Mr),Kr.L().P(Lr).P(Mr),Kr.L().Md(Lr).P(Mr),];var Or=Nr.length;for(var H=0;H<Or;H++){var Pr=H+1;if(Pr>=Or){Pr=0;}var Qr=this._Gr[H];var Rr=Nr[H];var Sr=Nr[Pr];Qr.Tr(Jr,Rr,Sr);}return this._Gr;};Dr.prototype.Ur=function (Vr,Wr){var Mk=this.bg;if(Wr==true){Vr.qn=this.Er;}var Xr=Vr.P(this.Fr);Mk.Rk.Yr(Xr);Xr.Md(Mk.qd);return Xr;};Dr.prototype.bp=function (Xr){var Jr=this.bg.qd;var Ir=this.bg.Rk;var Vr=Xr.P(Jr);Ir.Zr(Vr);if(this.Er!=null){var as=Vr.qn;Vr.ab(this.Er).gn(as);Vr.qn=as;}Vr.Md(this.Fr);return Vr;};}function bs(qd,cs,ds){this.qd=qd;this.cs=cs;this.ds=ds;}function es(){this.fs=true;this.Cn=new g();var gs={};var hs;hs={};hs[is.name]=this.js;hs[ks.name]=this.ls;hs[ms.name]=this.ns;gs[is.name]=hs;hs={};hs[ks.name]=this.os;gs[ks.name]=hs;hs={};hs[ps.name]=this.qs;hs[rs.name]=this.ss;hs[ts.name]=this.us;hs[Hr.name]=this.vs;gs[ws.name]=hs;hs={};hs[ms.name]=this.xs;gs[rs.name]=hs;hs={};hs[ys.name]=this.zs;hs[ms.name]=this.As;gs[ys.name]=hs;hs={};hs[ts.name]=this.Bs;hs[ms.name]=this.Cs;gs[ts.name]=hs;hs={};hs[Ds.name]=this.Es;hs[Fs.name]=this.Es;hs[Gs.name]=this.Es;hs[Hs.name]=this.Es;hs[ms.name]=this.Es;gs[Ds.name]=hs;hs={};hs[Ds.name]=this.Is;hs[Fs.name]=this.Is;hs[Gs.name]=this.Is;hs[Hs.name]=this.Is;hs[ms.name]=this.Is;gs[Fs.name]=hs;hs={};hs[Ds.name]=this.Js;hs[Fs.name]=this.Js;hs[Gs.name]=this.Js;hs[Hs.name]=this.Js;hs[ms.name]=this.Js;gs[Gs.name]=hs;hs={};hs[Ds.name]=this.Ks;hs[Fs.name]=this.Ks;hs[Gs.name]=this.Ks;hs[Hs.name]=this.Ks;hs[ms.name]=this.Ks;gs[Hs.name]=hs;hs={};hs[is.name]=this.Ls;hs[ys.name]=this.Ms;hs[ts.name]=this.Ns;hs[Ds.name]=this.Os;hs[Fs.name]=this.Ps;hs[Gs.name]=this.Qs;hs[Hs.name]=this.Rs;hs[ms.name]=this.Ss;gs[ms.name]=hs;this.Ts=gs;gs={};hs={};hs[is.name]=this.Us;hs[ms.name]=this.Vs;gs[is.name]=hs;hs={};hs[is.name]=this.Ws;hs[ms.name]=this.Xs;gs[rs.name]=hs;hs={};hs[is.name]=this.Ys;hs[ms.name]=this.Zs;gs[ms.name]=hs;this.at=gs;}{es.prototype.bt=function (ct,dt){var gi=[];var et=ct.length;var ft=dt.length;for(var H=0;H<et;H++){var gt=ct[H];for(var oh=0;oh<ft;oh++){var ht=dt[oh];if(this.it(gt,ht)==true){var jt=new bs(null,null,[gt,ht]);gi.push(jt);}}}return gi;};es.prototype.it=function (kt,lt){var mt=kt.nt();var ot=lt.nt();var pt=this.pt(mt,ot);return pt;};es.prototype.pt=function (mt,ot){var R=false;while(mt.nt!=null){mt=mt.nt();}while(ot.nt!=null){ot=ot.nt();}var qt=mt.constructor.name;var rt=ot.constructor.name;var st=this.Ts[qt];if(st==null){if(this.fs){throw "Error!";}}else {var tt=st[rt];if(tt==null){if(this.fs){throw "Error!";}}else {R=tt.call(this,mt,ot);}}return R;};es.prototype.ut=function (mt,ot){var R=false;while(mt.nt!=null){mt=mt.nt();}while(ot.nt!=null){ot=ot.nt();}var qt=mt.constructor.name;var rt=ot.constructor.name;var vt=this.at[qt];if(vt==null){if(this.fs){throw "Error!";}}else {var ut=vt[rt];if(ut==null){if(this.fs){throw "Error!";}}else {R=ut.call(this,mt,ot);}}return R;};es.prototype.wt=function (xt,yl){var yt=yl.Dl();var R=this.zt(xt,yt);if(R!=null){var Hl=yl.ek;var At=new Hr(new g());var Cl=yt.El;var Bt=new g();var Ct=Hl[Hl.length-1];for(var H=0;H<Hl.length;H++){var Dt=Hl[H];Bt.q(Dt).Md(Cl);At.Tr(Dt,Ct,Bt);var Et=new rs(At);var ss=this.ss(xt,Et);if(ss==false){R=null;break;}Ct=Dt;}}if(R!=null){R.nt=yl;}return R;};es.prototype.Ft=function (xt,il,Gt,Ht){if(Gt==null){Gt=[];}var It=il.pl();for(var H=0;H<It.length;H++){var Jt=It[H];var wt=this.wt(xt,Jt);if(wt!=null){Gt.push(wt);if(Ht==true){break;}}}return Gt;};es.prototype.zt=function (xt,Dl){var R=null;var Kt=xt.de();var Lt=Dl.El;var cs=(Dl.Mt-Lt.Nt(xt.ek[0]))/Lt.Nt(Kt);if(cs>=0 &&cs<=xt.length()){var Ot=new g().q(Kt).ab(cs).Md(xt.ek[0]);R=new bs(Ot,cs,Dl);}return R;};es.prototype.js=function (Pt,Qt){var R=Pt.Rt(Qt);return R;};es.prototype.ls=function (St,Tt){var R=false;var Ut=this.Cn.q(St.vj).P(Tt.vj);if(Ut.qn<St.zd.qn+Tt.Vt);{Ut.M();var de=Ut.cn();var Wt=de.ab(Tt.Gj).Md(Tt.vj);Wt.qn=St.vj.qn;var Xt=St.Yt(Wt);R=Xt;}return R;};es.prototype.Zt=function (St,Et){var R=false;var ek=ts.au(St).ek();for(var H=0;H<ek.length;H++){var fk=ek[bu];if(Et.Yt(fk)==true){R=true;break;}}return R;};es.prototype.ns=function (St,cu){var du=new is(cu.vj,new g(1,1,1).ab(cu.Gj));return this.js(St,du);};es.prototype.os=function (eu,fu){var R=false;var Cn=this.Cn.q(fu.vj).P(eu.vj).M();var gu=Cn.hu();var iu=ju.Gj+ku.Gj;var lu=(gu<iu);if(lu==true){var mu=((eu.nu>fu.nu&&eu.nu<fu.ou)||(eu.ou>fu.nu&&eu.ou<fu.ou)||(fu.nu>eu.nu&&fu.nu<eu.ou)||(fu.ou>eu.nu&&fu.ou<eu.ou));if(mu==true){R=true;}}return R;};es.prototype.qs=function (xt,yl){return (this.wt(xt,yl)!=null);};es.prototype.ss=function (xt,Et){var ek=xt.ek;var R=(Et.Yt(ek[0])||Et.Yt(ek[1]));return R;};es.prototype.us=function (xt,il){var R=false;var Kt=xt.de();var It=il.pl();for(var xl=0;xl<It.length;xl++){var yl=It[xl];var yt=yl.Dl();var Cl=yt.El;var pu=Cl.Nt(Kt);if(pu<0){R=this.qs(xt,yl);if(R==true){break;}}}return R;};es.prototype.vs=function (xt,Dl){return (this.zt()!=null);};es.prototype.xs=function (Et,cu){var Dl=Et.Dl;var qu=cu.vj.Nt(Dl.El);var ru=qu-Dl.Mt;var R=(ru<cu.Gj);return R;};es.prototype.Bs=function (su,tu){var R=true;var uu=[su.ek(),tu.ek()];var It=[su.pl(),tu.pl()];for(var sl=0;sl<2;sl++){var vu=It[sl];var wu=uu[sl];var xu=xu[sl];for(var xl=0;xl<vu.length;xl++){var yl=vu[xl];var Cl=yl.Dl().El;var yu=wu[0];var zu=yu.Nt(Cl);var Au=zu;for(var bu=1;bu<wu.length;bu++){yu=wu[bu];var Bu=yu.Nt(Cl);if(Bu<zu){zu=Bu;}if(Bu>Au){Au=Bu;}}var Cu=xu[0];var Du=Cu.Nt(Cl);var Eu=Du;for(var bu=1;bu<xu.length;bu++){Cu=xu[bu];var Fu=Cu.Nt(Cl);if(Fu<Du){Du=Fu;}if(Fu>Eu){Eu=Fu;}}var Gu=(Au>Du&&Eu>zu);if(Gu==false){R=false;break;}}}return R;};es.prototype.zs=function (Hu,Iu){var R=false;var Ju=this.js(Hu.St,Iu.St);if(Ju==false){return false;}var Ku=Hu.map;var Lu=Iu.map;var Mu=Ku.Cp.L();var Nu=Lu.Cp.L();var Ou=new g();var Pu=new g();var Qu=new g();var Ru=new g();var Su=new g();var Tu=Ku.Fp;var Uu=Lu.Fp;var Vu=Lu.Wu;var Xu=Ku.Ip;var Yu=Lu.Ip;var Zu=Hu.bg.qd;var av=Iu.bg.qd;for(var bv=0;bv<Tu.t;bv++){Pu.t=bv;Ou.t=Zu.t+(bv*Xu.t);for(var cv=0;cv<Tu.G;cv++){Pu.G=cv;Ou.G=Zu.G+(cv*Xu.G);Mu=Ku.Jp(Ku,Pu,Mu);if(Mu.dv==true){Ru.q(Ou).P(av).r(Yu).floor();Su.q(Ou).P(av).Md(Xu).r(Yu).floor();for(var ev=Ru.t;ev<=Su.t;ev++){Qu.t=ev;for(var fv=Ru.G;fv<Su.G;fv++){Qu.G=fv;var gv=Qu.je(g.eb().fb,Vu);if(gv==true){Nu=Lu.Jp(Lu,Qu,Nu);if(Nu.dv==true){R=true;ev=Su.t;cv=Tu.G;bv=Tu.t;break;}}}}}}}return R;};es.prototype.As=function (hv,cu){var R=false;var Ju=this.ns(hv.St,cu);if(Ju==false){return false;}var map=hv.map;var Bp=map.Cp.L();var iv=new g();var Dp=new g();var Ep=map.Fp;var jv=map.Ip;var Gp=map.zd;var kv=hv.bg.qd;var lv=new is(new g(),map.Ip);for(var t=0;t<Ep.t;t++){Dp.t=t;iv.t=(t*jv.t)+kv.t-Gp.t;for(var G=0;G<Ep.G;G++){Dp.G=G;iv.G=(G*jv.G)+kv.G-Gp.G;Bp=map.Jp(map,Dp,Bp);if(Bp.dv==true){lv.vj.q(iv);var mv=this.ns(lv,cu);if(mv==true){R=true;break;}}}}return R;};es.prototype.Cs=function (il,cu){var R=true;var It=il.pl();var Et=new rs();for(var xl=0;xl<It.length;xl++){var yl=It[xl];Et.Dl=yl.Dl();var xs=this.xs(Et,cu);if(xs==false){R=false;break;}}return R;};es.prototype.Ls=function (cu,St){return this.ns(St,cu);};es.prototype.Ms=function (cu,hv){return this.As(hv,cu);};es.prototype.Ns=function (cu,il){return this.Cs(il,cu);};es.prototype.Os=function (cu,nv){return this.Es(nv,cu);};es.prototype.Ps=function (cu,ov){return this.Is(ov,cu);};es.prototype.Qs=function (cu,pv){return this.Js(pv,cu);};es.prototype.Rs=function (cu,qv){return this.Ks(qv,cu);};es.prototype.Ss=function (ju,ku){var Cn=this.Cn.q(ku.vj).P(ju.vj);var gu=Cn.hu();var iu=ju.Gj+ku.Gj;var R=(gu<iu);return R;};es.prototype.Is=function (rv,sv){var R=true;var tv=rv.uv;for(var H=0;H<tv.length;H++){var vv=tv[H];var wv=this.pt(vv,sv);if(wv==false){R=false;break;}}return R;};es.prototype.Js=function (xv,sv){var R=false;var tv=xv.uv;for(var H=0;H<tv.length;H++){var vv=tv[H];var wv=this.pt(vv,sv);if(wv==true){R=true;break;}}return R;};es.prototype.Es=function (yv,sv){return this.ut(yv.zv,sv);};es.prototype.Ks=function (Av,sv){return (this.pt(Av.zv,sv)==false);};es.prototype.Bv=function (zv,Cv){return this.Is(Cv,zv);};es.prototype.Dv=function (Cv,zv){return this.Is(Cv,zv);};es.prototype.Ev=function (zv,Cv){return this.Js(Cv,zv);};es.prototype.Fv=function (yv,cu){return this.Es(yv,cu);};es.prototype.Gv=function (Cv,zv){return this.Js(Cv,zv);};es.prototype.Hv=function (Av,zv){return this.Ks(Av,zv);};es.prototype.Us=function (Pt,Qt){return Pt.Iv(Qt);};es.prototype.Jv=function (St,Et){return false;};es.prototype.Vs=function (St,cu){var Kv=new is(cu.vj,new g(1,1,1).ab(cu.Gj*2));var R=St.Iv(Kv);return R;};es.prototype.Ws=function (Et,St){var R=true;var ek=ts.au(St).ek;for(var H=0;H<ek.length;H++){var fk=ek[bu];if(Et.Yt(fk)==false){R=false;break;}}return R;};es.prototype.Xs=function (Et,cu){var Dl=Et.Dl;var ru=cu.vj.Nt(Dl.El)-Dl.Mt;var R=(ru>=cu.Gj);return R;};es.prototype.Ys=function (cu,St){var Lv=new ms(St.vj,St.hr().hu());var R=cu.Iv(Lv);return R;};es.prototype.Mv=function (cu,Et){return false;};es.prototype.Zs=function (ju,ku){return ju.Iv(ku);};}function Nv(jh,target){this.jh=jh;this.target=target;}{Nv.prototype.Ov=function (j,Eb,Pv,Co){var Qv=this.yh(Eb);Qv.Ov(j,Eb,Pv,Co,this);};Nv.prototype.yh=function (Eb){return Eb.Rv.Sv[this.jh];};}function Tv(name,Ov){this.name=name;this.Ov=Ov;}{Tv.eb=function (){if(Tv._eb==null){Tv._eb=new Tv_eb();}return Tv._eb;};function Tv_eb(){this._Uv=new Tv("None",function Ov(j,Eb,Pv,Co,Vv){});this.Wv=new Tv("Attach",function Ov(j,Eb,Pv,Co,Vv){var Xv=Vv.target;var target=ud.Yv[Xv];Co.bg.qd.q(target.bg.qd);});this.Zv=new Tv("ContainInBounds",function Ov(j,Eb,Pv,Co,Vv){var Xv=Vv.target;var target=ud.Yv[Xv];var aw=target.nt().St(Eb);aw.bw(Co.bg.qd);});this.cw=new Tv("Friction",function Ov(j,Eb,Pv,Co,Vv){var dw=Vv.target;var ew=Co.ag.bg;var fw=ew.gw;var hw=fw.hu();var iw=hw*dw;fw.Md(fw.L().ab(-iw));});this.jw=new Tv("FrictionDry",function Ov(j,Eb,Pv,Co,Vv){var dw=Vv.target;var iw=dw;var ew=Co.ag.bg;var fw=ew.gw;var kw=fw.hu();if(kw<=iw){fw.clear();}else {var lw=fw.L().cn();fw.Md(lw.ab(-iw));}});this.mw=new Tv("Offset",function Ov(j,Eb,Pv,Co,Vv){var nw=Vv.target;Co.bg.qd.Md(nw);});this.ow=new Tv("OrientToward",function Ov(j,Eb,Pv,Co,Vv){var Xv=Vv.target;var pw=Co.bg;var qw=pw.qd;var rw=pw.Rk;var sw=rw.nn;var target=ud.Yv[Xv];var tw=target.bg.qd;sw.q(tw).P(qw).cn();rw.uw(sw);});this.vw=new Tv("SpeedMax",function Ov(j,Eb,Pv,Co,Vv){var ww=Vv.target;var ew=Co.ag.bg;var fw=ew.gw;var hw=fw.hu();if(hw>ww){fw.cn().ab(ww);}});this.xw=new Tv("StopBelowSpeedMin",function Ov(j,Eb,Pv,Co,Vv){var yw=Vv.target;var ew=Co.ag.bg;var fw=ew.gw;var hw=fw.hu();if(hw<yw){fw.clear();}});this.zw=new Tv("TrimToRange",function Ov(j,Eb,Pv,Co,Vv){var Aw=Vv.target;var ew=Co.ag.bg;ew.qd.Qo(Aw);});this.Bw=new Tv("WrapToRange",function Ov(j,Eb,Pv,Co,Vv){var Cw=Vv.target;var ew=Co.ag.bg;ew.qd.Dw(Cw);});this.Ew=new Tv("WrapXTrimY",function Ov(j,Eb,Pv,Co,Vv){var ew=Co.ag.bg;var Fw=ew.qd;var hr=Vv.target;while(Fw.G<0){Fw.G+=hr.G;}while(Fw.G>=hr.G){Fw.G-=hr.G;}if(Fw.t<0){Fw.t=0;}else if(Fw.t>hr.t){Fw.t=hr.t;}});}}function g(G,t,qn){this.G=G;this.t=t;this.qn=qn;if(this.qn==null){this.qn=0;}}{g.em=3;g.eb=function (){if(g._eb==null){g._eb=new g_eb();}return g._eb;};function g_eb(){this.Gw=new g(-1,0,0);this.Hw=new g(1,1,1);this.Iw=new g(1,1,0);this.Jw=new g(1,0,0);this.Kw=new g(2,2,0);this.Lw=new g(0,0,1);this.Mw=new g(0,-1,0);this.Nw=new g(0,1,0);this.fb=new g(0,0,0);}g.prototype.Ow=function (){this.G=Math.qr(this.G);this.t=Math.qr(this.t);this.qn=Math.qr(this.qn);return this;};g.prototype.Md=function (jn){this.G+=jn.G;this.t+=jn.t;this.qn+=jn.qn;return this;};g.prototype.qk=function (G,t,qn){this.G+=G;this.t+=t;this.qn+=qn;return this;};g.prototype.Pw=function (){this.G=Math.ceil(this.G);this.t=Math.ceil(this.t);this.qn=Math.ceil(this.qn);return this;};g.prototype.clear=function (){this.G=0;this.t=0;this.qn=0;return this;};g.prototype.M=function (){this.qn=0;return this;};g.prototype.L=function (){return new g(this.G,this.t,this.qn);};g.prototype.Qw=function (jn){return this.Tf(this.t*jn.qn-this.qn*jn.t,this.qn*jn.G-this.G*jn.qn,this.G*jn.t-this.t*jn.G);};g.prototype.Rw=function (Sw,Se){var R;if(Sw==0){if(Se!=null){this.G=Se;}R=this.G;}else if(Sw==1){if(Se!=null){this.t=Se;}R=this.t;}else if(Sw==2){if(Se!=null){this.qn=Se;}R=this.qn;}return R;};g.prototype.Nl=function (){return [this.G,this.t,this.qn];};g.prototype.Tw=function (){if(this.G<0){this.G=-1;}else if(this.G>0){this.G=1;}if(this.t<0){this.t=-1;}else if(this.t>0){this.t=1;}if(this.qn<0){this.qn=-1;}else if(this.qn>0){this.qn=1;}return this;};g.prototype.r=function (jn){this.G/=jn.G;this.t/=jn.t;this.qn/=jn.qn;return this;};g.prototype.gn=function (hn){this.G/=hn;this.t/=hn;this.qn/=hn;return this;};g.prototype.Nt=function (jn){return this.G*jn.G+this.t*jn.t+this.qn*jn.qn;};g.prototype.Uw=function (){return this.ab(2);};g.prototype.Vw=function (jn){return (this.G==jn.G&&this.t==jn.t&&this.qn==jn.qn);};g.prototype.floor=function (){this.G=Math.floor(this.G);this.t=Math.floor(this.t);this.qn=Math.floor(this.qn);return this;};g.prototype.Q=function (){return this.gn(2);};g.prototype.Ww=function (){this.G=0 -this.G;this.t=0 -this.t;this.qn=0 -this.qn;return this;};g.prototype.Xw=function (hr){return this.je(g.eb().fb,hr);};g.prototype.je=function (gr,hr){var R=(this.G>=gr.G&&this.G<=hr.G&&this.t>=gr.t&&this.t<=hr.t&&this.qn>=gr.qn&&this.qn<=hr.qn);return R;};g.prototype.hu=function (){return Math.sqrt(this.G*this.G+this.t*this.t+this.qn*this.qn);};g.prototype.w=function (jn){this.G*=jn.G;this.t*=jn.t;this.qn*=jn.qn;return this;};g.prototype.Yw=function (G,t,qn){this.G*=G;this.t*=t;this.qn*=qn;return this;};g.prototype.ab=function (hn){this.G*=hn;this.t*=hn;this.qn*=hn;return this;};g.prototype.cn=function (){var hu=this.hu();if(hu>0){this.gn(hu);}return this;};g.prototype.q=function (jn){this.G=jn.G;this.t=jn.t;this.qn=jn.qn;return this;};g.prototype.Tf=function (G,t,qn){this.G=G;this.t=t;this.qn=qn;return this;};g.prototype.Zw=function (){return this.G*this.t*this.qn;};g.prototype.ax=function (){this.G=Math.random();this.t=Math.random();this.qn=Math.random();return this;};g.prototype.on=function (){var re=this.t;this.t=this.G;this.G=0 -re;return this;};g.prototype.round=function (){this.G=Math.round(this.G);this.t=Math.round(this.t);this.qn=Math.round(this.qn);return this;};g.prototype.P=function (jn){this.G-=jn.G;this.t-=jn.t;this.qn-=jn.qn;return this;};g.prototype.mr=function (jn,hr){this.G=this.G.mr(jn.G,hr);this.t=this.t.mr(jn.t,hr);this.qn=this.qn.mr(jn.qn,hr);return this;};g.prototype.bx=function (){return this.G+this.t+this.qn;};g.prototype.cx=function (dx){var hu=this.hu();if(hu>dx){this.gn(hu).ab(dx);}return this;};g.prototype.Qo=function (hr){if(this.G<0){this.G=0;}else if(this.G>hr.G){this.G=hr.G;}if(this.t<0){this.t=0;}else if(this.t>hr.t){this.t=hr.t;}if(this.qn<0){this.qn=0;}else if(this.qn>hr.qn){this.qn=hr.qn;}return this;};g.prototype.af=function (gr,hr){if(this.G<gr.G){this.G=gr.G;}else if(this.G>=hr.G){this.G=hr.G;}if(this.t<gr.t){this.t=gr.t;}else if(this.t>=hr.t){this.t=hr.t;}if(this.qn<gr.qn){this.qn=gr.qn;}else if(this.qn>=hr.qn){this.qn=hr.qn;}return this;};g.prototype.Dw=function (hr){while(this.G<0){this.G+=hr.G;}while(this.G>=hr.G){this.G-=hr.G;}while(this.t<0){this.t+=hr.t;}while(this.t>=hr.t){this.t-=hr.t;}if(hr.qn>0){while(this.qn<0){this.qn+=hr.qn;}while(this.qn>=hr.qn){this.qn-=hr.qn;}}return this;};g.prototype.toString=function (){return this.G+"x"+this.t+"x"+this.qn;};g.prototype.ex=function (){return this.G+"x"+this.t;};}function yd(qd,Rk,fx){this.qd=qd;if(Rk==null){Rk=gx.eb().hx.L();}this.Rk=Rk;this.fx=fx;this.gw=new g(0,0,0);this.ix=new g(0,0,0);this.jx=new g(0,0,0);this.kx=new lx(this.Rk.pn,new mx(0));this.nx=0;}{yd.prototype.L=function (){var R=new yd(this.qd.L(),this.Rk.L(),this.fx);R.gw=this.gw.L();R.ix=this.ix.L();R.jx=this.jx.L();R.nx=this.nx;return R;};yd.prototype.q=function (jn){this.fx=jn.fx;this.qd.q(jn.qd);this.Rk.q(jn.Rk);this.gw.q(jn.gw);this.ix.q(jn.ix);this.jx.q(jn.jx);return this;};yd.prototype.toString=function (){return this.qd.L().round().toString();};}function gx(nn,pn){this.nn=nn.L().cn();this.on=pn.L().Qw(this.nn).cn();this.pn=this.nn.L().Qw(this.on).cn();this.ox=[this.nn,this.on,this.pn];this.px=[this.on,this.pn,this.nn];}{gx.eb=function (){if(gx._eb==null){gx._eb=new gx_eb();}return gx._eb;};function gx_eb(){this.hx=new gx(new g(1,0,0),new g(0,0,1));this.qx=new gx(new g(0,0,1),new g(0,1,0));}gx.prototype.L=function (){return new gx(this.nn.L(),this.pn.L());};gx.prototype.uw=function (Cb){this.nn.q(Cb);return this.rx();};gx.prototype.sx=function (nn,pn){this.nn.q(nn);this.pn.q(pn);return this.rx();};gx.prototype.rx=function (Cb){this.nn.cn();this.on.q(this.pn).Qw(this.nn).cn();this.pn.q(this.nn).Qw(this.on).cn();return this;};gx.prototype.q=function (jn){this.nn.q(jn.nn);this.on.q(jn.on);this.pn.q(jn.pn);return this;};gx.prototype.tx=function (ux){ux.Tf(ux.Nt(this.nn),ux.Nt(this.on),ux.Nt(this.pn));return ux;};gx.prototype.vx=function (ux){var R=new g(0,0,0);var wx=new g();for(var H=0;H<this.ox.length;H++){var xx=this.ox[H];wx.q(xx).ab(ux.Rw(H));R.Md(wx);}return ux.q(R);};gx.prototype.Zr=function (ux){ux.Tf(ux.Nt(this.on),ux.Nt(this.pn),ux.Nt(this.nn));return ux;};gx.prototype.Yr=function (ux){var R=new g(0,0,0);var wx=new g();for(var H=0;H<this.px.length;H++){var xx=this.px[H];wx.q(xx).ab(ux.Rw(H));R.Md(wx);}return ux.q(R);};gx.prototype.ip=function (){var R;var nn=this.nn;if(nn.G==0 &&nn.t==0){R=null;}else {R=Math.atan2(nn.t,nn.G)/(Math.PI*2);if(R<0){R+=1;}R=R.Hf(0,1);}return R;};}function Cj(Yp,Gj,yx){this.Yp=Yp;this.Gj=Gj;this.yx=(yx==null?0 :yx);}{Cj.sj=Math.PI*2;Cj.prototype.zx=function (Ax){this.Yp+=Ax;return this;};Cj.prototype.Bx=function (jq){this.Yp=Math.atan2(jq.t,jq.G)/Cj.sj;if(this.Yp<0){this.Yp+=1;}this.Gj=jq.hu();this.yx=Math.asin(jq.qn/this.Gj)/Cj.sj;return this;};Cj.prototype.q=function (jn){this.Yp=jn.Yp;this.Gj=jn.Gj;this.yx=jn.yx;return this;};Cj.prototype.Cx=function (Yp,Gj,yx){this.Yp=Yp;this.Gj=Gj;if(yx!=null){this.yx=yx;}return this;};Cj.prototype.random=function (){this.Yp=Math.random();this.yx=Math.random();return this;};Cj.prototype.Dj=function (ux){var Dx=this.Yp*Cj.sj;var Ex=this.yx*Cj.sj;var Fx=Math.cos(Ex);ux.Tf(Math.cos(Dx)*Fx,Math.sin(Dx)*Fx,Math.sin(Ex)).ab(this.Gj);return ux;};Cj.prototype.Gx=function (){while(this.Yp<0){this.Yp++;}while(this.Yp>=1){this.Yp--;}return this;};}function Hx(Ix,G,t,qn){this.Ix=Ix;this.G=G;this.t=t;this.qn=qn;}{Hx.Jx=function (Kx,Lx){var Mx=Lx*Math.PI;var Nx=Math.sin(Mx);var Ix=Math.cos(Mx);var G=Kx.G*Nx;var t=Kx.t*Nx;var qn=Kx.qn*Nx;var R=new Hx(Ix,G,t,qn).cn();return R;};Hx.prototype.Ox=function (Px){var Qx=new Hx(0,Px.G,Px.t,Px.qn);var Rx=this.L().w(Qx).w(this.L().Ww());Px.q(Rx);return Px;};Hx.prototype.L=function (){return new Hx(this.Ix,this.G,this.t,this.qn);};Hx.prototype.r=function (Sx){this.Ix/=Sx;this.G/=Sx;this.t/=Sx;this.qn/=Sx;return this;};Hx.prototype.Ww=function (){var hu=this.hu();this.r(hu*hu);this.G*=-1;this.t*=-1;this.qn*=-1;return this;};Hx.prototype.w=function (jn){return this.Tx(this.Ix*jn.Ix-this.G*jn.G-this.t*jn.t-this.qn*jn.qn,this.Ix*jn.G+this.G*jn.Ix+this.t*jn.qn-this.qn*jn.t,this.Ix*jn.t-this.G*jn.qn+this.t*jn.Ix+this.qn*jn.G,this.Ix*jn.qn+this.G*jn.t-this.t*jn.G+this.qn*jn.Ix);};Hx.prototype.hu=function (){return Math.sqrt(this.Ix*this.Ix+this.G*this.G+this.t*this.t+this.qn*this.qn);};Hx.prototype.cn=function (){return this.r(this.hu());};Hx.prototype.q=function (jn){this.Tx(jn.Ix,jn.G,jn.t,jn.qn);return this;};Hx.prototype.Tx=function (Ix,G,t,qn){this.Ix=Ix;this.G=G;this.t=t;this.qn=qn;return this;};}function lx(xx,Ux){this.xx=xx;this.Ux=Ux;}{lx.prototype.Vx=function (){return this.Ux.Cb;};lx.prototype.Wx=function (Xx){var Xp=new Cj().Bx(Xx);Xp.Yp=(Xp.Yp+this.Vx()).Hf(0,1);return Xp.Dj(Xx);};lx.prototype.Yx=function (Rk){Rk.uw(this.Wx(Rk.nn));};}function Zx(So,To){this.So=So;this.To=To;this._nt=new Fs([this.So,this.To]);}{Zx.prototype.nt=function (){return this._nt;};}function is(vj,k){this.vj=vj;this.k=k;this.zd=this.k.L().Q();this._gr=new g();this._hr=new g();}{is.prototype.Iv=function (jn){return (this.Yt(jn.gr())&&this.Yt(jn.hr()));};is.prototype.Yt=function (ay){return ay.je(this.gr(),this.hr());};is.prototype.hr=function (){return this._hr.q(this.vj).Md(this.zd);};is.prototype.gr=function (){return this._gr.q(this.vj).P(this.zd);};is.prototype.by=function (Vp){var cy=Vp[0];var dy=this._gr.q(cy);var ey=this._hr.q(cy);for(var H=1;H<Vp.length;H++){var fy=Vp[H];if(fy.G<dy.G){dy.G=fy.G;}else if(fy.G>ey.G){ey.G=fy.G;}if(fy.t<dy.t){dy.t=fy.t;}else if(fy.t>ey.t){ey.t=fy.t;}if(fy.qn<dy.qn){dy.qn=fy.qn;}else if(fy.qn>ey.qn){ey.qn=fy.qn;}}this.vj.q(dy).Md(ey).Q();this.k.q(ey).P(dy);this.zd.q(this.k).Q();return this;};is.prototype.Rt=function (jn){var R=false;var gy=[[this.gr().Nl(),this.hr().Nl()],[jn.gr().Nl(),jn.hr().Nl()]];for(var er=0;er<gy.length;er++){var hy=gy[er];var iy=gy[1 -er];var jy=hy[0];var ky=hy[1];var ly=iy[0];var my=iy[1];var ny=true;for(var oy=0;oy<jy.length;oy++){if(ky[oy]<=ly[oy]||jy[oy]>=my[oy]){ny=false;break;}}if(ny==true){R=true;break;}}return R;};is.prototype.bw=function (py){return py.af(this.gr(),this.hr());};is.prototype.toString=function (){return this.gr().toString()+":"+this.hr().toString();};}function ks(vj,Gj,length){this.vj=vj;this.Gj=Gj;this.length=length;this.Vt=this.length/2;}function ws(ek){this.ek=ek;this._de=new g();this._Cn=new g();this._qy=new g();}{ws.prototype.St=function (){if(this._St==null){this._St=new is(new g(),new g());}this._St.by(this.ek);return this._St;};ws.prototype.de=function (){return this._de.q(this.Cn()).cn();};ws.prototype.Cn=function (){return this._Cn.q(this.ek[1]).P(this.ek[0]);};ws.prototype.length=function (){return this.Cn().hu();};ws.prototype.qy=function (Cl){return this._qy.q(this.de()).Qw(Cl);};ws.prototype.toString=function (){return this.ek.toString();};}function ps(ek){this.ek=ek;}{ps.prototype.St=function (){if(this._St==null){this._St=new is(new g(0,0,0),new g(0,0,0));}this._St.by(this.ek);return this._St;};ps.prototype.Yt=function (ay){var R=true;var ry=this.ry();var El=this.Dl.El;for(var sy=0;sy<ry.length;sy++){var xt=ry[sy];var ty=xt.qy(El).Nt(ay);var uy=(ty>0);if(uy==false){R=false;break;}}return R;};ps.prototype.ry=function (){if(this._ry==null){this._ry=[];for(var bu=0;bu<this.ek.length;bu++){var vy=(bu+1).Hf(0,this.ek.length);var fk=this.ek[bu];var wy=this.ek[vy];var xt=new ws([fk,wy]);this._ry.push(xt);}}return this._ry;};ps.prototype.Dl=function (){if(this._Dl==null){this._Dl=new Hr(new g(),0);}this._Dl.Tr(this.ek[0],this.ek[1],this.ek[2]);return this._Dl;};}function rs(Dl){this.Dl=Dl;}{rs.prototype.Yt=function (ay){var xy=ay.Nt(this.Dl.El)-this.Dl.Mt;var R=(xy>0);return R;};}function yy(Fp,Ip,Cp,Jp,zy){this.Fp=Fp;this.Ip=Ip;this.Cp=Cp;this.Jp=Jp;this.zy=zy;this.Wu=this.Fp.L().P(g.eb().Hw);this.k=this.Fp.L().w(this.Ip);this.zd=this.k.L().Q();this.Ay=this.Ip.L().Q();this.By=new g();}{yy.prototype.Cy=function (Dy,Ey){this.By.q(Dy).r(this.Ip).floor();return this.Jp(this.By);};yy.prototype.Fy=function (){return this.Fp.G*this.Fp.t;};}function Gy(){}{Gy.prototype.L=function (){return new Gy();};}function ys(map,bg){this.map=map;this.bg=bg;this.St=new is(this.bg.qd,this.map.k);}function ts(vj,Hy,Mn){this.vj=vj;this.Hy=Hy;this.Mn=Mn;}{ts.Iy=function (vj,k){var St=new is(vj,k);var R=ts.au(St);return R;};ts.Jy=function (vj){if(vj==null){vj=new g(0,0,0);}var k=new g(2,2,2);var R=ts.Iy(vj,k);return R;};ts.au=function (St){var zd=St.zd;var gr=new g(-zd.G,-zd.t,-zd.qn);var hr=new g(zd.G,zd.t,zd.qn);var Hy=[new g(gr.G,gr.t,gr.qn),new g(hr.G,gr.t,gr.qn),new g(hr.G,hr.t,gr.qn),new g(gr.G,hr.t,gr.qn),new g(gr.G,gr.t,hr.qn),new g(hr.G,gr.t,hr.qn),new g(hr.G,hr.t,hr.qn),new g(gr.G,hr.t,hr.qn),];var Mn=[new ts_Ky([0,1,5,4]),new ts_Ky([1,2,6,5]),new ts_Ky([2,3,7,6]),new ts_Ky([3,0,4,7]),new ts_Ky([0,3,2,1]),new ts_Ky([4,5,6,7]),];var R=new ts(St.vj,Hy,Mn);return R;};ts.Ly=function (vj,My,Ny){var Hl=My.ek;var Oy=Hl.length;var Py=Ny/2;var uu=[];var Mn=[];for(var qn=0;qn<2;qn++){var Qy=new g(0,0,(qn==0 ?-1 :1)).ab(Py);var Ry=[];for(var bu=0;bu<Oy;bu++){var Ml=uu.length;if(qn==0){var Sy=(Ml+1
).Hf(0,Oy);var Ty=new ts_Ky([Ml,Sy,Sy+Oy,Ml+Oy]);Mn.push(Ty);Ry.push(Ml);}else {Ry.Vq(Ml,0);}var fk=Hl[bu].L().Md(Qy);uu.push(fk);}var Uy=new ts_Ky(Ry);Mn.push(Uy);}var R=new ts(vj,uu,Mn);return R;};ts.prototype.St=function (){if(this._St==null){this._St=new is(new g(),new g());}this._St.by(this.ek());return this._St;};ts.prototype.pl=function (){var ek=this.ek();if(this._pl==null){this._pl=[];for(var xl=0;xl<this.Mn.length;xl++){var Vy=this.Mn[xl];var yl=Vy.Wy(ek);this._pl.push(yl);}}return this._pl;};ts.prototype.ek=function (){if(this._ek==null){this._ek=[];for(var bu=0;bu<this.Hy.length;bu++){this._ek.push(new g());}}for(var bu=0;bu<this._ek.length;bu++){var fk=this._ek[bu];var Xy=this.Hy[bu];fk.q(this.vj).Md(Xy);}return this._ek;};ts.prototype.Pn=function (Qn){for(var bu=0;bu<this.Hy.length;bu++){var Xy=this.Hy[bu];Qn.Wx(Xy);}this.ek();return this;};ts.prototype.L=function (){return new ts(this.vj.L(),this.Hy.L(),this.Mn.L());};ts.prototype.q=function (jn){this.vj.q(jn.vj);this.Hy.q(jn.Hy);this.Mn.q(jn.Mn);};}function ts_Ky(yo){this.yo=yo;}{ts_Ky.prototype.Wy=function (uu){var Hl=[];for(var Ll=0;Ll<this.yo.length;Ll++){var Ml=this.yo[Ll];var Yy=uu[Ml];Hl.push(Yy);}var R=new ps(Hl);return R;};ts_Ky.prototype.Zy=function (Pp){for(var H=0;H<this.yo.length;H++){var Ml=this.yo[H];Ml+=Pp;this.yo[H]=Ml;}};ts_Ky.prototype.L=function (){return new ts_Ky(this.yo.slice());};ts_Ky.prototype.q=function (jn){this.yo.q(jn.yo);};}function az(Vp){this.Vp=Vp;}{az.prototype.L=function (){return new az(this.Vp.L());};az.prototype.q=function (jn){this.Vp.q(jn.Vp);return this;};az.prototype.Pn=function (Qn){Sn.Tn(Qn,this.Vp);return this;};}function bz(){}{bz.prototype.cz=function (dz,ez){var fz=dz*2;var gz=1 /fz;var Xp=new Cj(0,1);var ek=[];for(var H=0;H<fz;H++){Xp.Gj=(H%2 ==0 ?1 :ez);var fk=Xp.Dj(new g());ek.push(fk);Xp.Yp+=gz;}var R=new az(ek);return R;};}function Hr(El,Mt){this.El=El;this.Mt=Mt;this.hz=new g();}{Hr.prototype.iz=function (fy){return fy.Nt(this.El)-this.Mt;};Hr.prototype.Vw=function (jn){return (this.El.Vw(jn.El)&&this.Mt==jn.Mt);};Hr.prototype.Tr=function (cy,jz,kz){this.El.q(jz).P(cy).Qw(this.hz.q(kz).P(cy)).cn();this.Mt=cy.Nt(this.El);return this;};}function lz(fk,de){this.fk=fk;this.de=de;}function Ds(zv){this.zv=zv;}function Fs(uv){this.uv=uv;}function Gs(uv){this.uv=uv;}function Hs(zv){this.zv=zv;}function mz(Zo,wj){this.Zo=Zo;this.wj=wj;this.Yo=new ms(this.Zo.vj,this.wj);this._nt=new Fs([this.Zo,new Hs(new Ds(this.Yo))]);}{mz.prototype.nt=function (){return this._nt;};}function ms(vj,Gj){this.vj=vj;this.Gj=Gj;this._Cn=new g();}{ms.prototype.Iv=function (jn){var nz=this._Cn.q(jn.vj).P(this.vj);var oz=nz.hu();var R=(oz+jn.Gj<=this.Gj);return R;};ms.prototype.pz=function (){return new Cj(0,this.Gj).random().Dj(new g()).Md(this.vj);};}function qz(fk,rz,sz){this.fk=fk;this.rz=rz;this.sz=sz;this.tz=new Cj(0,1);}{qz.prototype.Xo=function (){var R=(this.Vo()+this.sz).Hf(0,1
);return R;};qz.prototype.Vo=function (){return this.tz.Bx(this.rz).Yp;};qz.prototype.nt=function (){if(this._nt==null){this.tz=new Cj(0,1);this.uz=new Cj(0,1);this.vz=new g();this.wz=new g();this.xz=new g();this.yz=new g();this.zz=new g();this.Az=new Hr(new g());this.Bz=new Hr(new g());this.Cz=[new rs(this.Az),new rs(this.Bz)];this.ov=new Fs(this.Cz);this.pv=new Gs(this.Cz);}var Vo=this.Vo();var Xo=this.Xo();this.tz.Yp=Vo;this.tz.Dj(this.vz);this.uz.Yp=Xo;this.uz.Dj(this.wz);var pn=g.eb().Lw;this.xz.q(this.fk).Md(pn);this.yz.q(this.fk).Md(this.vz);this.zz.q(this.fk).Md(this.wz);this.Az.Tr(this.fk,this.yz,this.xz);this.Bz.Tr(this.fk,this.xz,this.zz);if(this.sz<.5){this._nt=this.ov;}else {this._nt=this.pv;}return this._nt;};}function Dz(name,length,Rk,zb,Ez){this.name=name;this.length=length;this.Rk=Rk;this.zb=zb;this.Ez=(Ez==null?true:Ez);for(var H=0;H<this.zb.length;H++){var Td=this.zb[H];Td.Fz=this.name;}}{Dz.prototype.qd=function (Gz){var R=new g(0,0,0);var Hz=Gz[this.Fz];while(Hz!=null){R.Md(Hz.Rk.nn.L().ab(Hz.length));Hz=Gz[Hz.Fz];}return R;};Dz.prototype.L=function (){var Iz=this.Rk.L();var R=new Dz(this.name,this.length,Iz,this.zb.L(),this.Ez);return R;};Dz.prototype.q=function (jn){this.Rk.q(jn.Rk);this.zb.q(jn.zb);};Dz.prototype.Pn=function (Qn){var ox=this.Rk.ox;for(var H=0;H<ox.length;H++){var xx=ox[H];Qn.Wx(xx);}};}function Jz(Kz,Lz){this.Kz=Kz;this.Lz=Lz;}{Jz.Mz=function (Nz,Fn){var Oz=[];for(var H=0;H<Fn.length;H++){var Pz=Fn[H];var Kz=Pz.name;var Hz=Nz[Kz];if(Hz!=null){var Qz=new Jz(Kz,Pz.yo.slice());Oz.push(Qz);}}return Oz;}}function Rz(name,Sz){this.name=name;this.Sz=Sz;this.Gz=[];this.Gz=Tz.Uz(this.Sz,[]);this.Gz.d("name");}{Rz.prototype.Vw=function (jn){var R=true;for(var H=0;H<this.Gz.length;H++){var Vz=this.Gz[H];var Wz=jn.Gz[H];if(Vz.Rk.Vw(Wz.Rk)==false){R=false;break;}}return R;};Rz.prototype.L=function (jn){return new Rz(this.name,this.Sz.L());};Rz.prototype.q=function (jn){for(var H=0;H<this.Gz.length;H++){this.Gz[H].q(jn.Gz[H]);}};Rz.prototype.Pn=function (Qn){for(var H=0;H<this.Gz.length;H++){var Hz=this.Gz[H];Hz.Pn(Qn);}};}function Xz(){}{Xz.Yz=function (Zz){var aA=Zz/2;var bA=Zz/2.4;var cA=Zz/3;var dA=Zz/4;var eA=Zz/6;var fA=Zz/8;var gA=Zz/9;var hA=Zz/12;var iA=Zz/18;var jA=new Dz("Hip.R",hA,new gx(new g(-1,0,0),new g(0,0,1)),[new Dz("Thigh.R",dA,new gx(new g(0,0,1),new g(-1,0,0)),[new Dz("Shin.R",dA,new gx(new g(0,0,1),new g(1,0,0)),[new Dz("Foot.R",fA,new gx(new g(0,1,0),new g(1,0,0)),[])]),])]);var kA=new Dz("Hip.L",hA,new gx(new g(1,0,0),new g(0,0,1)),[new Dz("Thigh.L",dA,new gx(new g(0,0,1),new g(-1,0,0)),[new Dz("Shin.L",dA,new gx(new g(0,0,1),new g(1,0,0)),[new Dz("Foot.L",fA,new gx(new g(0,1,0),new g(1,0,0)),[])]),])]);var lA=new Dz("Spine.1",bA,new gx(new g(0,0,-1),new g(0,-1,0)),[new Dz("Neck",hA,new gx(new g(0,0,-1),new g(0,1,0)),[new Dz("Head.Back",iA,new gx(new g(0,0,-1),new g(0,1,0)),[new Dz("Head.Front",gA,new gx(new g(0,1,0),new g(0,0,1)),[]),])]),new Dz("Shoulder.L",eA,new gx(new g(1,0,0),new g(0,0,1)),[new Dz("Bicep.L",eA,new gx(new g(0,-.1,1),new g(-1,0,0)),[new Dz("Forearm.L",eA,new gx(new g(0,.1,1),new g(-1,0,0)),[])])]),new Dz("Shoulder.R",eA,new gx(new g(-1,0,0),new g(0,0,1)),[new Dz("Bicep.R",eA,new gx(new g(0,-.1,1),new g(-1,0,0)),[new Dz("Forearm.R",eA,new gx(new g(0,.1,1),new g(-1,0,0)),[])])])]);var mA=new Rz("Skeleton0",new Dz("Root",aA,new gx(new g(0,0,-1),new g(0,1,0)),[jA,kA,lA,],false));/*mA.Pn(new Sn_nA([0,1]));mA.Pn(new Sn_oA(new g(-1,-1,1)));*/mA.Pn(new Sn_pA(new gx(new g(0,1,0),new g(0,0,1))));return mA;};Xz.qA=function (){var R=new rA("Biped",[Xz.sA(),Xz.tA(),Xz.uA(),]);return R;};Xz.sA=function (){var R=new vA("DoSomething",[new wA(0,[new Sn_xA("Forearm.L",[.25 ]),new Sn_xA("Bicep.L",[.25,0,-.25 ]),new Sn_xA("Forearm.R",[.25 ]),new Sn_xA("Bicep.R",[.25,0,.25 ]),]),new wA(1,[new Sn_xA("Forearm.L",[.25 ]),new Sn_xA("Bicep.L",[.25,0,.25 ]),new Sn_xA("Forearm.R",[.25 ]),new Sn_xA("Bicep.R",[.25,0,-.25 ]),]),]);return R;};Xz.tA=function (){var R=new vA("Jump",[new wA(0,[new Sn_xA("Thigh.L",[.25 ]),new Sn_xA("Shin.L",[.25 ]),new Sn_xA("Thigh.R",[.25 ]),new Sn_xA("Shin.R",[.25 ]),]),new wA(1,[new Sn_xA("Thigh.L",[.25 ]),new Sn_xA("Shin.L",[.25 ]),new Sn_xA("Thigh.R",[.25 ]),new Sn_xA("Shin.R",[.25 ]),]),]);return R;};Xz.uA=function (){var yA=new vA("Walk",[new wA(0,[new Sn_xA("Bicep.L",[-.1 ]),new Sn_xA("Forearm.L",[0 ]),new Sn_xA("Thigh.L",[.1 ]),new Sn_xA("Shin.L",[0 ]),new Sn_xA("Bicep.R",[.1 ]),new Sn_xA("Forearm.R",[.1 ]),new Sn_xA("Thigh.R",[-.05 ]),new Sn_xA("Shin.R",[0 ]),]),new wA(5,[new Sn_xA("Thigh.L",[.1 ]),new Sn_xA("Shin.L",[.1 ]),new Sn_xA("Thigh.R",[-.1 ]),new Sn_xA("Shin.R",[0 ]),]),new wA(10,[new Sn_xA("Thigh.L",[0 ]),new Sn_xA("Shin.L",[0 ]),new Sn_xA("Thigh.R",[0 ]),new Sn_xA("Shin.R",[.1 ]),]),new wA(15,[new Sn_xA("Bicep.L",[.1 ]),new Sn_xA("Forearm.L",[.1 ]),new Sn_xA("Thigh.L",[-.05 ]),new Sn_xA("Bicep.R",[-.1 ]),new Sn_xA("Forearm.R",[0 ]),new Sn_xA("Thigh.R",[.1 ]),new Sn_xA("Shin.R",[0 ]),]),new wA(20,[new Sn_xA("Thigh.L",[-.1 ]),new Sn_xA("Shin.L",[0 ]),new Sn_xA("Thigh.R",[.1 ]),new Sn_xA("Shin.R",[.1 ]),]),new wA(25,[new Sn_xA("Thigh.L",[0 ]),new Sn_xA("Shin.L",[.1 ]),new Sn_xA("Thigh.R",[0 ]),new Sn_xA("Shin.R",[0 ]),]),new wA(30,[new Sn_xA("Bicep.L",[-.1 ]),new Sn_xA("Forearm.L",[0 ]),new Sn_xA("Thigh.L",[.1 ]),new Sn_xA("Shin.L",[0 ]),new Sn_xA("Bicep.R",[.1 ]),new Sn_xA("Forearm.R",[.1 ]),new Sn_xA("Thigh.R",[-.05 ]),new Sn_xA("Shin.R",[0 ]),]),]);return yA;};Xz.zA_AA=function (BA,CA,DA){var ek=BA.ek;var Nz=CA.Gz;var EA=[];for(var bu=0;bu<ek.length;bu++){var fk=ek[bu];var FA=Number.GA_HA;var IA=null;for(var er=0;er<Nz.length;er++){var Hz=Nz[er];var Cn=fk.L().P(Hz.qd(Nz).Md(Hz.Rk.nn.L().ab(Hz.length)));var gu=Cn.hu();if(gu<FA){FA=gu;IA=er;}}var JA=Nz[IA];var KA=JA.name;var Qz=EA[KA];if(Qz==null){Qz=new Jz(KA,[]);EA[KA]=Qz;EA.push(Qz);}Qz.Lz.push(bu);}var R=new LA(BA,CA,DA,EA);return R;};}function Sn_xA(Kz,MA){this.Kz=Kz;this.MA=MA;this.Tq=this.Kz;}{Sn_xA.prototype.L=function (){return new Sn_xA(this.Kz,this.MA);};Sn_xA.prototype.NA=function (jn,OA){var PA=[];for(var H=0;H<this.MA.length;H++){var QA=(1 -OA)*this.MA[H]+OA*jn.MA[H];PA[H]=QA;}var R=new Sn_xA(this.Kz,PA);return R;};Sn_xA.prototype.Pn=function (RA){var SA=RA;var TA=SA.Gz[this.Kz];var UA=TA.Rk;var VA=[UA.pn,UA.on,UA.nn,];var WA=[];for(var H=0;H<this.MA.length;H++){var Kx=VA[H];var XA=this.MA[H];if(XA!=0){var YA=Hx.Jx(Kx,XA);WA.push(YA);}}this.Pn_Dz(WA,TA)};Sn_xA.prototype.Pn_Dz=function (WA,TA){var ZA=TA.Rk.ox;for(var H=0;H<WA.length;H++){var YA=WA[H];for(var mg=0;mg<ZA.length;mg++){var aB=ZA[mg];YA.Ox(aB);}}for(var H=0;H<TA.zb.length;H++){var bB=TA.zb[H];this.Pn_Dz(WA,bB);}};}function Sn_cB(BA,CA,DA,Oz){this.BA=BA;this.CA=CA;this.DA=DA;this.Oz=Oz;this.Oz.d("boneName");this._Rk=new gx(new g(),new g());this._fk=new g();}{Sn_cB.prototype.dB=function (eB){var fB=this.BA.Bl.Hy;var gB=eB.Bl.Hy;var hB=this.CA.Gz;var iB=this.DA.Gz;for(var H=0;H<this.Oz.length;H++){var Qz=this.Oz[H];var Kz=Qz.Kz;var jB=hB[Kz];var kB=iB[Kz];var lB=jB.Rk;var Lz=Qz.Lz;for(var Ll=0;Ll<Lz.length;Ll++){var Ml=Lz[Ll];var mB=fB[Ml];var nB=gB[Ml];var oB=jB.qd(hB);var pB=kB.qd(iB);var qB=this._fk.q(mB).P(oB);qB.Tf(qB.Nt(lB.on),qB.Nt(lB.pn),qB.Nt(lB.nn));nB.q(pB);var rB=this._Rk.q(kB.Rk);nB.Md(rB.on.ab(qB.G)).Md(rB.pn.ab(qB.t)).Md(rB.nn.ab(qB.qn));}}};}function Sn(){}{Sn.sB=function (Qn,tB){if(tB==null){return ;}for(var H=0;H<tB.length;H++){var uB=tB[H];Sn.Tn(Qn,uB);}};Sn.Tn=function (Qn,vB){for(var H=0;H<vB.length;H++){Qn.Wx(vB[H]);}};}function Sn_Dr(Lk){this.Lk=Lk;this.wB=new Sn_xB(this.Lk.bg.qd);this.yB=new Sn_zB(this.Lk.bg.Rk);this.AB=new Sn_BB(this.Lk.Er);this.CB=new Sn_Up(this.Lk.Fr);}{Sn_Dr.prototype.Wx=function (Xx){this.wB.Wx(Xx);this.yB.Wx(Xx);this.AB.Wx(Xx);this.CB.Wx(Xx);return Xx;};}function Sn_nA(DB){this.DB=DB;}{Sn_nA.prototype.Wx=function (Xx){var EB=this.DB[0];var FB=this.DB[1];var GB=Xx.Rw(EB);var HB=Xx.Rw(FB);Xx.Rw(EB,HB);Xx.Rw(FB,GB);return Xx;};}function Sn_IB(bg){this.bg=bg;this.JB=new Sn_pA();this.Tp=new Sn_Up();}{Sn_IB.prototype.Wx=function (Xx){this.JB.Rk=this.bg.Rk;this.JB.Wx(Xx);this.Tp.Cn=this.bg.qd;this.Tp.Wx(Xx);return Xx;};}function Sn_KB(LB){this.LB=LB;}{Sn_KB.prototype.Wx=function (Xx){for(var H=0;H<this.LB.length;H++){var Pn=this.LB[H];Pn.Wx(Xx);}return Xx;};}function Sn_pA(Rk){this.Rk=Rk;}{Sn_pA.prototype.Wx=function (Xx){Xx.Tf(this.Rk.nn.Nt(Xx),this.Rk.on.Nt(Xx),this.Rk.pn.Nt(Xx));return Xx;};}function Sn_zB(Rk){this.Rk=Rk;}{Sn_zB.prototype.Wx=function (Xx){Xx.Tf(this.Rk.on.Nt(Xx),this.Rk.pn.Nt(Xx),this.Rk.nn.Nt(Xx));return Xx;};}function MB(Rk){this.Rk=Rk;}{MB.prototype.Wx=function (Xx){Xx.Tf(Xx.Nt(this.Rk.on),Xx.Nt(this.Rk.pn),Xx.Nt(this.Rk.nn));};}function Sn_BB(Er){this.Er=Er;}{Sn_BB.prototype.Wx=function (Xx){var NB=Xx.qn;Xx.ab(this.Er);if(NB!=0){Xx.gn(NB);}return Xx;};}function Sn_OB(PB){this.PB=PB;this._Xp=new Cj(0,1);}{Sn_OB.prototype.Wx=function (Xx){this._Xp.Bx(Xx).zx(this.PB).Gx().Dj(Xx);return Xx;};}function Sn_QB(RB){this.RB=RB;}{Sn_QB.prototype.Wx=function (Xx){for(var H=0;H<this.RB;H++){var re=Xx.G;Xx.G=0 -Xx.t;Xx.t=re;}return Xx;};}function Sn_oA(SB){this.SB=SB;}{Sn_oA.prototype.Wx=function (Xx){return Xx.w(this.SB);};}function Sn_Up(Cn){this.Cn=Cn;}{Sn_Up.prototype.Wx=function (Xx){return Xx.Md(this.Cn);};}function Sn_xB(Cn){this.Cn=Cn;}{Sn_xB.prototype.Wx=function (Xx){return Xx.P(this.Cn);};}function TB(name){this.name=name;this.Ag=true;this.UB=0;}function VB(){this.Yd=new g();this.Zd=new g(0,0);this.vg=new g(0,0);this.WB=new g(0,0);this.XB=["ArrowLeft","ArrowRight","Tab"];}{VB.prototype.Db=function (j){this.yg=[];this.YB=[];document.body.onkeydown=this.ZB.bind(this);document.body.onkeyup=this.aC.bind(this);var Fm=j.xk.Fm;Fm.onmousedown=this.bC.bind(this);Fm.onmouseup=this.cC.bind(this);this.dC=true;if(this.dC==true){Fm.onmousemove=this.eC.bind(this);}this.fC();};VB.prototype.gC=function (Bg){if(this.yg[Bg]==null){var zg=new TB(Bg);this.yg[Bg]=zg;this.yg.push(zg);}};VB.prototype.Gg=function (hC){if(this.yg[hC]!=null){var iC=this.yg[hC];delete this.yg[hC];this.yg.Lc(iC);}};VB.prototype.jC=function (){for(var H=0;H<this.yg.length;H++){var kC=this.yg[H];this.Gg(kC);}};VB.prototype.lC=function (Cb){if(Cb==null){var zg=this.yg["MouseClick"];return (zg!=null&&zg.Ag==true);}else {if(Cb==true){this.gC("MouseClick");}else {this.Gg("MouseClick");}}};VB.prototype.wg=function (j){this.wg_mC(j);};VB.prototype.wg_mC=function (j){var nC=this.nC();for(var H=0;H<this.YB.length;H++){var oC=this.YB[H];var pC=nC[oC.Wq];oC.qC(pC);var tg="Gamepad"+H;var rC=oC.rC;for(var mg=0;mg<rC.length;mg++){var sC=tg+"Move";var tC=rC[mg];if(tC==0){if(mg==0){this.Gg(sC+"Left");this.Gg(sC+"Right");}else {this.Gg(sC+"Up");this.Gg(sC+"Down");}}else {var uC;if(mg==0){uC=(tC<0 ?"Left":"Right");}else {uC=(tC<0 ?"Up":"Down");}this.gC(sC+uC);}}var vC=tg+"Button";var wC=oC.wC;for(var er=0;er<wC.length;er++){var xC=wC[er];if(xC==true){this.gC(vC+er);}else {this.Gg(vC+er);}}}};VB.prototype.ZB=function (yC){var zg=yC.key;if(this.XB.lh(zg)==true){yC.preventDefault();}if(zg==" "){zg="_";}else if(zg=="_"){zg="__";}else if(isNaN(zg)==false){zg="_"+zg;}this.gC(zg);};VB.prototype.aC=function (yC){var iC=yC.key;if(iC==" "){iC="_";}else if(iC=="_"){iC="__";}else if(isNaN(iC)==false){iC="_"+iC;}this.Gg(iC);};VB.prototype.bC=function (yC){var zk=yC.target;var zC=zk.getBoundingClientRect();this.Yd.Tf(yC.clientX-zC.left,yC.clientY-zC.top,0
);this.gC("MouseClick");};VB.prototype.eC=function (yC){var zk=yC.target;var zC=zk.getBoundingClientRect();this.WB.Tf(yC.clientX-zC.left,yC.clientY-zC.top,0
);if(this.WB.Vw(this.Zd)==false){this.vg.q(this.Zd);this.Zd.q(this.WB);this.gC("MouseMove");}};VB.prototype.cC=function (yC){this.Gg("MouseClick");};VB.prototype.fC=function (){var nC=this.nC();for(var H=0;H<nC.length;H++){var pC=nC[H];if(pC!=null){var oC=new AC(H);this.YB.push(oC);}}};VB.prototype.nC=function (){return navigator.getGamepads();};}function rg(inputName,Dg,Eg){this.inputName=inputName;this.Dg=Dg;this.Eg=Eg;}{rg.prototype.BC=function (j){return j.Eb.Rv.CC[this.Dg];};}function DC(name,EC){this.name=name;this.EC=EC;this.FC=false;this.GC();}{DC.prototype.GC=function (){var HC=document.createElement("style");HC.innerHTML="@font-face { "+"font-family: '"+this.name+"';"+"src: url('"+this.EC+"');";+"}";document.head.appendChild(HC);this.FC=true;};}function Fk(name,EC){this.name=name;this.EC=EC;this.FC=false;this.GC();}{Fk.Gk=function (name,Xj){var R=new Fk(name,Xj.src);R.Xj=Xj;R.vb=new g(Xj.width,Xj.height);R.FC=true;return R;};Fk.prototype.GC=function (){if(this.EC!=null){var Vn=this;var IC=document.createElement("img");IC.onload=function (yC){var JC=yC.target;Vn.FC=true;Vn.Xj=JC;Vn.vb=new g(JC.width,JC.height);};IC.src=this.EC;}};}function KC(rp,LC,MC,NC,OC){this.rp=rp.d("name");this.LC=LC.d("name");this.MC=MC.d("name");this.NC=NC.d("name");this.OC=OC.d("name");this.PC=[this.rp,this.LC,this.MC,this.NC,this.OC];this.PC["Images"]=this.rp;this.PC["Sounds"]=this.LC;this.PC["Videos"]=this.MC;this.PC["Fonts"]=this.NC;this.PC["TextStrings"]=this.OC;}{KC.prototype.QC=function (){var RC=true;for(var SC=0;SC<this.PC.length;SC++){var TC=this.PC[SC];for(var H=0;H<TC.length;H++){var pf=TC[H];if(pf.FC==false){RC=false;break;}}if(RC==false){break;}}return RC;};KC.prototype.UC=function (VC,WC,Wc){var XC=this.YC[VC][WC];this.ZC=setInterval(this.UC_aD.bind(this,XC,Wc),100 );};KC.prototype.UC_aD=function (XC,Wc){if(XC.FC==true){clearInterval(this.ZC);Wc.call();}};KC.prototype.bD=function (Wc){this.ZC=setInterval(this.bD_aD.bind(this,Wc),100 );};KC.prototype.bD_aD=function (Wc){if(this.QC()==true){clearInterval(this.ZC);Wc.call();}};KC.prototype.cD=function (rp){for(var H=0;H<rp.length;H++){var Vn=rp[H];if(this.rp[Vn.name]==null){this.rp.push(Vn);this.rp[Vn.name]=Vn;}}};KC.prototype.dD=function (name){return this.NC[name];};KC.prototype.tp=function (name){return this.rp[name];};KC.prototype.eD=function (name){return this.LC[name];};KC.prototype.Fc=function (name){return this.OC[name];};KC.prototype.fD=function (name){return this.MC[name];};}function gD(name,EC,Ho){this.name=name;this.EC=EC;this.Ho=Ho;this.hD=0;this.iD=false;}{gD.prototype.jD=function (j,kD){this.dd=document.createElement("audio");this.dd.lD=this;this.dd.mD=true;this.dd.nD=this.oD.bind(this,j);this.dd.pD=this.Ho;this.dd.kD=kD;var qD=document.createElement("source");qD.src=this.EC;this.dd.appendChild(qD);return this.dd;};gD.prototype.rD=function (j){var hD=this.dd.sD;this.Mj(j);this.hD=hD;};gD.prototype.tD=function (j,kD){if(this.iD==false){this.iD=true;this.jD(j,kD);this.dd.sD=this.hD;j.xk.Bk(this.dd);}};gD.prototype.Ib=function (){this.hD=0;};gD.prototype.Mj=function (j,yC){if(this.iD==true){this.iD=false;var dd=(yC==null?this.dd:yC.uD);j.xk.yk(dd);this.hD=0;}};gD.prototype.oD=function (j,yC){if(this.Ho==false){this.Mj(j,yC);}};}function tb(LC){this.LC=LC;this.LC.d("name");this.vD=1;this.wD=1;this.xD=null;}{tb.ub=function (){var R=[new Gf(1,"100%"),new Gf(0,"0%"),new Gf(.1,"10%"),new Gf(.2,"20%"),new Gf(.3,"30%"),new Gf(.4,"40%"),new Gf(.5,"50%"),new Gf(.6,"60%"),new Gf(.7,"70%"),new Gf(.8,"80%"),new Gf(.9,"90%"),];return R;};tb.prototype.Ib=function (){for(var H=0;H<this.LC.length;H++){var lD=this.LC[H];lD.hD=0;}};tb.prototype.yD=function (j,zD){this.LC[zD].tD(j,this.wD);};tb.prototype.AD=function (j,BD){var CD=this.LC[BD];var DD=this.xD;if(DD!=null){if(DD.name!=BD){DD.Mj(j);}}CD.tD(j,this.vD);this.xD=CD;};}function ED(name,EC){this.name=name;this.EC=EC;this.GC();}{ED.FD=function (name,Cb){var R=new (name,null);R.Cb=Cb;return R;};ED.prototype.GC=function (){var text=this;var GD=new XMLHttpRequest();GD.open("GET",this.EC);GD.onreadystatechange=function (){text.Cb=GD.responseText;text.FC=true;};GD.send();};}function Kc(HD,jb){this.HD=HD;this.jb=jb;this.ID=false;this.qg=[new rg("Escape","VideoSkip",true),new rg("Gamepad0Button0","VideoSkip",true),].d("inputName");}{Kc.prototype.Kd=function (){};Kc.prototype.wg=function (j){if(this.JD==null){j.o.wk(j);this.JD=j.KD.MC[this.HD];this.JD.tD(j);}if(this.JD.LD==false){var MD=false;var xg=j.xg;if(xg.lC()==true){xg.lC(false);MD=true;}else {var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var ND=this.qg[zg.name];if(ND!=null){zg.Ag=false;var Dg=ND.Dg;if(Dg=="VideoSkip"){MD=true;}}}}}if(MD==true){this.JD.Mj(j);}}if(this.JD.LD==true){var o=j.o;o.Ej("Black","Black");o.Ck(j);j.jb=new nb(this.jb,this);}};}function OD(name,EC){this.name=name;this.EC=EC;}{OD.prototype.jD=function (j){this.dd=document.createElement("video");this.dd.src=this.EC;this.dd.JD=this;this.dd.mD=true;this.dd.nD=this.Mj.bind(this,j);var N=j.o.vb;this.dd.width=N.G;this.dd.height=N.t;return this.dd;};OD.prototype.tD=function (j){this.LD=false;j.xk.Bk(this.jD(j));};OD.prototype.Mj=function (j,yC){var dd=(yC==null?this.dd:yC.uD);j.xk.yk(dd);this.LD=true;};}function PD(MC){this.MC=MC;this.MC.d("name");}function QD(RD){this.RD=RD;}{QD.prototype.Kd=function (j,Eb,o,Zf,Co){j.sb.yD(j,this.RD);};}function SD(name,TD){this.name=name;this.TD=TD;}{SD.eb=function (){if(SD._eb==null){SD._eb=new SD_eb();}return SD._eb;};function SD_eb(){this.UD=new SD("DoNothing",function (VD){})}}function WD(XD,target){this.XD=XD;this.target=target;}{WD.prototype.wg=function (j,Eb,Pv,Co){this.XD(j,Eb,Pv,Co,this.target);}}function YD(nt,ZD,aE){this.nt=nt;this.ZD=ZD;this.aE=aE;if(this.ZD==null){this.ZD=[];}this.bE=0;this.cE=null;}{YD.prototype.wg=function (j,Eb,Pv,Co){if(this.bE>0){this.bE--;}else {for(var dE=0;dE<this.ZD.length;dE++){var eE=this.ZD[dE];var fE=Pv.gE(eE);if(fE!=null){for(var sy=0;sy<fE.length;sy++){var hE=fE[sy];if(hE!=Co){var iE=hE.YD;var jE=(iE.bE==0);if(jE){var kE=Co.YD.nt;var lE=iE.nt;var mE=j.mE;var nE=mE.pt(kE,lE);if(hE==this.cE){if(nE){nE=false;}else {this.cE=null;}}if(nE){this.aE(j,Eb,Pv,Co,hE);}}}}}}}};}function oE(pE){this.pE=pE;}{oE.Ov=function (j,Eb,Pv,Co){var qE=Co.oE;var pE=qE.pE;for(var H=0;H<pE.length;H++){var Vv=pE[H];Vv.Ov(j,Eb,Pv,Co);}};oE.prototype.wg=function (j,Eb,Pv,Co){oE.Ov(j,Eb,Pv,Co);};}function rE(){}function sE(Sv){this.Sv=Sv.d("name");}function tE(Yf){this.Yf=Yf;}{tE.prototype.wg=function (j,Eb,Pv,Co){this.bg=Co.ag.bg;this.Yf.Kd(j,Eb,j.o,this,Co);};}function uE(name,vE){this.name=name;this.vE=vE;for(var H=0;H<this.vE.length;H++){var wE=this.vE[H];var Tq=wE.constructor.name;this[Tq]=wE;}}function xE(yE,zE){this.yE=yE;this.zE=zE;}{xE.prototype.wg=function (j,Eb,Pv,AE){this.yE--;if(this.yE<=0){Pv.BE.push(AE);if(this.zE!=null){this.zE(j,Eb,Pv,AE);}}};}function CE(DE){this.DE=DE;}function EE(){}{EE.prototype.wg=function (j,Eb,Pv,FE){var GE=FE.ag.bg;GE.Rk.uw(g.eb().fb);};}function HE(jh,IE){this.jh=jh;this.IE=IE;}{HE.prototype.yh=function (Eb){return Eb.Rv.JE[this.jh];};HE.prototype.toString=function (){return this.jh+" ("+this.IE+")";};}function KE(name){this.name=name;}function LE(Fe){this.Fe=Fe||[];this.Fe.d("name");}{LE.prototype.ME=function (NE){var OE=this.Fe[NE.jh];var PE=(OE==null?0 :OE.IE);var R=(PE>=NE.IE);return R;};LE.prototype.QE=function (RE){var SE=RE.jh;var OE=this.Fe[SE];if(OE==null){this.Fe.push(RE);this.Fe[SE]=RE;}else {OE.IE+=RE.IE;}};LE.prototype.TE=function (UE){var SE=UE.jh;var OE=this.Fe[SE];if(OE!=null){this.Fe.Lc(OE);delete this.Fe[SE];}};LE.prototype.VE=function (WE){var SE=WE.jh;var OE=this.Fe[SE];if(OE!=null){OE.IE-=WE.IE;if(OE.IE<=0){this.Fe.Lc(OE);delete this.Fe[SE];}}};LE.prototype.XE=function (jn){for(var H=0;H<this.Fe.length;H++){var pf=this.Fe[H];jn.QE(pf);this.TE(pf);}};}function YE(ZE,aF){this.ZE=ZE;this.aF=aF;}{YE.prototype.wg=function (j,Eb,Pv,bF){if(this.ZE<=0){Pv.BE.push(bF);if(this.aF!=null){this.aF(j,Eb,Pv,bF);}}};}function ag(bg){this.bg=bg;}{ag.prototype.wg=function (j,Eb,Pv,Co){var bg=this.bg;bg.gw.Md(bg.ix);bg.ix.clear();bg.qd.Md(bg.gw);var kx=bg.kx;if(kx.Vx()!=0){bg.kx.Yx(bg.Rk);}};}function cF(dF){this.dF=dF;}{cF.prototype.wg=function (j,Eb,Pv,Co){};}function eF(fF){this.fF=[];this._gE={};this.gF=fF.slice();this.BE=[];this.hF=[ag.name,oE.name,YD.name,EE.name,WD.name,iF.name,xE.name,YE.name,];}{eF.prototype.Kd=function (j,Eb){var jF=this.gE(tE.name);for(var H=0;H<jF.length;H++){var Co=jF[H];var Zf=Co.tE;Zf.wg(j,Eb,this,Co);}};eF.prototype.gE=function (Tq){var gi=this._gE[Tq];if(gi==null){gi=[];this._gE[Tq]=gi;}return gi;};eF.prototype.kF=function (){for(var H=0;H<this.BE.length;H++){var Co=this.BE[H];this.lF(Co);}this.BE.clear();};eF.prototype.mF=function (j,Eb){for(var H=0;H<this.gF.length;H++){var Co=this.gF[H];this.nF(j,Eb,Co);}this.gF.clear();};eF.prototype.lF=function (Co){var oF=Co.vE;for(var dE=0;dE<oF.length;dE++){var wE=oF[dE];var Tq=wE.constructor.name;var fE=this.gE(Tq);fE.Lc(Co);}this.fF.Lc(Co);delete this.fF[Co.name];};eF.prototype.nF=function (j,Eb,Co){this.fF.push(Co);this.fF[Co.name]=Co;var oF=Co.vE;for(var dE=0;dE<oF.length;dE++){var wE=oF[dE];var Tq=wE.constructor.name;var fE=this.gE(Tq);fE.push(Co);if(wE.Db!=null){wE.Db(j,Eb,this,Co);}}};eF.prototype.pF=function (j,Eb){j.xg.jC();};eF.prototype.Db=function (j,Eb){};eF.prototype.wg=function (j,Eb){this.kF();this.mF(j,Eb);for(var dE=0;dE<this.hF.length;dE++){var Tq=this.hF[dE];var fE=this.gE(Tq);if(fE!=null){for(var H=0;H<fE.length;H++){var Co=fE[H];var qF=Co[Tq];qF.wg(j,Eb,this,Co);}}}};}function rF(k,sF,tF){this.k=k;this.CC=[SD.eb().UD,new SD("ShowMenu",function TD(j,Eb,Pv,VD){var jb=new kb(j.lb.ib(j));jb=new nb(jb,j.ob);j.jb=jb;}),new SD("MoveDown",function TD(j,Eb,Pv,VD){Pv.uF(Eb,VD,g.eb().Nw);}),new SD("MoveLeft",function TD(j,Eb,Pv,VD){Pv.uF(Eb,VD,g.eb().Gw);}),new SD("MoveRight",function TD(j,Eb,Pv,VD){Pv.uF(Eb,VD,g.eb().Jw);}),new SD("MoveUp",function TD(j,Eb,Pv,VD){Pv.uF(Eb,VD,g.eb().Mw);}),new SD("Fire",function TD(j,Eb,Pv,VD){var vF=new HE("Weapon",1);var wF=VD.LE.ME(vF);if(wF==false){return ;}var xF=VD.ag.bg;var yF=xF.qd;var zF=xF.gw;var AF=zF.hu();if(AF==0){return ;}var BF="Cyan";var CF=3;var DF=new op([new cp(CF,BF),new Op(new gq("Projectile",BF),new g(0,CF))]);var EF=zF.L().cn();var FF=VD.YD.nt.Gj;var GF=yF.L().Md(EF.L().ab(FF).Uw().Uw());var HF=new yd(GF);HF.gw.q(zF).Uw();var IF=new ms(GF,CF);var JF=function (j,Eb,Pv,KF,hE){if(hE.YE!=null){Pv.BE.push(hE);}};var LF=new uE("Projectile",[new rE(),new xE(32),new ag(HF),new YD(IF,[YE.name],JF),new tE(DF)]);Pv.gF.push(LF);}),].d("name");this.qg=[new rg("Escape","ShowMenu"),new rg("ArrowDown","MoveDown"),new rg("ArrowLeft","MoveLeft"),new rg("ArrowRight","MoveRight"),new rg("ArrowUp","MoveUp"),new rg("Enter","Fire"),new rg("Gamepad0Down","MoveDown"),new rg("Gamepad0Left","MoveLeft"),new rg("Gamepad0Right","MoveRight"),new rg("Gamepad0Up","MoveUp"),new rg("Gamepad0Button0","Fire"),].d("inputName");var MF=10;var NF=MF/2;var OF=new g(1,1,1).ab(MF);var fF=[];var GE=new yd(sF);var PF=new ms(GE.qd,NF);var QF="Gray";var RF=new cp(NF,QF);var SF=new ep(new Np(),[new Wp(MF*1.25,QF)]);var TF=new Zp(OF.L().gn(4),QF);var UF=new ep(new Np(),[new Eo("MoveRight",5,[new Op(TF,new g(1,0).ab(MF)),new Op(TF,new g(1.5,0).ab(MF)),new Op(TF,new g(2,0).ab(MF)),]),new Eo("MoveDown",5,[new Op(TF,new g(0,1).ab(MF)),new Op(TF,new g(0,1.5).ab(MF)),new Op(TF,new g(0,2).ab(MF)),]),new Eo("MoveLeft",5,[new Op(TF,new g(-1,0).ab(MF)),new Op(TF,new g(-1.5,0).ab(MF)),new Op(TF,new g(-2,0).ab(MF)),]),new Eo("MoveUp",5,[new Op(TF,new g(0,-1).ab(MF)),new Op(TF,new g(0,-1.5).ab(MF)),new Op(TF,new g(0,-2).ab(MF)),]),]);var VF=new Op(new gq("Player",QF),new g(0,MF));var WF=new op([SF,RF,VF,UF,]);var XF=function (j,Eb,Pv,KF,hE){var YF=null;if(hE.rE!=null){YF="You lose!";}else if(hE.CE!=null){var ZF=new HE("Key",hE.CE.DE);if(KF.LE.ME(ZF)){YF="You win!";}}else if(hE.HE!=null){var pf=hE.HE;KF.LE.QE(pf);Pv.BE.push(hE);}else if(hE.aG!=null){hE.YD.bE=100;hE.tE.Jo["Friendly"].Mo=0;var sh=j.Ec.Fc("Conversation").Cb;var th=Mg.bd(sh);var Ph=j.ob;var bG=new xh(th,function zh(Oh){j.jb=Ph;});var cG=j.o.p.L();var dG=bG.Nh(cG,j);var jb=new kb(dG);j.jb=jb;}if(YF!=null){var eG=new Hg(YF,new kb(j.lb.Jb(j)),j.ob,j.o.p.L().Q());j.jb=eG;}};var fG=new Nv("SpeedMax",5);var gG=new Nv("Friction",.03);var hG=new uE("Player",[new ag(GE),new oE([gG,fG]),new YD(PF,[YD.name],XF),new tE(WF),new LE(),new iF(),new EE(),]);fF.push(hG);var iG="Green";var jG=new g().ax().w(this.k);var kG=new yd(jG);var lG=new ms(kG.qd,NF);var mG=new mp(NF,NF*.8,.125,iG,null);var nG=new op([new Eo("Friendly",100,[new Eo("Blinking",3,[new Np(),mG]),mG],false),new Op(new gq("Talker",iG),new g(0,MF))]);var oG=new uE("Friendly",[new ag(kG),new oE([fG]),new YD(lG),new tE(nG),new aG("AnEveningWithProfessorSurly"),new WD(function XD(j,Eb,Pv,pG,target){var VD=pG.WD;var tw=VD.target;if(tw==null){tw=new g().ax().w(Pv.k);VD.target=tw;}var xF=pG.ag.bg;var yF=xF.qd;var qG=tw.L().P(yF).hu();if(qG>=2){xF.gw.q(tw).P(yF).cn();}else {yF.q(tw);VD.target=null;}}),]);fF.push(oG);var rG="Red";var sG=rG;var tG=this.k.L().P(GE.qd);var uG=new yd(tG);var vG=new ps([new g(0,-MF).Q(),new g(MF,MF).Q(),new g(-MF,MF).Q(),]);var wG=ts.Ly(tG,vG,1 );var xG=new op([new Qp(new az(vG.ek),sG,null),new Op(new gq("Chaser",sG),new g(0,MF))]);var yG=new uE("Enemy",[new ag(uG),new oE([fG]),new YD(wG),new rE(),new YE(1),new tE(xG),new WD(function XD(j,Eb,Pv,VD,zG){var target=Pv.fF[zG];var xF=VD.ag.bg;xF.gw.q(target.ag.bg.qd).P(xF.qd).cn();},"Player"),]);fF.push(yG);var AG=rG;var BG=["....xxxx....",".....xx.....",".....xx....","....xxxx....","x..xx..xx..x","xxxx.xx.xxxx","xxxx.xx.xxxx","x..xx..xx..x","....xxxx....",".....xx.....",".....xx.....","....xxxx....",];var CG=new g(BG[0].length,BG.length,1
);var DG=new g(2,2,1);var EG=new yy(CG,DG,new Gy(),function Jp(map,Dp,Ey){var FG=map.zy[Dp.t][Dp.G];var Kp=(FG=="x"?"Blocking":"Open");var GG=(FG=="x");Ey.Lp=Kp;Ey.dv=GG;return Ey;},BG);var HG={"Blocking":new Zp(DG,AG),"Open":new Np()};var IG=new op([new zp(EG,HG),new Op(new gq("Mine",AG),new g(0,MF))]);var JG=3;for(var H=0;H<JG;H++){var KG=new g().ax().w(k);var LG=new yd(KG);var MG=new uE("ObstacleMapped",[new ag(LG),new YD(new ys(EG,LG)),new rE(),new tE(IG)]);fF.push(MG);}this.Lk=new Dr(this.k.L(),null,new yd(new g(0,0,0),gx.eb().qx.L()));var NG=4;var OG=5;for(var H=0;H<NG;H++){var PG;if(H%2 ==0){PG=new g(k.G,OG,1);}else {PG=new g(OG,k.t,1);}var QG=PG.L().Q().M();if(H>=2){QG.Ww().Md(k);}var RG=new yd(QG);var SG=new is(QG,PG);var TG=new Zp(PG,AG);var UG=new uE("ObstacleWall"+H,[new ag(RG),new YD(SG),new rE(),new tE(TG)]);fF.push(UG);}var VG="Yellow";var WG=new op([new cp(NF,VG),new Op(new gq("Key",VG),new g(0,MF))]);var XG=OG*3;var YG=this.k.L().P(new g(1,1,0).ab(XG));for(var H=0;H<tF;H++){var ZG=new g().ax().w(YG);var aH=new ms(ZG,NF);var bH=new uE("Key"+H,[new HE("Key",1),new ag(new yd(ZG)),new YD(aH),new tE(WG)]);fF.push(bH);}var cH="Cyan";var dH=new op([new cp(NF,cH),new Op(new gq("Weapon",cH),new g(0,MF))]);var eH=new g().ax().w(YG);var fH=new ms(eH,NF);var gH=new uE("Weapon",[new HE("Weapon",1),new ag(new yd(eH)),new YD(fH),new tE(dH)]);fF.push(gH);var hH=new g().ax().ab(.5
).qk(.25,.25,0
).w(this.k);var iH=new yd(hH);var jH="Green";var kH=new uE("Goal",[new ag(iH),new YD(new is(hH,OF)),new tE(new op([new Zp(OF,jH),new gq(""+tF,VG),new Op(new gq("Exit",jH),new g(0,MF))])),new CE(tF),]);fF.push(kH);var lH=kH.ag.bg.qd;var mH=new yd(lH);mH.kx.Ux.Cb=0.002;var SG=new Zx(new mz(new ms(lH,MF*3),MF*2 ),new qz(lH,mH.Rk.nn,.85 ));var nH=new uE("ObstacleRing",[new ag(mH),new YD(SG),new rE(),new tE(new Ro(SG,AG,AG))]);fF.push(nH);eF.call(this,fF);this.Ld=new g();this.xd=new yd(this.Ld);}{rF.prototype=Object.create(eF.prototype);rF.prototype.constructor=rF;rF.prototype.Kd_oH=eF.prototype.Kd;rF.prototype.Kd=function (j,Eb){var o=j.o;o.Ej("Gray","Black");var xd=this.xd;var Ld=xd.qd;var FE=this.fF["Player"];var GE=FE.ag.bg;var Lk=this.Lk;Lk.bg.qd.q(GE.qd).af(Lk.Fr,this.k.L().P(Lk.Fr));this.Kd_oH(j,Eb);};rF.prototype.uF=function (Eb,Co,pH){var ew=Co.ag.bg;ew.Rk.uw(pH);var gw=ew.gw;if(gw.Vw(pH)==false){ew.nx=Eb.qH;}ew.ix.q(pH).ab(.5 );};}function iF(FE){this.FE=FE;}{iF.prototype.wg=function (j,Eb,Pv,KF){var k=Pv.k;var qg=Pv.qg;var CC=Pv.CC;var Lk=Pv.Lk;var GE=KF.ag.bg;var xg=j.xg;if(xg.lC()==true){xg.lC(false);GE.qd.q(xg.Yd).r(j.o.Fg).Md(Lk.bg.qd).P(Lk.Fr).Qo(k);j.sb.yD(j,"Sound");}var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var Cg=qg[zg.name];if(Cg!=null){var Dg=Cg.Dg;var BC=CC[Dg];BC.TD(j,Eb,Pv,KF);if(Cg.Eg==true){zg.Ag=false;}}}}};}function aG(rH){this.rH=rH;}function sH(name,tH,o,Ec,Eb){this.name=name;this.tH=tH;this.o=o;this.Ec=Ec;this.Eb=Eb;this.jb=null;}{sH.new =function (name,tH,o,Ec,Eb){var R=new sH(name,tH,o,Ec,Eb,[]);var uH=vH.wH().xH["debug"];R.uH=uH;return R;};sH.prototype.Db=function (){this.mE=new es();this.xk=new yH();this.xk.Db(this);this.ad=new zH();this.AH=new BH(this.name+"_",this.ad);this.Qb=new CH(this.AH);this.o.Db(this);this.sb=new tb(this.Ec.LC);this.KD=new PD(this.Ec.MC);this.lb=new b([If.eb().Jf]);var DH=new kb(this.lb.Jb(this,this.o.vb));DH=new nb(DH,DH);this.jb=DH;this.xg=new VB();this.xg.Db(this);this.tH.Db(this.wg.bind(this));};sH.prototype.Ib=function (){this.sb.Ib();};sH.prototype.wg=function (){this.xg.wg(this);if(this.jb!=null){if(this.ob!=null&&this.ob.pF!=null){this.ob.pF(this);}this.ob=this.jb;this.jb=null;if(this.ob.Db!=null){this.ob.Db(this);}}this.ob.wg(this);};}function Fb(Eb){this.name="World";this.Eb=Eb;}{Fb.prototype.Kd=function (j){this.Eb.Kd(j);};Fb.prototype.pF=function (j){j.sb.xD.rD(j);};Fb.prototype.Db=function (j){j.Eb=this.Eb;this.Eb.Db(j);var sb=j.sb;sb.AD(j,"Music");};Fb.prototype.wg=function (j){this.Eb.wg(j);this.Kd(j);};}function Pb(name,zc,Rv,Pv){this.name=name;this.zc=zc;this.qH=0;this.Rv=Rv;this.Pv=Pv;}{Pb.new =function (j){var hc=ic.hc();var jc=hc.kc_lc_mc();var Pv=new rF(j.o.vb.L(),new g(15,15),5 );Pv.mF(j,null);var Sv=[Tv.eb().cw,Tv.eb().vw,];var Rv=new sE(Sv);var R=new Pb("World-"+jc,hc,Rv,Pv);return R;};Pb.prototype.Kd=function (j){this.Pv.Kd(j,this);};Pb.prototype.Db=function (j){this.Pv.Db(j,this);};Pb.prototype.wg=function (j){this.Pv.wg(j,this);this.qH++;};}function cc(name,Ob){this.name=name;this.Ob=Ob;}function CH(AH){this.AH=AH;this.Tq="Profiles";}{CH.prototype.dc=function (Nb){var ec=this.ec();ec.push(Nb);this.AH.save(this.Tq,ec);};CH.prototype.Xb=function (EH){var ec=this.ec();var FH=this.GH(ec,EH.name);ec.cr(FH);this.AH.save(this.Tq,ec);};CH.prototype.GH=function (ec,HH){var R=null;for(var H=0;H<ec.length;H++){var Nb=ec[H];if(Nb.name==HH){R=H;break;}}return R;};CH.prototype.Rb=function (IH){var ec=this.ec();var FH=this.GH(ec,IH.name);if(FH==null){ec.push(IH);}else {ec.cr(FH).Vq(IH,FH);}try{this.AH.save(this.Tq,ec);}catch (JH){var KH="Error attempting to save: "+JH;alert(KH);}};CH.prototype.ec=function (){var ec=this.AH.GC(this.Tq);if(ec==null){ec=[];this.AH.save(this.Tq,ec);}return ec;};CH.prototype.nc=function (EH){this.AH.save(this.Tq,"");};}function hd(){}{hd.prototype.LH=function (MH,Wc,NH){var OH=new PH();OH.QH=MH;OH.Wc=Wc;OH.NH=NH;OH.onload=this.RH_SH.bind(this);OH.TH(MH);};hd.prototype.jd=function (MH,Wc,NH){var OH=new PH();OH.QH=MH;OH.Wc=Wc;OH.NH=NH;OH.onload=this.RH_SH.bind(this);OH.UH(MH);};hd.prototype.RH_SH=function (VH){var OH=VH.target;var WH=OH.Rx;var XH=OH.QH.name;var Wc=OH.Wc;var NH=OH.NH;Wc.call(NH,WH);};hd.prototype.YH=function (ZH,XH){var aI=new bI(ZH.length);var cI=new dI(aI);for(var H=0;H<ZH.length;H++){cI[H]=ZH.charCodeAt(H);}var eI=new fI([aI],{type:'gI/gI'});var hI=document.createElement("a");hI.iI=window.jI.kI(eI);hI.lI=XH;hI.gb();};hd.prototype.pd=function (mI,nI){var oI=new fI([mI],{type:"text/plain"});var hI=document.createElement("a");hI.iI=window.jI.kI(oI);hI.lI=nI;hI.gb();};}function zH(){}{zH.prototype.bd=function (pI){var qI=JSON.parse(pI);qI.__proto__=rI.prototype;qI.sI();var R=qI.tI([]);return R;};zH.prototype.od=function (uI,vI){var qI=new rI(uI);qI.Gx([],[]);var wI=JSON.stringify(qI,null,(vI==true?4 :null));return wI;};}function rI(xI){this.Jl=null;this.id=null;this.yI=null;this.zI=xI;}{rI.prototype.Gx=function (AI,BI){var xI=this.zI;if(xI!=null){var CI=xI.constructor.name;var DI=AI.indexOf (xI);if(DI>=0){var EI=BI[DI];this.id=EI.id;this.yI=true;this.zI=null;}else {this.yI=false;var FI=AI.length;this.id=FI;AI.push(xI);BI[FI]=this;this.Jl=CI;if(CI=="Function"){this.zI=xI.toString();}else {var zb={};this.SC=zb;for(var Tq in xI){if(xI.__proto__[Tq]==null){var GI=xI[Tq];if(GI==null){Td=null;}else {var HI=GI.constructor.name;if(HI=="Boolean"||HI=="Number"||HI=="String"){Td=GI;}else {Td=new rI(GI);}}zb[Tq]=Td;}}delete this.zI;for(var cq in zb){var Td=zb[cq];if(Td!=null){var II=Td.constructor.name;if(II=="SerializerNode"){Td.Gx(AI,BI);}}}}}}return this;};rI.prototype.sI=function (){var zb=this.SC;if(zb!=null){for(var cq in zb){var Td=zb[cq];if(Td!=null){var II=Td.constructor.name;if(II=="Object"){Td.__proto__=rI.prototype;Td.sI();}}}}};rI.prototype.tI=function (JI){var KI=this.yI;if(KI==true){var LI=JI[this.id];this.zI=LI.zI;}else {JI[this.id]=this;var CI=this.Jl;if(CI==null){}else if(CI=="Array"){this.zI=[];}else if(CI=="Function"){this.zI=Ji("("+this.zI+")");}else if(CI=="Boolean"||CI=="Number"||CI=="String"){}else {this.zI={};var MI=Ji("("+CI+")");this.zI.__proto__=MI.prototype;}var zb=this.SC;if(zb!=null){for(var cq in zb){var Td=zb[cq];if(Td!=null){if(Td.constructor.name=="SerializerNode"){Td=Td.tI(JI);}}this.zI[cq]=Td;}}}return this.zI;};}function BH(NI,ad){this.NI=NI;if(this.NI==null){this.NI="";}this.ad=ad;}{BH.prototype.GC=function (Tq){var R;var OI=this.NI+Tq;var QI=localStorage.getItem(OI);if(QI==null){R=null;}else {R=this.ad.bd(QI);}return R;};BH.prototype.save=function (Tq,RI){var SI=this.ad.od(RI);var OI=this.NI+Tq;localStorage.setItem(OI,SI);};}function Uc(ld,md){this.ld=ld;this.md=md;this.qg=[new rg("Escape","ControlCancel",true),new rg("Gamepad0Button0","ControlCancel",true),].d("inputName");}{Uc.prototype.pF=function (j){j.xk.yk(this.dd);var o=j.o;o.Ej("Black","Black");o.Ck(j);};Uc.prototype.Db=function (j){var o=j.o;o.wk(j);var TI=document.createElement("div");TI.style="border:1px solid;width:"+o.vb.G+";height:"+o.vb.t;var UI=document.createElement("label");UI.innerHTML="Choose a file and click Load."+"  Due to web browser security features,"+" a mouse or keyboard will likely be necessary.";TI.appendChild(UI);var VI=document.createElement("input");VI.type="file";var WI=document.createElement("div");WI.appendChild(VI);TI.appendChild(WI);var XI=document.createElement("button");XI.innerHTML="Load";XI.YI=this.XI_ZI.bind(this,j);var aJ=document.createElement("button");aJ.innerHTML="Cancel";aJ.YI=this.aJ_ZI.bind(this,j);var bJ=document.createElement("div");bJ.appendChild(XI);bJ.appendChild(aJ);TI.appendChild(bJ);j.xk.Bk(TI);VI.cJ();this.dd=TI;};Uc.prototype.wg=function (j){var xg=j.xg;var yg=xg.yg;for(var H=0;H<yg.length;H++){var zg=yg[H];if(zg.Ag==true){var ND=this.qg[zg.name];if(ND!=null){zg.Ag=false;var Dg=ND.Dg;if(Dg=="ControlCancel"){j.jb=this.md;}}}}};Uc.prototype.aJ_ZI=function (j,yC){j.jb=this.md;};Uc.prototype.XI_ZI=function (j,yC){var VI=this.dd.ed("input")[0];var fd=VI.gd[0];if(fd!=null){j.jb=this.ld;}};}function dJ(){}{dJ.prototype.eJ=function (){var Lk=new Dr(new g(100,100,1),100,new yd(new g(0,0,-100),new gx(new g(0,0,1),new g(0,1,0))));var fJ=[new g(0,0,0),new g(1,0,0),new g(0,1,0),new g(0,0,1),new g(-1,0,0),new g(0,-1,0),new g(0,0,-1),new g(1,2,3),];for(var H=0;H<fJ.length;H++){var gJ=fJ[H];var Vr=Lk.bp(gJ.L());var hJ=Lk.Ur(Vr);hJ.round();var iJ=hJ.Vw(gJ);var jJ="Before:"+gJ.toString()+", After:"+hJ.toString();kJ.lJ(true,iJ,jJ);}};}function mJ(){this.mE=new es();}{mJ.prototype.nJ=function (){var mE=this.mE;var oJ=ts.Jy();var pJ=ts.Jy().Pn(new Sn_Up(new g(1,1,1)));var qJ=ts.Jy().Pn(new Sn_Up(new g(-1,-1,-1)));var rJ=ts.Jy().Pn(new Sn_pA(new gx(new g(1,1,1).cn(),new g(0,0,1))));var sJ=new ms(new g(0,0,0),1);var tJ=new ms(new g(1,1,1),1);var mt=oJ;var ot=sJ;var uJ=mE.pt(mt,ot);kJ.lJ(true,uJ);var mt=pJ;var ot=sJ;var uJ=mE.pt(mt,ot);kJ.lJ(true,uJ);var mt=qJ;var ot=tJ;var uJ=mE.pt(mt,ot);kJ.lJ(false,uJ);};mJ.prototype.vJ=function (){var mE=this.mE;var wJ=new ws([new g(0,0,-1),new g(0,0,1)]);var xJ=new ws([new g(0,0,1),new g(0,0,-1)]);var yJ=new ws([new g(0,0,0),new g(0,0,1)]);var zJ=new ws([new g(0,0,0),new g(0,0,2)]);var AJ=new ws([new g(0,0,1),new g(0,0,2)]);var BJ=new ws([new g(2,0,-1),new g(2,0,1)]);var CJ=new ps([new g(-1,-1,0),new g(1,-1,0),new g(1,1,0),new g(-1,1,0)]);var DJ=new ps([new g(-1,-1,1),new g(1,-1,1),new g(1,1,1),new g(-1,1,1)]);var uJ=mE.qs(wJ,CJ);kJ.lJ(true,uJ);var uJ=mE.qs(xJ,CJ);kJ.lJ(true,uJ);var uJ=mE.qs(yJ,CJ);kJ.lJ(true,uJ);var uJ=mE.qs(zJ,CJ);kJ.lJ(true,uJ);var uJ=mE.qs(zJ,DJ);kJ.lJ(true,uJ);var uJ=mE.qs(AJ,CJ);kJ.lJ(false,uJ);var uJ=mE.qs(BJ,CJ);kJ.lJ(false,uJ);var EJ=new ws([new g(17,164,-1),new g(18,169,-1),]);var FJ=new ps([new g(10,165,-10),new g(70,165,-10),new g(70,165,0),new g(10,165,0),]);var uJ=mE.qs(EJ,FJ);kJ.lJ(true,uJ);var EJ=new ws([new g(0,231,-1),new g(0,225.6,-1),]);var FJ=new ps([new g(10,230,-10),new g(-10,230,-10),new g(-10,230,0),new g(10,230,0),]);var uJ=mE.qs(EJ,FJ);kJ.lJ(true,uJ);};mJ.prototype.GJ=function (){var mE=this.mE;var sJ=new ms(new g(0,0,0),1,);var HJ=new ms(new g(2,0,0),1,);var IJ=new mz(new ms(new g(0,0,0),3 ),2 );var uJ=mE.pt(sJ,IJ);kJ.lJ(false,uJ);uJ=mE.pt(HJ,IJ);kJ.lJ(true,uJ);var JJ=new qz(IJ.Zo.vj,new g(1,0,0),.5);uJ=mE.pt(sJ,JJ);kJ.lJ(true,uJ);uJ=mE.pt(HJ,JJ);kJ.lJ(true,uJ);var KJ=new Zx(IJ,JJ);uJ=mE.pt(sJ,KJ);kJ.lJ(false,uJ);uJ=mE.pt(HJ,KJ);kJ.lJ(true,uJ);var LJ=new qz(IJ.Zo.vj,new g(0,1,0),.5);uJ=mE.pt(sJ,LJ);kJ.lJ(true,uJ);uJ=mE.pt(HJ,LJ);kJ.lJ(false,uJ);var MJ=new Zx(IJ,LJ);uJ=mE.pt(sJ,MJ);kJ.lJ(false,uJ);uJ=mE.pt(HJ,MJ);kJ.lJ(false,uJ);};}function kJ(){}{kJ.lJ=function (NJ,OJ,l){if(NJ!=OJ){if(l==null){l="Expected: '"+NJ+"', Actual: '"+OJ+"'.";}PJ.QJ("Error running test: "+l);PJ.RJ();throw l;}};kJ.SJ=function (TJ){var UJ=TJ.constructor.name;for(var VJ in TJ){var WJ=TJ[VJ];if(WJ.constructor.name=="Function"){try{WJ.call(TJ);}catch (Yj){PJ.QJ("Test failed: "+UJ+"."+VJ+".");throw Yj;}}}PJ.QJ("All tests in test fixture "+UJ+" passed.");};kJ.XJ=function (YJ){for(var H=0;H<YJ.length;H++){var TJ=YJ[H];kJ.SJ(TJ);}};}function ic(year,month,day,hours,minutes,seconds){this.year=year;this.month=month;this.day=day;this.hours=hours;this.minutes=minutes;this.seconds=seconds;}{ic.ZJ=function (aK){var R=new ic(aK.getFullYear(),aK.getMonth()+1,aK.getDate(),aK.getHours(),aK.getMinutes(),aK.getSeconds());return R;};ic.hc=function (){return ic.ZJ(new Date());};ic.prototype.Vw=function (jn){var R=(this.year==jn.year&&this.month==jn.month&&this.day==jn.day&&this.hours==jn.hours&&this.minutes==jn.minutes&&this.seconds==jn.seconds);return R;};ic.prototype.kc_lc_mc=function (){var R=""+(""+this.month).vr(2,"0")+(""+this.day).vr(2,"0")+"-"+(""+this.hours).vr(2,"0")+(""+this.minutes).vr(2,"0")+"-"+(""+this.seconds).vr(2,"0");return R;};ic.prototype.Bc=function (){var R=""+this.year+"/"+(""+this.month).vr(2,"0")+"/"+(""+this.day).vr(2,"0")+"-"+(""+this.hours).vr(2,"0")+":"+(""+this.minutes).vr(2,"0")+":"+(""+this.seconds).vr(2,"0");return R;};}function yH(){}{yH.prototype.Bk=function (dd){this.Fm.appendChild(dd);};yH.prototype.yk=function (dd){this.Fm.removeChild(dd);};yH.prototype.Db=function (j){var Fm=this.Fm;if(Fm==null){var Fm=document.createElement("div");Fm.id="divMain";Fm.style.position="absolute";Fm.style.left="50%";Fm.style.top="50%";document.body.appendChild(Fm);this.Fm=Fm;}var o=j.o;Fm.style.marginLeft=0 -o.vb.G/2;Fm.style.marginTop=0 -o.vb.t/2;};}function mx(Cb){this.Cb=Cb;}{mx.prototype.Cd=function (){return this.Cb;};mx.prototype.Ye=function (Se){this.Cb=Se;return this.Cb;};}function bK(cK){this.cK=cK;var dK=1000;this.eK=Math.floor(dK/this.cK);}{bK.prototype.Db=function (fK){this.ZC=setInterval(fK,this.eK);};}function vH(gK){this.gK=gK;this.xH=[];var hK=this.gK.search.substring(1);var iK=hK.split("&");for(var H=0;H<iK.length;H++){var jK=iK[H];var kK=jK.split("=");var lK=kK[0];var mK=kK[1];this.xH.push(kK);this.xH[lK]=mK;}}{vH.wH=function (){return new vH(window.location);}}function nK(){localStorage.clear();var Ec=new KC([new Fk("Title","../Content/Images/Title.png"),],[new gD("Sound","../Content/Audio/Effects/Sound.wav",false),new gD("Music","../Content/Audio/Music/Music.mp3",true),],[new OD("Movie","../Content/Video/Movie.webm"),],[new DC("Font","../Content/Fonts/Font.ttf"),],[new ED("Conversation","../Content/Text/Conversation.json"),new ED("Instructions","../Content/Text/Instructions.txt"),]);var oK=new g(400,300,1);var o=new qi([oK,oK.L().Q(),oK.L().ab(2),],"Font",10,"Gray","White");var tH=new bK(20);var j=sH.new ("Cursor_Quest",tH,o,Ec,null);j.Db();}nK();</script ></body></html>
